<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aurora-lsk.asia","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:type" content="website">
<meta property="og:title" content="坤博客">
<meta property="og:url" content="https://aurora-lsk.asia/page/19/index.html">
<meta property="og:site_name" content="坤博客">
<meta property="og:description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="坤">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://aurora-lsk.asia/page/19/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>坤博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">坤博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/hello-world/" class="post-title-link" itemprop="url">欢迎来到我的博客</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>欢迎访问我的个人空间</h1>
<blockquote>
<p>这里是我的个人博客，记录学习、思考和生活的点滴。</p>
</blockquote>
<h2 id="关于我">关于我</h2>
<p>热爱编程，喜欢探索新技术，目前正在学习 Flask 和 Web 开发相关知识。</p>
<h2 id="我的技能">我的技能</h2>
<ul>
<li>Python 编程</li>
<li>Web 开发</li>
<li>数据分析</li>
<li>持续学习中…</li>
</ul>
<h2 id="最近在做什么">最近在做什么</h2>
<ul>
<li>学习 Flask 框架</li>
<li>构建个人博客</li>
<li>研究新的编程技术</li>
</ul>
<hr>
<p>如果您对我的文章有任何问题或建议，欢迎在评论区留言或通过以下方式联系我：</p>
<ul>
<li>Email: <a href="mailto:your.email@example.com">your.email@example.com</a></li>
<li>GitHub: <a target="_blank" rel="noopener" href="https://github.com/lsk-0912">Your GitHub</a></li>
</ul>
<p>感谢您的访问！更多内容请查看<a href="/archives/">归档</a>页面。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/python%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/python%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/" class="post-title-link" itemprop="url">python��װ����</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】python安装过程</h1>
<h2 id="�-】安装路�">�?】安装路�?</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.python.org/">https://www.python.org/</a></li>
</ul>
<h2 id="2-选择win系统">[2]选择win系统</h2>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326142834370.png" alt="image-20240326142834370"></p>
<h2 id="�-】搜索指定版�">�?】搜索指定版�?</h2>
<ul>
<li>win系统快捷�?【ctrl+f�?</li>
</ul>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326143229243.png" alt="image-20240326143229243"></p>
<ul>
<li>macos系统快捷键【command+f�?</li>
</ul>
<h3 id="�-）打开Python解释器官�">�?）打开Python解释器官�?</h3>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151055871.png"><img src="http://zhaochunze.dream521.site/202311151055871.png" alt="image-20231115105550707"></a></p>
<h3 id="�-）点击Downloads">�?）点击Downloads</h3>
<ul>
<li>选择macOS</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151133981.png"><img src="http://zhaochunze.dream521.site/202311151133981.png" alt="a227694c1db0b4a82a1ab5b54eb9ebc"></a></p>
<h3 id="�-）下载安装程�">�?）下载安装程�?</h3>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151132419.png"><img src="http://zhaochunze.dream521.site/202311151132419.png" alt="274616ac2ad83134b8eccab3749d420"></a></p>
<h2 id="�-】安装解释器（win�">�?】安装解释器（win�?</h2>
<h3 id="�-）双击安装好的程�">�?）双击安装好的程�?</h3>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326150017091.png" alt="image-20240326150017091"></p>
<ul>
<li></li>
</ul>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326150042839.png" alt="image-20240326150042839"></p>
<h3 id="�-）自定义程序位置">�?）自定义程序位置</h3>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326150130183.png" alt="image-20240326150130183"></p>
<h3 id="3-等待安装">(3)等待安装</h3>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326150203062.png" alt="image-20240326150203062"></p>
<h3 id="�-）安装成�">�?）安装成�?</h3>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326150220454.png" alt="image-20240326150220454"></p>
<h2 id="�-】macos版本解释器安�">�?】macos版本解释器安�?</h2>
<h3 id="�-）打开Python解释器官�-2">�?）打开Python解释器官�?</h3>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151055871.png"><img src="http://zhaochunze.dream521.site/202311151055871.png" alt="image-20231115105550707"></a></p>
<h3 id="�-）点击Downloads-2">�?）点击Downloads</h3>
<ul>
<li>选择macOS</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151133981.png"><img src="http://zhaochunze.dream521.site/202311151133981.png" alt="a227694c1db0b4a82a1ab5b54eb9ebc"></a></p>
<h3 id="�-）下载安装程�-2">�?）下载安装程�?</h3>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151132419.png"><img src="http://zhaochunze.dream521.site/202311151132419.png" alt="274616ac2ad83134b8eccab3749d420"></a></p>
<h3 id="�-）保存文�">�?）保存文�?</h3>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151135543.png"><img src="http://zhaochunze.dream521.site/202311151135543.png" alt="b9f551a549af506ed239dc4fd680758"></a></p>
<ul>
<li>
<h3 id="双击安装程序">双击安装程序</h3>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151137068.png"><img src="http://zhaochunze.dream521.site/202311151137068.png" alt="8d40eb7d7cabed2a04a2dd2d29befb0"></a></p>
<ul>
<li>
<h3 id="继续">继续</h3>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151138884.png"><img src="http://zhaochunze.dream521.site/202311151138884.png" alt="fb93c1d3a6cbef44467fea7f2803dc0"></a></p>
<ul>
<li>
<h3 id="安装">安装</h3>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151218668.png"><img src="http://zhaochunze.dream521.site/202311151218668.png" alt="1505f7e28a76eedc83a8e4b0b88f6a3"></a></p>
<ul>
<li>
<h3 id="开始安�">开始安�?</h3>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151219326.png"><img src="http://zhaochunze.dream521.site/202311151219326.png" alt="a66e1fe6ae33e9ada51652b70c05e3a"></a></p>
<ul>
<li>安装成功</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://zhaochunze.dream521.site/202311151219194.png"><img src="http://zhaochunze.dream521.site/202311151219194.png" alt="8e087289cbe44e9b433d21533954af4"></a></p>
<h1>【二】多版本共存问题</h1>
<h2 id="�-】多版本共存的原�">�?】多版本共存的原�?</h2>
<ul>
<li>电脑系统里存在多个python解释�?</li>
<li>比如有python3.10和python3.8</li>
</ul>
<blockquote>
<p>解救多版本共存有两种办法</p>
</blockquote>
<h2 id="�-】查看电脑的环境变量">�?】查看电脑的环境变量</h2>
<h3 id="（方法一�">（方法一�?</h3>
<ul>
<li>打开设置搜索环境变量</li>
</ul>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326143956584.png" alt="image-20240326143956584"></p>
<ul>
<li>
<p>点击环境变量</p>
</li>
<li>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326144017017.png" alt="image-20240326144017017"></p>
</li>
<li>
<p>系统变量</p>
</li>
</ul>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326144531023.png" alt="image-20240326144531023"></p>
<ul>
<li>
<p>找到python310上移到最前面，并点击确定按钮</p>
</li>
<li>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326144133232.png" alt="image-20240326144133232"></p>
</li>
<li>
<p>很少有人�?</p>
</li>
</ul>
<h3 id="（方法二�">（方法二�?</h3>
<ul>
<li>将原本的python解释器快捷方式（python.exe）复制一份成副本</li>
</ul>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326151223040.png" alt="image-20240326151223040"></p>
<ul>
<li>
<p>其它的解释器也是如此</p>
</li>
<li>
<p>打开命令窗口（win+r），输入cmd</p>
</li>
<li>
<p>把副本的名字改成版本型号（python310�?</p>
</li>
</ul>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240326145203744.png" alt="image-20240326145203744"></p>
<ul>
<li>用哪个版本就输入哪个版本就可�?</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/scrapy%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%8E%BB%E9%87%8D%E8%BF%87%E6%BB%A4%E5%99%A8%E5%8E%9F%E7%90%860000000000/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/scrapy%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%8E%BB%E9%87%8D%E8%BF%87%E6%BB%A4%E5%99%A8%E5%8E%9F%E7%90%860000000000/" class="post-title-link" itemprop="url">scrapy���֮ȥ�ع�����ԭ��0000000000</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>scrapy框架之去重过滤器原理</h1>
<h2 id="【一】源码去重规�">【一】源码去重规�?</h2>
<h3 id="�-】内置去重规�">�?】内置去重规�?</h3>
<ul>
<li>
<p>在Scrapy框架中，为了防止重复爬取相同的URL地址，采用了去重机制�?</p>
</li>
<li>
<p>其中，一种常用的去重方法是使用布隆过滤器(Bloom Filter)�?</p>
</li>
<li>
<p>如果爬取过的地址，就不会再爬�?</p>
</li>
<li>
<ul>
<li>调度器可以去重，研究一下，如何去重�?</li>
<li>使用了集�?</li>
</ul>
</li>
</ul>
<h3 id="�-】内置去重原�">�?】内置去重原�?</h3>
<ul>
<li>引入模块</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/python%E9%94%81%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/python%E9%94%81%E7%9B%B8%E5%85%B3/" class="post-title-link" itemprop="url">python�����</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>一、同步锁</h1>
<h2 id="1-1-多个线程抢占资源的情�">1.1 多个线程抢占资源的情�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>():</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.001</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    l=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        p=Thread(target=work)</span><br><span class="line">        l.append(p)</span><br><span class="line">        p.start()</span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> l:</span><br><span class="line">        p.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(n) <span class="comment">#结果可能�?--100间的数字</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-1-对公共数据的操作">1.1.1 对公共数据的操作</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import threading</span><br><span class="line">R=threading.Lock()</span><br><span class="line">R.acquire()</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">对公共数据的操作</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">R.release()</span><br></pre></td></tr></table></figure>
<h2 id="1-2-同步锁的引入">1.2 同步锁的引入</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>():</span><br><span class="line">    <span class="comment">#  这里执行</span></span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    lock.acquire()</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.0011</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line">    <span class="comment"># 这里执行</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    lock=Lock()</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    l=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        p=Thread(target=work)</span><br><span class="line">        l.append(p)</span><br><span class="line">        p.start()</span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> l:</span><br><span class="line">        p.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(n) <span class="comment">#结果肯定�?，由原来的并发执行变成串行，牺牲了执行效率保证了数据安全</span></span><br></pre></td></tr></table></figure>
<h2 id="1-3-互斥锁与join的区�">1.3 互斥锁与join的区�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#不加�?并发执行,速度�?数据不安�?</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> current_thread,Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s is running&#x27;</span> %current_thread().getName())</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    lock=Lock()</span><br><span class="line">    threads=[]</span><br><span class="line">    start_time=time.time()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">        t.join()</span><br><span class="line"></span><br><span class="line">    stop_time=time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;�?%s n:%s&#x27;</span> %(stop_time-start_time,n))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Thread-1 is running</span></span><br><span class="line"><span class="string">Thread-2 is running</span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="string">Thread-100 is running</span></span><br><span class="line"><span class="string">�?0.5216062068939209 n:99</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#不加�?未加锁部分并发执�?加锁部分串行执行,速度�?数据安全</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> current_thread,Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    <span class="comment">#未加锁的代码并发运行</span></span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s start to run&#x27;</span> %current_thread().getName())</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    <span class="comment">#加锁的代码串行运�?</span></span><br><span class="line">    lock.acquire()</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    lock=Lock()</span><br><span class="line">    threads=[]</span><br><span class="line">    start_time=time.time()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">        t.join()</span><br><span class="line">    stop_time=time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;�?%s n:%s&#x27;</span> %(stop_time-start_time,n))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Thread-1 is running</span></span><br><span class="line"><span class="string">Thread-2 is running</span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="string">Thread-100 is running</span></span><br><span class="line"><span class="string">�?53.294203758239746 n:0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 有的同学可能有疑�?既然加锁会让运行变成串行,那么我在start之后立即使用join,就不用加锁了�?也是串行的效果啊</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 没错:在start之后立刻使用jion,肯定会将100个任务的执行变成串行,毫无疑问,最终n的结果也肯定�?,是安全的,但问题是</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># start后立即join:任务内的所有代码都是串行执行的,而加�?只是加锁的部分即修改共享数据的部分是串行�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单从保证数据安全方面,二者都可以实现,但很明显是加锁的效率更高.</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> current_thread,Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s start to run&#x27;</span> %current_thread().getName())</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    lock=Lock()</span><br><span class="line">    start_time=time.time()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task)</span><br><span class="line">        t.start()</span><br><span class="line">        t.join()</span><br><span class="line">    stop_time=time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;�?%s n:%s&#x27;</span> %(stop_time-start_time,n))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Thread-1 start to run</span></span><br><span class="line"><span class="string">Thread-2 start to run</span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="string">Thread-100 start to run</span></span><br><span class="line"><span class="string">�?350.6937336921692 n:0 #耗时是多么的恐�?</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">�?</span><br></pre></td></tr></table></figure>
<h1>二、死锁与递归�?</h1>
<p>*<em>进程也有死锁与递归锁，在进程那里忘记说了，放到这里一起说了�?</em></p>
<p>所谓死锁：是指两个或两个以上的进程或线程在执行过程中，因争夺资源而造成的一种互相等待的现象，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁，这些永远在互相等待的进程称为死锁进程，如下就是死�?</p>
<h2 id="2-1-死锁">2.1 死锁</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Lock <span class="keyword">as</span> Lock</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">mutexA=Lock()</span><br><span class="line">mutexA.acquire()</span><br><span class="line">mutexA.acquire()</span><br><span class="line"><span class="built_in">print</span>(<span class="number">123</span>)</span><br><span class="line">mutexA.release()</span><br><span class="line">mutexA.release()</span><br></pre></td></tr></table></figure>
<p>解决方法：递归锁，在Python中为了支持在同一线程中多次请求同一资源，python提供了可重入锁RLock�?</p>
<p>这个RLock内部维护着一个Lock和一个counter变量，counter记录了acquire的次数，从而使得资源可以被多次require。直到一个线程所有的acquire都被release，其他的线程才能获得资源。上面的例子如果使用RLock代替Lock，则不会发生死锁�?</p>
<h2 id="2-2-递归锁RLock">2.2 递归锁RLock</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from threading import RLock as Lock</span><br><span class="line">import time</span><br><span class="line">mutexA=Lock()</span><br><span class="line">mutexA.acquire()</span><br><span class="line">mutexA.acquire()</span><br><span class="line">print(123)</span><br><span class="line">mutexA.release()</span><br><span class="line">mutexA.release()</span><br></pre></td></tr></table></figure>
<h1>三、典型问题：科学家吃�?</h1>
<h2 id="3-1-死锁问题">3.1 死锁问题</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">from threading import Thread,Lock</span><br><span class="line">noodle_lock = Lock()</span><br><span class="line">fork_lock = Lock()</span><br><span class="line">def eat1(name):</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面�?%name)</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉�?%name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27;%name)</span><br><span class="line">    fork_lock.release()</span><br><span class="line">    noodle_lock.release()</span><br><span class="line"></span><br><span class="line">def eat2(name):</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉�? % name)</span><br><span class="line">    time.sleep(1)</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面�? % name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27; % name)</span><br><span class="line">    noodle_lock.release()</span><br><span class="line">    fork_lock.release()</span><br><span class="line"></span><br><span class="line">for name in [&#x27;哪吒&#x27;,&#x27;lqz&#x27;,&#x27;tank&#x27;]:</span><br><span class="line">    t1 = Thread(target=eat1,args=(name,))</span><br><span class="line">    t2 = Thread(target=eat2,args=(name,))</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure>
<h2 id="3-2-递归锁解决死锁问�">3.2 递归锁解决死锁问�?</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">from threading import Thread,RLock</span><br><span class="line">fork_lock = noodle_lock = RLock()</span><br><span class="line">def eat1(name):</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面�?%name)</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉�?%name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27;%name)</span><br><span class="line">    fork_lock.release()</span><br><span class="line">    noodle_lock.release()</span><br><span class="line"></span><br><span class="line">def eat2(name):</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉�? % name)</span><br><span class="line">    time.sleep(1)</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面�? % name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27; % name)</span><br><span class="line">    noodle_lock.release()</span><br><span class="line">    fork_lock.release()</span><br><span class="line"></span><br><span class="line">for name in [&#x27;哪吒&#x27;,&#x27;lqz&#x27;,&#x27;egon&#x27;]:</span><br><span class="line">    t1 = Thread(target=eat1,args=(name,))</span><br><span class="line">    t2 = Thread(target=eat2,args=(name,))</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure>
<h1>�?信号�?Semaphore)</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Semaphore:信号量可以理解为多把锁，同时允许多个线程来更改数�?</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Semaphore</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">sm=Semaphore(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>(<span class="params">name</span>):</span><br><span class="line">    sm.acquire()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s正在蹲坑&#x27;</span>%name)</span><br><span class="line"></span><br><span class="line">    time.sleep(random.randint(<span class="number">1</span>,<span class="number">3</span>))</span><br><span class="line">    sm.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task,args=(i,))</span><br><span class="line">        t.start()</span><br></pre></td></tr></table></figure>
<h1>�?Event事件</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一些线程需要等到其他线程执行完成之后才能执行，类似于发射信�?</span></span><br><span class="line"><span class="comment"># 比如一个线程等待另一个线程执行结束再继续执行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Event</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">event=Event()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">girl</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s 还在谈着恋爱&#x27;</span>%name)</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    event.<span class="built_in">set</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s 单身�?%name)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">def boy(name):</span></span><br><span class="line"><span class="string">    print(&#x27;</span>%s 等着女神分手<span class="string">&#x27;%name)</span></span><br><span class="line"><span class="string">    event.wait()</span></span><br><span class="line"><span class="string">    print(&#x27;</span>女神分手了，开始追<span class="string">&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">if __name__ == &#x27;</span>__main__<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">    t=Thread(target=girl,args=(&#x27;</span>刘亦�?,))</span><br><span class="line">    t.start()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        t=Thread(target=boy,args=(<span class="string">&#x27;屌丝�?s�?%i,))</span></span><br><span class="line"><span class="string">        t.start()</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string"># 两个线程，一个读文件上部分，另一个读下部�?</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 验证GIL锁的存在方式一</span></span><br><span class="line"><span class="string"># from threading import Thread</span></span><br><span class="line"><span class="string"># def task():</span></span><br><span class="line"><span class="string">#     while True:</span></span><br><span class="line"><span class="string">#         pass</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string"># if __name__ == &#x27;</span>__main__<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string">#     for i in range(6):</span></span><br><span class="line"><span class="string">#         t=Thread(target=task,)</span></span><br><span class="line"><span class="string">#         t.start()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># GIL与普通互斥锁的区�?</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># from threading import Thread,Lock</span></span><br><span class="line"><span class="string"># import time</span></span><br><span class="line"><span class="string"># mutex=Lock()</span></span><br><span class="line"><span class="string"># money=100</span></span><br><span class="line"><span class="string"># def task():</span></span><br><span class="line"><span class="string">#     global money</span></span><br><span class="line"><span class="string">#     mutex.acquire()</span></span><br><span class="line"><span class="string">#     temp=money</span></span><br><span class="line"><span class="string">#     time.sleep(0.1)</span></span><br><span class="line"><span class="string">#     money=temp-1</span></span><br><span class="line"><span class="string">#     mutex.release()</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string"># if __name__ == &#x27;</span>__main__<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">#     ll=[]</span></span><br><span class="line"><span class="string">#     for i in range(100):</span></span><br><span class="line"><span class="string">#         t=Thread(target=task)</span></span><br><span class="line"><span class="string">#         t.start()</span></span><br><span class="line"><span class="string">#         ll.append(t)</span></span><br><span class="line"><span class="string">#         # t.join()</span></span><br><span class="line"><span class="string">#     for i,t in enumerate(ll):</span></span><br><span class="line"><span class="string">#         t.join()</span></span><br><span class="line"><span class="string">#     print(money)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># io密集型和计算密集�?</span></span><br><span class="line"><span class="string"># 单核：单核不管是计算密集还是io密集都用线程</span></span><br><span class="line"><span class="string"># 多核：计算密集型用多进程，io密集型用多线�?</span></span><br><span class="line"><span class="string">from multiprocessing import Process</span></span><br><span class="line"><span class="string">from threading import Thread</span></span><br><span class="line"><span class="string"># import time</span></span><br><span class="line"><span class="string"># def task():</span></span><br><span class="line"><span class="string">#     res=0</span></span><br><span class="line"><span class="string">#     for i in range(10000000):</span></span><br><span class="line"><span class="string">#         res+=i</span></span><br><span class="line"><span class="string">#     print(res)</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string"># if __name__ == &#x27;</span>__main__<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">#     ctime=time.time()</span></span><br><span class="line"><span class="string">#     ll=[]</span></span><br><span class="line"><span class="string">#     for i in range(10):</span></span><br><span class="line"><span class="string">#         t=Thread(target=task)</span></span><br><span class="line"><span class="string">#         # t=Process(target=task)</span></span><br><span class="line"><span class="string">#         t.start()</span></span><br><span class="line"><span class="string">#         ll.append(t)</span></span><br><span class="line"><span class="string">#     for t in ll:</span></span><br><span class="line"><span class="string">#         t.join()</span></span><br><span class="line"><span class="string">#     print(time.time()-ctime)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string"># from threading import Thread</span></span><br><span class="line"><span class="string"># import time</span></span><br><span class="line"><span class="string"># def task():</span></span><br><span class="line"><span class="string">#     time.sleep(2)</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string"># if __name__ == &#x27;</span>__main__<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">#     ctime=time.time()</span></span><br><span class="line"><span class="string">#     ll=[]</span></span><br><span class="line"><span class="string">#     for i in range(10):</span></span><br><span class="line"><span class="string">#         t=Thread(target=task)</span></span><br><span class="line"><span class="string">#         # t=Process(target=task)</span></span><br><span class="line"><span class="string">#         t.start()</span></span><br><span class="line"><span class="string">#         ll.append(t)</span></span><br><span class="line"><span class="string">#     for t in ll:</span></span><br><span class="line"><span class="string">#         t.join()</span></span><br><span class="line"><span class="string">#     print(time.time()-ctime)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 死锁现象（哲学家就餐问题�?</span></span><br><span class="line"><span class="string">#递归锁，在Python中为了支持在同一线程中多次请求同一资源，python提供了可重入锁RLock</span></span><br><span class="line"><span class="string"># 这个RLock内部维护着一个Lock和一个counter变量，counter记录了acquire的次数，从而使得资源可以被多次require�?</span></span><br><span class="line"><span class="string"># 直到一个线程所有的acquire都被release，其他的线程才能获得资源。上面的例子如果使用RLock代替Lock，则不会发生死锁</span></span><br><span class="line"><span class="string"># from threading import Thread,RLock,Lock</span></span><br><span class="line"><span class="string"># import time</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string"># # mutex1=RLock()</span></span><br><span class="line"><span class="string"># # mutex2=mutex1=RLock()</span></span><br><span class="line"><span class="string"># mutex2=mutex1=Lock()</span></span><br><span class="line"><span class="string">#</span></span><br><span class="line"><span class="string"># def eat1(name):</span></span><br><span class="line"><span class="string">#     mutex1.acquire()</span></span><br><span class="line"><span class="string">#     print(&#x27;</span>%s抢到了第一只筷�?%name)</span><br><span class="line"><span class="comment">#     mutex2.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s抢到了第二只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s开始吃�?%name)</span></span><br><span class="line"><span class="comment">#     mutex2.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第二只筷�?%name)</span></span><br><span class="line"><span class="comment">#     mutex1.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第一只筷�?%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def eat2(name):</span></span><br><span class="line"><span class="comment">#     mutex2.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s抢到了第二只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s思考了1s&#x27;%name)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     mutex1.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s抢到了第一只筷�?%name)</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s开始吃�?%name)</span></span><br><span class="line"><span class="comment">#     mutex2.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第一只筷�?%name)</span></span><br><span class="line"><span class="comment">#     mutex1.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第二只筷�?%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># for name in [&#x27;z&#x27;,&#x27;s&#x27;,&#x27;b&#x27;]:</span></span><br><span class="line"><span class="comment">#     t1=Thread(target=eat1,args=(name,))</span></span><br><span class="line"><span class="comment">#     t2=Thread(target=eat2,args=(name,))</span></span><br><span class="line"><span class="comment">#     t1.start()</span></span><br><span class="line"><span class="comment">#     t2.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Semaphore:信号量可以理解为多把锁，同时允许多个线程来更改数�?</span></span><br><span class="line"><span class="comment"># from threading import Thread,Semaphore</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># import random</span></span><br><span class="line"><span class="comment"># sm=Semaphore(5)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def task(name):</span></span><br><span class="line"><span class="comment">#     sm.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s正在蹲坑&#x27;%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     time.sleep(random.randint(1,3))</span></span><br><span class="line"><span class="comment">#     sm.release()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     for i in range(100):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=task,args=(i,))</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Event事件</span></span><br><span class="line"><span class="comment"># from threading import Thread,Event</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># event=Event()</span></span><br><span class="line"><span class="comment"># def girl(name):</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s 还在谈着恋爱&#x27;%name)</span></span><br><span class="line"><span class="comment">#     time.sleep(3)</span></span><br><span class="line"><span class="comment">#     event.set()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s 单身�?%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def boy(name):</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s 等着女神分手&#x27;%name)</span></span><br><span class="line"><span class="comment">#     event.wait()</span></span><br><span class="line"><span class="comment">#     print(&#x27;女神分手了，开始追&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     t=Thread(target=girl,args=(&#x27;刘亦�?,))</span></span><br><span class="line"><span class="comment">#     t.start()</span></span><br><span class="line"><span class="comment">#     for i in range(5):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=boy,args=(&#x27;屌丝�?s�?%i,))</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写两个线程，一个线程读文件前半部分，另一个线程读后半部分</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">f.seek(指针移动的字节数,模式控制): 控制文件指针的移�?</span></span><br><span class="line"><span class="string">模式控制:</span></span><br><span class="line"><span class="string">0: 默认的模�?该模式代表指针移动的字节数是以文件开头为参照�?</span></span><br><span class="line"><span class="string">1: 该模式代表指针移动的字节数是以当前所在的位置为参照的1</span></span><br><span class="line"><span class="string">2: 该模式代表指针移动的字节数是以文件末尾的位置为参照的</span></span><br><span class="line"><span class="string">强调:其中0模式可以在t或者b模式使用,�?�?模式只能在b模式下用</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Event</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">event=Event()</span><br><span class="line">size = os.path.getsize(<span class="string">&#x27;a.txt&#x27;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_first</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./a.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        n = size // <span class="number">2</span></span><br><span class="line">        data=f.read(n)</span><br><span class="line">        <span class="built_in">print</span>(data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;读完前面&#x27;</span>)</span><br><span class="line">        event.<span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_last</span>():</span><br><span class="line">    event.wait()</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./a.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        n = size // <span class="number">2</span></span><br><span class="line">        f.seek(n, <span class="number">0</span>)  <span class="comment"># 将游标设置到读文件的一�?</span></span><br><span class="line">        data = f.read()</span><br><span class="line">        <span class="built_in">print</span>(data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    t1=Thread(target=read_first)</span><br><span class="line">    t2=Thread(target=read_last)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E3%80%90%E4%B8%80%E3%80%91%E6%85%A2%E6%9F%A5%E8%AF%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E3%80%90%E4%B8%80%E3%80%91%E6%85%A2%E6%9F%A5%E8%AF%A2/" class="post-title-link" itemprop="url">��һ������ѯ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】慢查询</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/selenium%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%8A%A8%E4%BD%9C%E9%93%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/selenium%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%8A%A8%E4%BD%9C%E9%93%BE/" class="post-title-link" itemprop="url">selenium���֮������</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>selenium框架之动作链</h1>
<h2 id="【一】前言">【一】前言</h2>
<ul>
<li>我们还有另外一些操作，它们没有特定的执行对�?
<ul>
<li>比如鼠标的拖拽，键盘按键�?</li>
<li>这种动作就叫做动作链</li>
</ul>
</li>
</ul>
<h3 id="�-】模拟鼠标操�">�?】模拟鼠标操�?</h3>
<ul>
<li>导入ActionChains�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains</span><br></pre></td></tr></table></figure>
<ul>
<li>这个操作就像是click操作</li>
</ul>
<table>
<thead>
<tr>
<th>操作</th>
<th>函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>右击</td>
<td>context_click()</td>
</tr>
<tr>
<td>双击</td>
<td>double_click()</td>
</tr>
<tr>
<td>拖拽</td>
<td>double_and_drop()</td>
</tr>
<tr>
<td>悬停</td>
<td>move_to_element()</td>
</tr>
<tr>
<td>执行</td>
<td>perform()</td>
</tr>
</tbody>
</table>
<h3 id="�-】使用操�">�?】使用操�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入鼠标动作�?</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="comment"># 导入浏览器驱�?</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="comment"># 导入查找�?</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 管理和启动本地的ChromeDriver服务</span></span><br><span class="line"><span class="comment"># ChromeDriver：浏览器驱动</span></span><br><span class="line">service = Service(<span class="string">&#x27;./chromedriver.exe&#x27;</span>)</span><br><span class="line"><span class="comment"># 创建浏览器对�?</span></span><br><span class="line">browser = Chrome(</span><br><span class="line">	service=service</span><br><span class="line">)</span><br><span class="line"><span class="comment"># 打开地址</span></span><br><span class="line">browser.get(<span class="string">&#x27;http://sahitest.com/demo/dragDropMooTools.htm&#x27;</span>)</span><br><span class="line"><span class="comment"># 找到被拖拽的元素</span></span><br><span class="line">dragger = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;dragger&quot;]&#x27;</span>)</span><br><span class="line"><span class="comment"># 目标一</span></span><br><span class="line">item1 = browser.find_element(By.XPATH, <span class="string">&#x27;/html/body/div[2]&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建ActionChains对象</span></span><br><span class="line"><span class="comment"># browser：创建的历览器对�?</span></span><br><span class="line">action = ActionChains(driver=browser)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># dragger拖拽�?--》item1�?</span></span><br><span class="line"><span class="comment"># perform：执�?</span></span><br><span class="line"><span class="comment"># drag_and_drop：拖�?</span></span><br><span class="line">action.drag_and_drop(dragger,item1).perform()</span><br></pre></td></tr></table></figure>
<h3 id="�-】模拟键盘操�">�?】模拟键盘操�?</h3>
<ul>
<li>导入Keys�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>操作</th>
<th>函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>删除�?</td>
<td>send_keys(Keys.BACK_SPACE)</td>
</tr>
<tr>
<td>空格�?</td>
<td>send_keys(Keys.SPACE)</td>
</tr>
<tr>
<td>制表�?</td>
<td>send_keys(Keys.TAB)</td>
</tr>
<tr>
<td>回退�?</td>
<td>send_keys(Keys.ESCAPE)</td>
</tr>
<tr>
<td>回车</td>
<td>send_keys(Keys.ENTER)</td>
</tr>
<tr>
<td>全�?</td>
<td>send_keys(Keys.CONTROL,‘a�?</td>
</tr>
<tr>
<td>复制</td>
<td>send_keys(Keys.CONTROL,‘c�?</td>
</tr>
<tr>
<td>剪切</td>
<td>send_keys(Keys.CONTROL,‘x�?</td>
</tr>
<tr>
<td>粘贴</td>
<td>send_keys(Keys.CONTROL,‘v�?</td>
</tr>
<tr>
<td>键盘F1</td>
<td>send_keys(Keys.F1)</td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E3%80%901.1%E3%80%91MySQL8.4.2%E5%85%B1%E5%AD%98%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E3%80%901.1%E3%80%91MySQL8.4.2%E5%85%B1%E5%AD%98%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">��1.1��MySQL8.4.2���氲װ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一、下�">一、下�?</h2>
<h4 id="1-进入官网选择下载">1.进入官网选择下载</h4>
<h4 id="2-拉到最底下，选择社区版下�">2.拉到最底下，选择社区版下�?</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C1.png" alt="1"></p>
<h4 id="3-选择mysql-community-server">3.选择mysql community server</h4>
<h4 id="2"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C2.png" alt="2"></h4>
<h4 id="4-选择数据库版本，以及系统和安装方式（这里我选的msi�">4.选择数据库版本，以及系统和安装方式（这里我选的msi�?</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C3.png" alt="3"></p>
<h4 id="5-直接点击no-thanks-just-start-my-download">5.直接点击no thanks,just start my download.</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C4.png" alt="4"></p>
<h3 id="二、安装（windows�">二、安装（windows�?</h3>
<h4 id="1-双击安装包，出现以下页面选择next">1.双击安装包，出现以下页面选择next</h4>
<h4 id="5"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C5.png" alt="5"></h4>
<h4 id="2-选择我同意，继续下一�">2.选择我同意，继续下一�?</h4>
<h4 id="6"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C6.png" alt="6"></h4>
<h4 id="3-选择custom自定义安�">3.选择custom自定义安�?</h4>
<h4 id="7"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C7.png" alt="7"></h4>
<h4 id="4-选择安装的位置，下一�">4.选择安装的位置，下一�?</h4>
<h4 id="8"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C8.png" alt="8"></h4>
<p>一路下一�?</p>
<h4 id="5-出现以下页面证明安装完成，接下来进行配置">5.出现以下页面证明安装完成，接下来进行配置</h4>
<h4 id="9"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C9.png" alt="9"></h4>
<h3 id="三、mysql配置">三、mysql配置</h3>
<h4 id="1-进入到数据库软件配置界面，点击下一�">1.进入到数据库软件配置界面，点击下一�?</h4>
<h4 id="10"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C10.png" alt="10"></h4>
<h4 id="2-设置文件路径">2.设置文件路径</h4>
<h4 id="11"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C11.png" alt="11"></h4>
<h4 id="3-勾选named-pipe-，修改数据库名字为mysql84-点击下一�">3.勾选named pipe ，修改数据库名字为mysql84,点击下一�?</h4>
<h4 id="12"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C12.png" alt="12"></h4>
<h4 id="4-点击下一�">4.点击下一�?</h4>
<h4 id="13"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C13.png" alt="13"></h4>
<h4 id="4-输入root用户密码，并且添加一个用户为test并为其添加密�">4.输入root用户密码，并且添加一个用户为test并为其添加密�?</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C14.png" alt="14"></p>
<h4 id="14"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C15.png" alt="14"></h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C16.png" alt="16"></p>
<h4 id="5-点下一�">5.点下一�?</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C17.png" alt="17"></p>
<h4 id="6-选择给予全部权限，点击下一�">6.选择给予全部权限，点击下一�?</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C18.png" alt="18"></p>
<h4 id="7-点击下一步，自己构建">7.点击下一步，自己构建</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C19.png" alt="19"></p>
<h4 id="8-选择execute安装">8.选择execute安装</h4>
<h4 id="20"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C20.png" alt="20"></h4>
<h4 id="9-等待安装部署完成">9.等待安装部署完成</h4>
<h4 id="21"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C21.png" alt="21"></h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C22.png" alt="22"></p>
<h3 id="四、验证是否成�">四、验证是否成�?</h3>
<h4 id="1-打开运行窗口win-r，搜索services-msc">1.打开运行窗口win+r，搜索services.msc</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C23.png" alt="23"></p>
<h4 id="2-查看是否存在mysql81，并将其启动类型改为手动，防止他占用端口">2.查看是否存在mysql81，并将其启动类型改为手动，防止他占用端口</h4>
<h4 id="24"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C24.png" alt="24"></h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C25.png" alt="25"></p>
<h3 id="五、环境部�">五、环境部�?</h3>
<h4 id="1-复制我们mysql的bin路径">1.复制我们mysql的bin路径</h4>
<h4 id="26"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C26.png" alt="26"></h4>
<h4 id="2-找到电脑的环境变量选择高级，在选择系统变量的path，双击进�">2.找到电脑的环境变量选择高级，在选择系统变量的path，双击进�?</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C27.png" alt="27"></p>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C28.png" alt="28"></p>
<h4 id="3-进入编辑环境变量，选择新建，将我们mysql的bin路劲复制上去，然后一直选择确定知道退出�">3.进入编辑环境变量，选择新建，将我们mysql的bin路劲复制上去，然后一直选择确定知道退出�?</h4>
<h4 id="29"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C29.png" alt="29"></h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C30.png" alt="30"></p>
<h4 id="4-打开命令行窗口">4.打开<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%91%BD%E4%BB%A4%EF%BF%BD?spm=1001.2101.3001.7020">命令行</a>窗口</h4>
<h4 id="31"><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C31.png" alt="31"></h4>
<h4 id="5-输入mysql-uroot-p，输入刚开始设置的密码，进入我们的数据库，出现以下的界面证明成�">5.输入mysql -uroot -p，输入刚开始设置的密码，进入我们的数据库，出现以下的界面证明成�?</h4>
<p><img src="H:%5CPython%E5%85%A8%E6%A0%88%5C%EF%BF%BD?.0%E3%80%91MySQL%5C%E5%9B%BE%E7%89%87%5C32.png" alt="32"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E4%BA%8Cdocker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E4%BA%8Cdocker/" class="post-title-link" itemprop="url">在docker中应用部署</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】在doker中应用部署</h1>
<h2 id="【1】mysql部署">【1】mysql部署</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker中部署mysql，以后不用再宿主机上装mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1：记住了有状态的容器一定要做目录映射，不然容器一旦被删除，所有的数据永久的消失</span></span><br><span class="line">	- 不做目录映射</span><br><span class="line">	- docker run -di --name=mysql -p <span class="number">3308</span>:<span class="number">3306</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span></span><br><span class="line">            </span><br><span class="line"><span class="comment"># 2 做目录映射（配置文件和数据文件）和端口映射</span></span><br><span class="line">	- 做目录映射：data文件，配置文件</span><br><span class="line">    - 创建文件</span><br><span class="line">    mkdir /mysql  <span class="comment"># 宿主机根目录创建mysql文件夹</span></span><br><span class="line">    mkdir /mysql/conf.d  <span class="comment"># 配置文件</span></span><br><span class="line">    mkdir /mysql/data/  <span class="comment"># 存放数据</span></span><br><span class="line">    vi /mysql/my.cnf  <span class="comment"># mysql数据库的主配置文件</span></span><br><span class="line">    <span class="comment"># 将下面的配置添加到my.cnf中</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    [client]</span></span><br><span class="line"><span class="string">    default-character-set=utf8</span></span><br><span class="line"><span class="string">    [mysqld]</span></span><br><span class="line"><span class="string">    user=mysql</span></span><br><span class="line"><span class="string">    character-set-server=utf8</span></span><br><span class="line"><span class="string">    default_authentication_plugin=mysql_native_password</span></span><br><span class="line"><span class="string">    secure_file_priv=/var/lib/mysql</span></span><br><span class="line"><span class="string">    expire_logs_days=7</span></span><br><span class="line"><span class="string">    sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span></span><br><span class="line"><span class="string">    max_connections=1000</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 做目录和端口的映射</span></span><br><span class="line">    docker run  -di -v /mysql/data/:/var/lib/mysql -v /mysql/conf.d:/etc/mysql/conf.d -v /mysql/my.cnf:/etc/mysql/my.cnf -p <span class="number">3306</span>:<span class="number">3306</span> --name mysql5<span class="number">.7</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span> </span><br><span class="line">	</span><br><span class="line">    <span class="comment"># 创建库，创建表，插入数据</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 关闭容器，删除容器，mysql的容器没了，但是书籍还在宿主机上放着</span></span><br><span class="line">    docker stop mysql5<span class="number">.7</span>  <span class="comment"># 停止mysql5.7的容器</span></span><br><span class="line">    docker rm mysql5<span class="number">.7</span>  <span class="comment"># 删除mysql5.7的容器</span></span><br><span class="line">    <span class="comment"># docker rm mysql5.7 -f # 强制删除容器（不要使用，很危险）</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 在运行起一个容器，做好目录的映射，数据都回来了</span></span><br><span class="line">    docker run  -di -v /mysql/data/:/var/lib/mysql -v /mysql/conf.d:/etc/mysql/conf.d -v /mysql/my.cnf:/etc/mysql/my.cnf -p <span class="number">3307</span>:<span class="number">3306</span> --name mysql2 -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span> </span><br><span class="line">                        </span><br><span class="line">    <span class="comment"># 补充：-e参数--&gt;设置环境变量</span></span><br><span class="line">    	- 不同容器提供不同的参数</span><br><span class="line">        - 传入后放环境变量---&gt;mysql镜像从环境变量中取出MYSQL_ROOT_PASSWORD作为root用户的密码</span><br><span class="line">        进入到mysql容器中</span><br><span class="line">        查看：echo $MYSQL_ROOT_PASSWORD</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240928104042279.png" alt="image-20240928104042279"></p>
<h2 id="【2】redis部署">【2】redis部署</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取redis镜像</span></span><br><span class="line">docker pull redis  <span class="comment"># 最新</span></span><br><span class="line">mkdir /redis</span><br><span class="line">mkdir /redis/data</span><br><span class="line">vim /redis/redis.conf</span><br><span class="line">	<span class="comment"># 里面放配置文件</span></span><br><span class="line">    bind <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">    daemonize NO</span><br><span class="line">    protected-mode yes</span><br><span class="line">    requirepass <span class="number">123456</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动redis容器</span></span><br><span class="line">docker run -<span class="built_in">id</span>  -p <span class="number">6379</span>:<span class="number">6379</span> --name redis -v /redis/redis.conf:/etc/redis/redis.conf -v /redis/data:/data redis:<span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到redis中</span></span><br><span class="line">	- 输入命令：redils-cli <span class="comment"># 进入到redis中</span></span><br><span class="line">    - 你存数据会让你存数据 命令：auth <span class="number">123456</span></span><br><span class="line">    - 再存就可以了：<span class="built_in">set</span> name lsk</span><br><span class="line">    - 用RESP软件连接就可以了看到你存的数据了</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 远程连接redis操作</span></span><br></pre></td></tr></table></figure>
<h2 id="【3】nginx部署">【3】nginx部署</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取镜像</span></span><br><span class="line">	docker pull nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># run启动容器</span></span><br><span class="line">	docker run -<span class="built_in">id</span> --name nginx -p <span class="number">80</span>:<span class="number">80</span> nginx <span class="comment"># 访问80端口就可以访问到nginx</span></span><br><span class="line">        <span class="comment"># 修改html就要去容器的内部 /usr/share/nginx/html</span></span><br><span class="line">        <span class="comment"># vim 打开会报错  # 没有vim命令</span></span><br><span class="line">        <span class="comment"># apt-get update---会很慢，换个源最好</span></span><br><span class="line">        <span class="comment"># 然后：apt-get update</span></span><br><span class="line">        <span class="comment"># apt-get install -y vim</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 目录映射</span></span><br><span class="line">	<span class="comment"># 这个是容器的目录：/usr/share/nginx/html  ----不做映射的话就要去容器的内部改这个html</span></span><br><span class="line">    <span class="comment"># 意味着你可以在主机上更新 /root/html 中的文件，这些更改会立即反映在 Nginx 提供的内容</span></span><br><span class="line">	docker run -<span class="built_in">id</span> --name nginx1 -p <span class="number">8008</span>:<span class="number">80</span> -v /root/html:/usr/share/nginx/html nginx</span><br><span class="line">    <span class="comment"># 你访问：10.0.0.100:8008   会报错：403</span></span><br><span class="line">    <span class="comment"># 因为范围的是index.hyml,你的html目录下没有，创建一个</span></span><br></pre></td></tr></table></figure>
<h1>【二】迁移与备份</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先我们要直到镜像是从哪里来的</span></span><br><span class="line">	- docker pull 国内镜像  <span class="comment"># 从远程仓库拉来的，国内镜像站，公司自己做私有仓库</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 通过容器打包成镜像</span></span><br><span class="line">    - centos镜像运行成容器----在里面装一个vim命令</span><br><span class="line">    - 把装了vim的容器----打包成镜像</span><br><span class="line">    - 以后拿到这个镜像----再运行成容器，都会带vim命令</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 使用Dockerfile构建</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 容器保存为镜像----并运行成容器</span></span><br><span class="line">	<span class="comment"># 运行一个centos容器</span></span><br><span class="line">    docker run -<span class="built_in">id</span> --name cenros cnetos:<span class="number">7</span></span><br><span class="line">    <span class="comment"># 在容器中装vim</span></span><br><span class="line">    docker <span class="built_in">exec</span> -it centos /<span class="built_in">bin</span>/bash</span><br><span class="line">    <span class="comment"># 安装vim</span></span><br><span class="line">    yum install vim -y</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 把容器换成镜像（centos+vim）</span></span><br><span class="line">    docker commit centos centos_vim_image</span><br><span class="line">    <span class="comment"># 查看---你就会发现有一个进行镜像：centos_vim_image:latest</span></span><br><span class="line">    docker images </span><br><span class="line">    <span class="comment"># 把centos_vim 容器删除</span></span><br><span class="line">    docker rm centos -f</span><br><span class="line">    <span class="comment"># 基于新构建的镜像，运行成容器</span></span><br><span class="line">    docker run -<span class="built_in">id</span> --name centos_vim centos_vim_image:latest</span><br><span class="line">    <span class="comment"># 进入容器中，查看，发现安装的vim都在</span></span><br><span class="line">    docker <span class="built_in">exec</span> -it centos_vim /<span class="built_in">bin</span>/bash</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 本地镜像----推从到远端docker仓库---私有的仓库</span></span><br><span class="line">	<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h1>【三】Dockerfile</h1>
<h2 id="【1】dockerfile介绍和常用命令">【1】dockerfile介绍和常用命令</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 镜像从哪里来？？？</span></span><br><span class="line">	- 远程仓库拉取的 docker pull </span><br><span class="line">    - 用容器做成的镜像  docker commit</span><br><span class="line">    - 把备份的恢复 docker load</span><br><span class="line">    - 使用Dockerfile来构建---------这个方式使用的最多</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 什么是Dockerfile</span></span><br><span class="line">	- Dockerfile是由一系列命令和参数构成的脚本文件，这些命令应用于基础镜像并最终创建一个新的镜像</span><br><span class="line">    </span><br><span class="line"><span class="comment"># Dockerfile的命令</span></span><br><span class="line">	FROM 基础镜像 	       <span class="comment">#基于哪个基础镜像来构建</span></span><br><span class="line">    MAINTAINER lqz 	     <span class="comment"># 声明镜像的创建者</span></span><br><span class="line">    ENV key value 	     <span class="comment"># 设置环境变量 (可以写多条)</span></span><br><span class="line">    ENV key value 	     <span class="comment"># 设置环境变量 (可以写多条)</span></span><br><span class="line">    RUN command 	     <span class="comment">#是Dockerfile的核心部分(可以写多条)</span></span><br><span class="line">    ADD source_dir/file dest_dir/file 	<span class="comment">#将宿主机的文件复制到镜像内，如果是一个压缩文件，将会在复制后自动解压</span></span><br><span class="line">    COPY source_dir/file dest_dir/file 	<span class="comment"># 和ADD相似，但是如果有压缩文件并不能解压</span></span><br><span class="line">    WORKDIR lqz 	<span class="comment"># 设置工作目录，运行起这个容器，来到的路径就是这个路径</span></span><br><span class="line">    </span><br><span class="line">    CMD   <span class="comment"># 启动并运行容器执行的命令</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314104157821.png" alt="image-20240314104157821"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314104516220.png" alt="image-20240314104516220"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314104543575.png" alt="image-20240314104543575"></p>
<h2 id="【案例一】">【案例一】</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构建一个带vim的centos:7镜像,根路径下有/lqz/ss.py--&gt;ss.py中写 print(1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建，名字不许叫这个Dockerfile</span></span><br><span class="line">vim Dockerfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将下面的信息添加进去</span></span><br><span class="line">FROM centos:<span class="number">7</span></span><br><span class="line">MAINTAINER lqz</span><br><span class="line">ENV name lqz</span><br><span class="line">ARG age <span class="number">19</span></span><br><span class="line">RUN curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-<span class="number">7.</span>repo</span><br><span class="line">RUN yum install vim -y</span><br><span class="line">RUN mkdir /lqz</span><br><span class="line">RUN touch /lqz/ss.py</span><br><span class="line">RUN echo <span class="string">&#x27;print(1)&#x27;</span> &gt; /lqz/ss.py</span><br><span class="line">RUN echo $name</span><br><span class="line">RUN echo $age</span><br><span class="line">WORKDIR /lqz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于dockerfile构建镜像,不要忘了 .   基于当前路径下的Dockerfile 构建镜像</span></span><br><span class="line">docker build -t=<span class="string">&#x27;centos_lqz_vim&#x27;</span> . </span><br><span class="line">docker images  <span class="comment"># 查看镜像</span></span><br><span class="line"><span class="comment"># 基于这个镜像运行容器</span></span><br><span class="line"> docker run -<span class="built_in">id</span> --name xx centos_lqz_vim</span><br><span class="line"><span class="comment"># 进入到容器</span></span><br><span class="line">docker <span class="built_in">exec</span> -it xx /<span class="built_in">bin</span>/bash</span><br><span class="line"><span class="comment"># 验证vim，和文件夹，文件是否存在</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314105513191.png" alt="image-20240314105513191"></p>
<h2 id="【案例二】">【案例二】</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">FROM centos:<span class="number">7</span></span><br><span class="line">MAINTAINER lqz</span><br><span class="line">ENV name lqz</span><br><span class="line">RUN mkdir /lqz</span><br><span class="line">RUN touch /lqz/ss.py</span><br><span class="line">RUN echo <span class="string">&#x27;input()&#x27;</span> &gt; /lqz/ss.py</span><br><span class="line">WORKDIR /lqz</span><br><span class="line">CMD [<span class="string">&#x27;python&#x27;</span>] <span class="comment"># 运行容器时会默认加上 /bin/sh -c python</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于dockerfile构建镜像,不要忘了 .   基于当前路径下的Dockerfile 构建镜像</span></span><br><span class="line">docker build -t=<span class="string">&#x27;centos_py&#x27;</span> . </span><br><span class="line">docker images</span><br><span class="line"><span class="comment"># 基于这个镜像运行容器</span></span><br><span class="line"> docker run -<span class="built_in">id</span> --name yy centos_py python /lqz/ss.py</span><br><span class="line"><span class="comment"># 进入到容器</span></span><br><span class="line">docker <span class="built_in">exec</span> -it yy /<span class="built_in">bin</span>/bash</span><br><span class="line"><span class="comment"># 查看环境变量</span></span><br><span class="line"><span class="comment"># python看</span></span><br><span class="line">os.environ.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"><span class="comment"># shell看</span></span><br><span class="line">echo $name</span><br></pre></td></tr></table></figure>
<h2 id="【2】常用和不常用命令">【2】常用和不常用命令</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 所有命令</span></span><br><span class="line">https://zhuanlan.zhihu.com/p/<span class="number">419175543</span>?utm_id=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">FROM: 指定基础镜像</span><br><span class="line">RUN： 构建镜像过程中需要执行的命令。可以有多条。docker build</span><br><span class="line">CMD：添加启动容器时需要执行的命令。多条只有最后一条生效。可以在启动容器时被覆盖和修改</span><br><span class="line">ENTRYPOINT：同CMD，但这个一定会被执行，不会被覆盖修改。</span><br><span class="line">LABEL：表明镜像的作者。将被遗弃，被LABEL代替。</span><br><span class="line">EXPOSE：设置对外暴露的端口。</span><br><span class="line">ENV：设置执行命令时的环境变量，并且在构建完成后，仍然生效</span><br><span class="line">ARG：设置只在构建过程中使用的环境变量，构建完成后，将消失</span><br><span class="line">ADD：将本地文件或目录拷贝到镜像的文件系统中。能解压特定格式文件，能将URL作为要拷贝的文件</span><br><span class="line">COPY：将本地文件或目录拷贝到镜像的文件系统中。</span><br><span class="line">VOLUME：添加数据卷</span><br><span class="line">USER：指定以哪个用户的名义执行RUN, CMD 和ENTRYPOINT等命令</span><br><span class="line">WORKDIR：设置工作目录</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 docker logs 容器名字/id号  查看镜像运行成容器时，错误日志</span></span><br><span class="line">	-如果容器没起来，看日志排查错误</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 CMD  ENTRYPOINT  --https://zhuanlan.zhihu.com/p/548188679</span></span><br><span class="line"><span class="comment">#相同点：</span></span><br><span class="line">只能写一条，如果写了多条，那么只有最后一条生效。</span><br><span class="line">容器启动时才运行，运行时机相同。</span><br><span class="line"><span class="comment"># 不同点：</span></span><br><span class="line">ENTRYPOINT不会被运行的command覆盖，而CMD则会被覆盖。</span><br><span class="line">如果我们在Dockerfile中同时写了ENTRYPOINT和CMD，并且CMD指令不是一个完整的可执行命令，那么CMD指定的内容将会作为ENTRYPOINT的参数</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 ARG 和 ENV</span></span><br><span class="line">ENV：设置执行命令时的环境变量，并且在构建完成后，仍然生效</span><br><span class="line">ARG：设置只在构建过程中使用的环境变量，构建完成后，将消失</span><br></pre></td></tr></table></figure>
<h2 id="【3】ARG-演示">【3】ARG 演示</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 案例Dockerfile</span></span><br><span class="line"></span><br><span class="line">FROM centos:centos7</span><br><span class="line">MAINTAINER lqz</span><br><span class="line">ENV name lqz</span><br><span class="line">ARG age=<span class="number">19</span></span><br><span class="line">RUN mkdir /lqz</span><br><span class="line">RUN touch /lqz/ss.py</span><br><span class="line">RUN echo <span class="string">&#x27;input()&#x27;</span> &gt; /lqz/ss.py</span><br><span class="line">RUN echo $age</span><br><span class="line"></span><br><span class="line">WORKDIR /lqz</span><br><span class="line">CMD python ./ss.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># docker build -t=&#x27;xxxx&#x27; . </span></span><br></pre></td></tr></table></figure>
<h2 id="【4】dockerfile构建一个djagno项目（books图书管理系统）">【4】dockerfile构建一个djagno项目（books图书管理系统）</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以图书管理系统为例---》公司使用docker流程</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 公司中，使用Docker开发的工作流程</span></span><br><span class="line">第一步：有一个项目，pycharm开发着，开发完后</span><br><span class="line">第二步：在项目路径下新建Dockerfile，写入</span><br><span class="line">FROM python</span><br><span class="line">MAINTAINER lqz</span><br><span class="line">WORKDIR /soft</span><br><span class="line">COPY ./requirements.txt /soft/requirements.txt</span><br><span class="line">RUN pip install -r requirements.txt -i https://pypi.doubanio.com/simple</span><br><span class="line">CMD [<span class="string">&quot;python&quot;</span>,<span class="string">&quot;manage.py&quot;</span>,<span class="string">&quot;runserver&quot;</span>,<span class="string">&quot;0.0.0.0:8080&quot;</span>]</span><br><span class="line">第三步：把代码提交到git</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line">第四步：上线人员：在上线机器上，把代码啦下来</span><br><span class="line">git clone https://gitee.com/liuqingzheng/books.git</span><br><span class="line">第五步：构建镜像</span><br><span class="line">docker build -t=<span class="string">&#x27;books&#x27;</span> .</span><br><span class="line">第六步：运行容器</span><br><span class="line">docker run -<span class="built_in">id</span> --name=books -v /root/books:/soft -p <span class="number">8080</span>:<span class="number">8080</span> books:latest</span><br><span class="line">第七步：其它人访问宿主机的<span class="number">8080</span>端口就能看到项目了</span><br><span class="line"></span><br><span class="line">---------</span><br><span class="line">第八步：开发人员继续提交代码</span><br><span class="line">第九步：运维人员pull代码，重启容器，用户就可以看到最新的了</span><br><span class="line"></span><br><span class="line">重启docker容器即可(第三方依赖变了)--》重写构建镜像，运行容器</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="【5】乌班图构建redis（跟底层宿主机无关）">【5】乌班图构建redis（跟底层宿主机无关）</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://zhuanlan.zhihu.com/p/<span class="number">623811065</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E4%BA%BA%E8%84%B8%E5%92%8C%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E4%BA%BA%E8%84%B8%E5%92%8C%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">����������ʶ�𷽰�</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】人脸识别方�?</h1>
<h1>【二】语音识别方�</h1>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E5%AE%89%E8%A3%85VMware%20Workstation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E5%AE%89%E8%A3%85VMware%20Workstation/" class="post-title-link" itemprop="url">��װVMware Workstation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】安装VMware Workstation</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一路下一�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 双击打开文件，输入提供的激活码</span></span><br></pre></td></tr></table></figure>
<h1>【二】Linux系统安装</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162247720.png" alt="image-20240926161954522"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162004978.png" alt="image-20240926162004978"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162015482.png" alt="image-20240926162015482"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162024718.png" alt="image-20240926162024718"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162033734.png" alt="image-20240926162033734"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162041106.png" alt="image-20240926162041106"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162048378.png" alt="image-20240926162048378"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162055036.png" alt="image-20240926162055036"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162100869.png" alt="image-20240926162100869"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162107511.png" alt="image-20240926162107511"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162113454.png" alt="image-20240926162113454"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162120697.png" alt="image-20240926162120697"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162126775.png" alt="image-20240926162126775"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/18/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/20/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">坤</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要，但是你不努力，选择就只是空谈</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">201</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">坤</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">lsk-0912</a> & <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
