<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aurora-lsk.asia","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:type" content="website">
<meta property="og:title" content="坤博客">
<meta property="og:url" content="https://aurora-lsk.asia/page/19/index.html">
<meta property="og:site_name" content="坤博客">
<meta property="og:description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="坤">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://aurora-lsk.asia/page/19/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>坤博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">坤博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/selenium%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%8A%A8%E4%BD%9C%E9%93%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/selenium%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%8A%A8%E4%BD%9C%E9%93%BE/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>selenium框架之动作链</h1>
<h2 id="【一】前言">【一】前言</h2>
<ul>
<li>我们还有另外一些操作，它们没有特定的执行对象
<ul>
<li>比如鼠标的拖拽，键盘按键等</li>
<li>这种动作就叫做动作链</li>
</ul>
</li>
</ul>
<h3 id="【1】模拟鼠标操作">【1】模拟鼠标操作</h3>
<ul>
<li>导入ActionChains类</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains</span><br></pre></td></tr></table></figure>
<ul>
<li>这个操作就像是click操作</li>
</ul>
<table>
<thead>
<tr>
<th>操作</th>
<th>函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>右击</td>
<td>context_click()</td>
</tr>
<tr>
<td>双击</td>
<td>double_click()</td>
</tr>
<tr>
<td>拖拽</td>
<td>double_and_drop()</td>
</tr>
<tr>
<td>悬停</td>
<td>move_to_element()</td>
</tr>
<tr>
<td>执行</td>
<td>perform()</td>
</tr>
</tbody>
</table>
<h3 id="【2】使用操作">【2】使用操作</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入鼠标动作链</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="comment"># 导入浏览器驱动</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="comment"># 导入查找器</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 管理和启动本地的ChromeDriver服务</span></span><br><span class="line"><span class="comment"># ChromeDriver：浏览器驱动</span></span><br><span class="line">service = Service(<span class="string">&#x27;./chromedriver.exe&#x27;</span>)</span><br><span class="line"><span class="comment"># 创建浏览器对象</span></span><br><span class="line">browser = Chrome(</span><br><span class="line">	service=service</span><br><span class="line">)</span><br><span class="line"><span class="comment"># 打开地址</span></span><br><span class="line">browser.get(<span class="string">&#x27;http://sahitest.com/demo/dragDropMooTools.htm&#x27;</span>)</span><br><span class="line"><span class="comment"># 找到被拖拽的元素</span></span><br><span class="line">dragger = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;dragger&quot;]&#x27;</span>)</span><br><span class="line"><span class="comment"># 目标一</span></span><br><span class="line">item1 = browser.find_element(By.XPATH, <span class="string">&#x27;/html/body/div[2]&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建ActionChains对象</span></span><br><span class="line"><span class="comment"># browser：创建的历览器对象</span></span><br><span class="line">action = ActionChains(driver=browser)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># dragger拖拽到---》item1上</span></span><br><span class="line"><span class="comment"># perform：执行</span></span><br><span class="line"><span class="comment"># drag_and_drop：拖拽</span></span><br><span class="line">action.drag_and_drop(dragger,item1).perform()</span><br></pre></td></tr></table></figure>
<h3 id="【2】模拟键盘操作">【2】模拟键盘操作</h3>
<ul>
<li>导入Keys类</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>操作</th>
<th>函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>删除键</td>
<td>send_keys(Keys.BACK_SPACE)</td>
</tr>
<tr>
<td>空格键</td>
<td>send_keys(Keys.SPACE)</td>
</tr>
<tr>
<td>制表键</td>
<td>send_keys(Keys.TAB)</td>
</tr>
<tr>
<td>回退键</td>
<td>send_keys(Keys.ESCAPE)</td>
</tr>
<tr>
<td>回车</td>
<td>send_keys(Keys.ENTER)</td>
</tr>
<tr>
<td>全选</td>
<td>send_keys(Keys.CONTROL,‘a’)</td>
</tr>
<tr>
<td>复制</td>
<td>send_keys(Keys.CONTROL,‘c’)</td>
</tr>
<tr>
<td>剪切</td>
<td>send_keys(Keys.CONTROL,‘x’)</td>
</tr>
<tr>
<td>粘贴</td>
<td>send_keys(Keys.CONTROL,‘v’)</td>
</tr>
<tr>
<td>键盘F1</td>
<td>send_keys(Keys.F1)</td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/python%E9%94%81%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/python%E9%94%81%E7%9B%B8%E5%85%B3/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>一、同步锁</h1>
<h2 id="1-1-多个线程抢占资源的情况">1.1 多个线程抢占资源的情况</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>():</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.001</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    l=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        p=Thread(target=work)</span><br><span class="line">        l.append(p)</span><br><span class="line">        p.start()</span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> l:</span><br><span class="line">        p.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(n) <span class="comment">#结果可能为0--100间的数字</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-1-对公共数据的操作">1.1.1 对公共数据的操作</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import threading</span><br><span class="line">R=threading.Lock()</span><br><span class="line">R.acquire()</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">对公共数据的操作</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">R.release()</span><br></pre></td></tr></table></figure>
<h2 id="1-2-同步锁的引入">1.2 同步锁的引入</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>():</span><br><span class="line">    <span class="comment">#  这里执行</span></span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    lock.acquire()</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.0011</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line">    <span class="comment"># 这里执行</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    lock=Lock()</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    l=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        p=Thread(target=work)</span><br><span class="line">        l.append(p)</span><br><span class="line">        p.start()</span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> l:</span><br><span class="line">        p.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(n) <span class="comment">#结果肯定为0，由原来的并发执行变成串行，牺牲了执行效率保证了数据安全</span></span><br></pre></td></tr></table></figure>
<h2 id="1-3-互斥锁与join的区别">1.3 互斥锁与join的区别</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#不加锁:并发执行,速度快,数据不安全</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> current_thread,Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s is running&#x27;</span> %current_thread().getName())</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    lock=Lock()</span><br><span class="line">    threads=[]</span><br><span class="line">    start_time=time.time()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">        t.join()</span><br><span class="line"></span><br><span class="line">    stop_time=time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;主:%s n:%s&#x27;</span> %(stop_time-start_time,n))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Thread-1 is running</span></span><br><span class="line"><span class="string">Thread-2 is running</span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="string">Thread-100 is running</span></span><br><span class="line"><span class="string">主:0.5216062068939209 n:99</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#不加锁:未加锁部分并发执行,加锁部分串行执行,速度慢,数据安全</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> current_thread,Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    <span class="comment">#未加锁的代码并发运行</span></span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s start to run&#x27;</span> %current_thread().getName())</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    <span class="comment">#加锁的代码串行运行</span></span><br><span class="line">    lock.acquire()</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    lock=Lock()</span><br><span class="line">    threads=[]</span><br><span class="line">    start_time=time.time()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">        t.join()</span><br><span class="line">    stop_time=time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;主:%s n:%s&#x27;</span> %(stop_time-start_time,n))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Thread-1 is running</span></span><br><span class="line"><span class="string">Thread-2 is running</span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="string">Thread-100 is running</span></span><br><span class="line"><span class="string">主:53.294203758239746 n:0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 有的同学可能有疑问:既然加锁会让运行变成串行,那么我在start之后立即使用join,就不用加锁了啊,也是串行的效果啊</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 没错:在start之后立刻使用jion,肯定会将100个任务的执行变成串行,毫无疑问,最终n的结果也肯定是0,是安全的,但问题是</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># start后立即join:任务内的所有代码都是串行执行的,而加锁,只是加锁的部分即修改共享数据的部分是串行的</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单从保证数据安全方面,二者都可以实现,但很明显是加锁的效率更高.</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> current_thread,Thread,Lock</span><br><span class="line"><span class="keyword">import</span> os,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s start to run&#x27;</span> %current_thread().getName())</span><br><span class="line">    <span class="keyword">global</span> n</span><br><span class="line">    temp=n</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    n=temp-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n=<span class="number">100</span></span><br><span class="line">    lock=Lock()</span><br><span class="line">    start_time=time.time()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task)</span><br><span class="line">        t.start()</span><br><span class="line">        t.join()</span><br><span class="line">    stop_time=time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;主:%s n:%s&#x27;</span> %(stop_time-start_time,n))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Thread-1 start to run</span></span><br><span class="line"><span class="string">Thread-2 start to run</span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="string">Thread-100 start to run</span></span><br><span class="line"><span class="string">主:350.6937336921692 n:0 #耗时是多么的恐怖</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">）</span><br></pre></td></tr></table></figure>
<h1>二、死锁与递归锁</h1>
<p><strong>进程也有死锁与递归锁，在进程那里忘记说了，放到这里一起说了。</strong></p>
<p>所谓死锁：是指两个或两个以上的进程或线程在执行过程中，因争夺资源而造成的一种互相等待的现象，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁，这些永远在互相等待的进程称为死锁进程，如下就是死锁</p>
<h2 id="2-1-死锁">2.1 死锁</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Lock <span class="keyword">as</span> Lock</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">mutexA=Lock()</span><br><span class="line">mutexA.acquire()</span><br><span class="line">mutexA.acquire()</span><br><span class="line"><span class="built_in">print</span>(<span class="number">123</span>)</span><br><span class="line">mutexA.release()</span><br><span class="line">mutexA.release()</span><br></pre></td></tr></table></figure>
<p>解决方法：递归锁，在Python中为了支持在同一线程中多次请求同一资源，python提供了可重入锁RLock。</p>
<p>这个RLock内部维护着一个Lock和一个counter变量，counter记录了acquire的次数，从而使得资源可以被多次require。直到一个线程所有的acquire都被release，其他的线程才能获得资源。上面的例子如果使用RLock代替Lock，则不会发生死锁。</p>
<h2 id="2-2-递归锁RLock">2.2 递归锁RLock</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from threading import RLock as Lock</span><br><span class="line">import time</span><br><span class="line">mutexA=Lock()</span><br><span class="line">mutexA.acquire()</span><br><span class="line">mutexA.acquire()</span><br><span class="line">print(123)</span><br><span class="line">mutexA.release()</span><br><span class="line">mutexA.release()</span><br></pre></td></tr></table></figure>
<h1>三、典型问题：科学家吃面</h1>
<h2 id="3-1-死锁问题">3.1 死锁问题</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">from threading import Thread,Lock</span><br><span class="line">noodle_lock = Lock()</span><br><span class="line">fork_lock = Lock()</span><br><span class="line">def eat1(name):</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面条&#x27;%name)</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉子&#x27;%name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27;%name)</span><br><span class="line">    fork_lock.release()</span><br><span class="line">    noodle_lock.release()</span><br><span class="line"></span><br><span class="line">def eat2(name):</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉子&#x27; % name)</span><br><span class="line">    time.sleep(1)</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面条&#x27; % name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27; % name)</span><br><span class="line">    noodle_lock.release()</span><br><span class="line">    fork_lock.release()</span><br><span class="line"></span><br><span class="line">for name in [&#x27;哪吒&#x27;,&#x27;lqz&#x27;,&#x27;tank&#x27;]:</span><br><span class="line">    t1 = Thread(target=eat1,args=(name,))</span><br><span class="line">    t2 = Thread(target=eat2,args=(name,))</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure>
<h2 id="3-2-递归锁解决死锁问题">3.2 递归锁解决死锁问题</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">from threading import Thread,RLock</span><br><span class="line">fork_lock = noodle_lock = RLock()</span><br><span class="line">def eat1(name):</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面条&#x27;%name)</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉子&#x27;%name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27;%name)</span><br><span class="line">    fork_lock.release()</span><br><span class="line">    noodle_lock.release()</span><br><span class="line"></span><br><span class="line">def eat2(name):</span><br><span class="line">    fork_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了叉子&#x27; % name)</span><br><span class="line">    time.sleep(1)</span><br><span class="line">    noodle_lock.acquire()</span><br><span class="line">    print(&#x27;%s 抢到了面条&#x27; % name)</span><br><span class="line">    print(&#x27;%s 吃面&#x27; % name)</span><br><span class="line">    noodle_lock.release()</span><br><span class="line">    fork_lock.release()</span><br><span class="line"></span><br><span class="line">for name in [&#x27;哪吒&#x27;,&#x27;lqz&#x27;,&#x27;egon&#x27;]:</span><br><span class="line">    t1 = Thread(target=eat1,args=(name,))</span><br><span class="line">    t2 = Thread(target=eat2,args=(name,))</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure>
<h1>四 信号量(Semaphore)</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Semaphore:信号量可以理解为多把锁，同时允许多个线程来更改数据</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Semaphore</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">sm=Semaphore(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>(<span class="params">name</span>):</span><br><span class="line">    sm.acquire()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s正在蹲坑&#x27;</span>%name)</span><br><span class="line"></span><br><span class="line">    time.sleep(random.randint(<span class="number">1</span>,<span class="number">3</span>))</span><br><span class="line">    sm.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        t=Thread(target=task,args=(i,))</span><br><span class="line">        t.start()</span><br></pre></td></tr></table></figure>
<h1>五 Event事件</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一些线程需要等到其他线程执行完成之后才能执行，类似于发射信号</span></span><br><span class="line"><span class="comment"># 比如一个线程等待另一个线程执行结束再继续执行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Event</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">event=Event()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">girl</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s 还在谈着恋爱&#x27;</span>%name)</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    event.<span class="built_in">set</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s 单身了&#x27;</span>%name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">boy</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s 等着女神分手&#x27;</span>%name)</span><br><span class="line">    event.wait()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;女神分手了，开始追&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    t=Thread(target=girl,args=(<span class="string">&#x27;刘亦菲&#x27;</span>,))</span><br><span class="line">    t.start()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        t=Thread(target=boy,args=(<span class="string">&#x27;屌丝男%s号&#x27;</span>%i,))</span><br><span class="line">        t.start()</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="comment"># 两个线程，一个读文件上部分，另一个读下部分</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证GIL锁的存在方式一</span></span><br><span class="line"><span class="comment"># from threading import Thread</span></span><br><span class="line"><span class="comment"># def task():</span></span><br><span class="line"><span class="comment">#     while True:</span></span><br><span class="line"><span class="comment">#         pass</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     for i in range(6):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=task,)</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># GIL与普通互斥锁的区别</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># from threading import Thread,Lock</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># mutex=Lock()</span></span><br><span class="line"><span class="comment"># money=100</span></span><br><span class="line"><span class="comment"># def task():</span></span><br><span class="line"><span class="comment">#     global money</span></span><br><span class="line"><span class="comment">#     mutex.acquire()</span></span><br><span class="line"><span class="comment">#     temp=money</span></span><br><span class="line"><span class="comment">#     time.sleep(0.1)</span></span><br><span class="line"><span class="comment">#     money=temp-1</span></span><br><span class="line"><span class="comment">#     mutex.release()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     ll=[]</span></span><br><span class="line"><span class="comment">#     for i in range(100):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=task)</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"><span class="comment">#         ll.append(t)</span></span><br><span class="line"><span class="comment">#         # t.join()</span></span><br><span class="line"><span class="comment">#     for i,t in enumerate(ll):</span></span><br><span class="line"><span class="comment">#         t.join()</span></span><br><span class="line"><span class="comment">#     print(money)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># io密集型和计算密集型</span></span><br><span class="line"><span class="comment"># 单核：单核不管是计算密集还是io密集都用线程</span></span><br><span class="line"><span class="comment"># 多核：计算密集型用多进程，io密集型用多线程</span></span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># def task():</span></span><br><span class="line"><span class="comment">#     res=0</span></span><br><span class="line"><span class="comment">#     for i in range(10000000):</span></span><br><span class="line"><span class="comment">#         res+=i</span></span><br><span class="line"><span class="comment">#     print(res)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     ctime=time.time()</span></span><br><span class="line"><span class="comment">#     ll=[]</span></span><br><span class="line"><span class="comment">#     for i in range(10):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=task)</span></span><br><span class="line"><span class="comment">#         # t=Process(target=task)</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"><span class="comment">#         ll.append(t)</span></span><br><span class="line"><span class="comment">#     for t in ll:</span></span><br><span class="line"><span class="comment">#         t.join()</span></span><br><span class="line"><span class="comment">#     print(time.time()-ctime)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># from threading import Thread</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># def task():</span></span><br><span class="line"><span class="comment">#     time.sleep(2)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     ctime=time.time()</span></span><br><span class="line"><span class="comment">#     ll=[]</span></span><br><span class="line"><span class="comment">#     for i in range(10):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=task)</span></span><br><span class="line"><span class="comment">#         # t=Process(target=task)</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"><span class="comment">#         ll.append(t)</span></span><br><span class="line"><span class="comment">#     for t in ll:</span></span><br><span class="line"><span class="comment">#         t.join()</span></span><br><span class="line"><span class="comment">#     print(time.time()-ctime)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 死锁现象（哲学家就餐问题）</span></span><br><span class="line"><span class="comment">#递归锁，在Python中为了支持在同一线程中多次请求同一资源，python提供了可重入锁RLock</span></span><br><span class="line"><span class="comment"># 这个RLock内部维护着一个Lock和一个counter变量，counter记录了acquire的次数，从而使得资源可以被多次require。</span></span><br><span class="line"><span class="comment"># 直到一个线程所有的acquire都被release，其他的线程才能获得资源。上面的例子如果使用RLock代替Lock，则不会发生死锁</span></span><br><span class="line"><span class="comment"># from threading import Thread,RLock,Lock</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # mutex1=RLock()</span></span><br><span class="line"><span class="comment"># # mutex2=mutex1=RLock()</span></span><br><span class="line"><span class="comment"># mutex2=mutex1=Lock()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def eat1(name):</span></span><br><span class="line"><span class="comment">#     mutex1.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s抢到了第一只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     mutex2.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s抢到了第二只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s开始吃饭&#x27;%name)</span></span><br><span class="line"><span class="comment">#     mutex2.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第二只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     mutex1.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第一只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def eat2(name):</span></span><br><span class="line"><span class="comment">#     mutex2.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s抢到了第二只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s思考了1s&#x27;%name)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     mutex1.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s抢到了第一只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s开始吃饭&#x27;%name)</span></span><br><span class="line"><span class="comment">#     mutex2.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第一只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#     mutex1.release()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s放下第二只筷子&#x27;%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># for name in [&#x27;z&#x27;,&#x27;s&#x27;,&#x27;b&#x27;]:</span></span><br><span class="line"><span class="comment">#     t1=Thread(target=eat1,args=(name,))</span></span><br><span class="line"><span class="comment">#     t2=Thread(target=eat2,args=(name,))</span></span><br><span class="line"><span class="comment">#     t1.start()</span></span><br><span class="line"><span class="comment">#     t2.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Semaphore:信号量可以理解为多把锁，同时允许多个线程来更改数据</span></span><br><span class="line"><span class="comment"># from threading import Thread,Semaphore</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># import random</span></span><br><span class="line"><span class="comment"># sm=Semaphore(5)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def task(name):</span></span><br><span class="line"><span class="comment">#     sm.acquire()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s正在蹲坑&#x27;%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     time.sleep(random.randint(1,3))</span></span><br><span class="line"><span class="comment">#     sm.release()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     for i in range(100):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=task,args=(i,))</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Event事件</span></span><br><span class="line"><span class="comment"># from threading import Thread,Event</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># event=Event()</span></span><br><span class="line"><span class="comment"># def girl(name):</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s 还在谈着恋爱&#x27;%name)</span></span><br><span class="line"><span class="comment">#     time.sleep(3)</span></span><br><span class="line"><span class="comment">#     event.set()</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s 单身了&#x27;%name)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def boy(name):</span></span><br><span class="line"><span class="comment">#     print(&#x27;%s 等着女神分手&#x27;%name)</span></span><br><span class="line"><span class="comment">#     event.wait()</span></span><br><span class="line"><span class="comment">#     print(&#x27;女神分手了，开始追&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     t=Thread(target=girl,args=(&#x27;刘亦菲&#x27;,))</span></span><br><span class="line"><span class="comment">#     t.start()</span></span><br><span class="line"><span class="comment">#     for i in range(5):</span></span><br><span class="line"><span class="comment">#         t=Thread(target=boy,args=(&#x27;屌丝男%s号&#x27;%i,))</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写两个线程，一个线程读文件前半部分，另一个线程读后半部分</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">f.seek(指针移动的字节数,模式控制): 控制文件指针的移动</span></span><br><span class="line"><span class="string">模式控制:</span></span><br><span class="line"><span class="string">0: 默认的模式,该模式代表指针移动的字节数是以文件开头为参照的</span></span><br><span class="line"><span class="string">1: 该模式代表指针移动的字节数是以当前所在的位置为参照的1</span></span><br><span class="line"><span class="string">2: 该模式代表指针移动的字节数是以文件末尾的位置为参照的</span></span><br><span class="line"><span class="string">强调:其中0模式可以在t或者b模式使用,而1跟2模式只能在b模式下用</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread,Event</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">event=Event()</span><br><span class="line">size = os.path.getsize(<span class="string">&#x27;a.txt&#x27;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_first</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./a.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        n = size // <span class="number">2</span></span><br><span class="line">        data=f.read(n)</span><br><span class="line">        <span class="built_in">print</span>(data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;读完前面&#x27;</span>)</span><br><span class="line">        event.<span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_last</span>():</span><br><span class="line">    event.wait()</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./a.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        n = size // <span class="number">2</span></span><br><span class="line">        f.seek(n, <span class="number">0</span>)  <span class="comment"># 将游标设置到读文件的一半</span></span><br><span class="line">        data = f.read()</span><br><span class="line">        <span class="built_in">print</span>(data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    t1=Thread(target=read_first)</span><br><span class="line">    t2=Thread(target=read_last)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E5%AE%89%E8%A3%85VMware%20Workstation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E5%AE%89%E8%A3%85VMware%20Workstation/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】安装VMware Workstation</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一路下一步</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 双击打开文件，输入提供的激活码</span></span><br></pre></td></tr></table></figure>
<h1>【二】Linux系统安装</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162247720.png" alt="image-20240926161954522"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162004978.png" alt="image-20240926162004978"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162015482.png" alt="image-20240926162015482"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162024718.png" alt="image-20240926162024718"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162033734.png" alt="image-20240926162033734"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162041106.png" alt="image-20240926162041106"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162048378.png" alt="image-20240926162048378"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162055036.png" alt="image-20240926162055036"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162100869.png" alt="image-20240926162100869"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162107511.png" alt="image-20240926162107511"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162113454.png" alt="image-20240926162113454"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162120697.png" alt="image-20240926162120697"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926162126775.png" alt="image-20240926162126775"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E4%BA%BA%E8%84%B8%E5%92%8C%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E4%BA%BA%E8%84%B8%E5%92%8C%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】人脸识别方案</h1>
<h1>【二】语音识别方案</h1>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E4%BA%8Cdocker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E4%BA%8Cdocker/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】在doker中应用部署</h1>
<h2 id="【1】mysql部署">【1】mysql部署</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker中部署mysql，以后不用再宿主机上装mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1：记住了有状态的容器一定要做目录映射，不然容器一旦被删除，所有的数据永久的消失</span></span><br><span class="line">	- 不做目录映射</span><br><span class="line">	- docker run -di --name=mysql -p <span class="number">3308</span>:<span class="number">3306</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span></span><br><span class="line">            </span><br><span class="line"><span class="comment"># 2 做目录映射（配置文件和数据文件）和端口映射</span></span><br><span class="line">	- 做目录映射：data文件，配置文件</span><br><span class="line">    - 创建文件</span><br><span class="line">    mkdir /mysql  <span class="comment"># 宿主机根目录创建mysql文件夹</span></span><br><span class="line">    mkdir /mysql/conf.d  <span class="comment"># 配置文件</span></span><br><span class="line">    mkdir /mysql/data/  <span class="comment"># 存放数据</span></span><br><span class="line">    vi /mysql/my.cnf  <span class="comment"># mysql数据库的主配置文件</span></span><br><span class="line">    <span class="comment"># 将下面的配置添加到my.cnf中</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    [client]</span></span><br><span class="line"><span class="string">    default-character-set=utf8</span></span><br><span class="line"><span class="string">    [mysqld]</span></span><br><span class="line"><span class="string">    user=mysql</span></span><br><span class="line"><span class="string">    character-set-server=utf8</span></span><br><span class="line"><span class="string">    default_authentication_plugin=mysql_native_password</span></span><br><span class="line"><span class="string">    secure_file_priv=/var/lib/mysql</span></span><br><span class="line"><span class="string">    expire_logs_days=7</span></span><br><span class="line"><span class="string">    sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span></span><br><span class="line"><span class="string">    max_connections=1000</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 做目录和端口的映射</span></span><br><span class="line">    docker run  -di -v /mysql/data/:/var/lib/mysql -v /mysql/conf.d:/etc/mysql/conf.d -v /mysql/my.cnf:/etc/mysql/my.cnf -p <span class="number">3306</span>:<span class="number">3306</span> --name mysql5<span class="number">.7</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span> </span><br><span class="line">	</span><br><span class="line">    <span class="comment"># 创建库，创建表，插入数据</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 关闭容器，删除容器，mysql的容器没了，但是书籍还在宿主机上放着</span></span><br><span class="line">    docker stop mysql5<span class="number">.7</span>  <span class="comment"># 停止mysql5.7的容器</span></span><br><span class="line">    docker rm mysql5<span class="number">.7</span>  <span class="comment"># 删除mysql5.7的容器</span></span><br><span class="line">    <span class="comment"># docker rm mysql5.7 -f # 强制删除容器（不要使用，很危险）</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 在运行起一个容器，做好目录的映射，数据都回来了</span></span><br><span class="line">    docker run  -di -v /mysql/data/:/var/lib/mysql -v /mysql/conf.d:/etc/mysql/conf.d -v /mysql/my.cnf:/etc/mysql/my.cnf -p <span class="number">3307</span>:<span class="number">3306</span> --name mysql2 -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span> </span><br><span class="line">                        </span><br><span class="line">    <span class="comment"># 补充：-e参数--&gt;设置环境变量</span></span><br><span class="line">    	- 不同容器提供不同的参数</span><br><span class="line">        - 传入后放环境变量---&gt;mysql镜像从环境变量中取出MYSQL_ROOT_PASSWORD作为root用户的密码</span><br><span class="line">        进入到mysql容器中</span><br><span class="line">        查看：echo $MYSQL_ROOT_PASSWORD</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240928104042279.png" alt="image-20240928104042279"></p>
<h2 id="【2】redis部署">【2】redis部署</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取redis镜像</span></span><br><span class="line">docker pull redis  <span class="comment"># 最新</span></span><br><span class="line">mkdir /redis</span><br><span class="line">mkdir /redis/data</span><br><span class="line">vim /redis/redis.conf</span><br><span class="line">	<span class="comment"># 里面放配置文件</span></span><br><span class="line">    bind <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">    daemonize NO</span><br><span class="line">    protected-mode yes</span><br><span class="line">    requirepass <span class="number">123456</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动redis容器</span></span><br><span class="line">docker run -<span class="built_in">id</span>  -p <span class="number">6379</span>:<span class="number">6379</span> --name redis -v /redis/redis.conf:/etc/redis/redis.conf -v /redis/data:/data redis:<span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到redis中</span></span><br><span class="line">	- 输入命令：redils-cli <span class="comment"># 进入到redis中</span></span><br><span class="line">    - 你存数据会让你存数据 命令：auth <span class="number">123456</span></span><br><span class="line">    - 再存就可以了：<span class="built_in">set</span> name lsk</span><br><span class="line">    - 用RESP软件连接就可以了看到你存的数据了</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 远程连接redis操作</span></span><br></pre></td></tr></table></figure>
<h2 id="【3】nginx部署">【3】nginx部署</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取镜像</span></span><br><span class="line">	docker pull nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># run启动容器</span></span><br><span class="line">	docker run -<span class="built_in">id</span> --name nginx -p <span class="number">80</span>:<span class="number">80</span> nginx <span class="comment"># 访问80端口就可以访问到nginx</span></span><br><span class="line">        <span class="comment"># 修改html就要去容器的内部 /usr/share/nginx/html</span></span><br><span class="line">        <span class="comment"># vim 打开会报错  # 没有vim命令</span></span><br><span class="line">        <span class="comment"># apt-get update---会很慢，换个源最好</span></span><br><span class="line">        <span class="comment"># 然后：apt-get update</span></span><br><span class="line">        <span class="comment"># apt-get install -y vim</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 目录映射</span></span><br><span class="line">	<span class="comment"># 这个是容器的目录：/usr/share/nginx/html  ----不做映射的话就要去容器的内部改这个html</span></span><br><span class="line">    <span class="comment"># 意味着你可以在主机上更新 /root/html 中的文件，这些更改会立即反映在 Nginx 提供的内容</span></span><br><span class="line">	docker run -<span class="built_in">id</span> --name nginx1 -p <span class="number">8008</span>:<span class="number">80</span> -v /root/html:/usr/share/nginx/html nginx</span><br><span class="line">    <span class="comment"># 你访问：10.0.0.100:8008   会报错：403</span></span><br><span class="line">    <span class="comment"># 因为范围的是index.hyml,你的html目录下没有，创建一个</span></span><br></pre></td></tr></table></figure>
<h1>【二】迁移与备份</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先我们要直到镜像是从哪里来的</span></span><br><span class="line">	- docker pull 国内镜像  <span class="comment"># 从远程仓库拉来的，国内镜像站，公司自己做私有仓库</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 通过容器打包成镜像</span></span><br><span class="line">    - centos镜像运行成容器----在里面装一个vim命令</span><br><span class="line">    - 把装了vim的容器----打包成镜像</span><br><span class="line">    - 以后拿到这个镜像----再运行成容器，都会带vim命令</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 使用Dockerfile构建</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 容器保存为镜像----并运行成容器</span></span><br><span class="line">	<span class="comment"># 运行一个centos容器</span></span><br><span class="line">    docker run -<span class="built_in">id</span> --name cenros cnetos:<span class="number">7</span></span><br><span class="line">    <span class="comment"># 在容器中装vim</span></span><br><span class="line">    docker <span class="built_in">exec</span> -it centos /<span class="built_in">bin</span>/bash</span><br><span class="line">    <span class="comment"># 安装vim</span></span><br><span class="line">    yum install vim -y</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 把容器换成镜像（centos+vim）</span></span><br><span class="line">    docker commit centos centos_vim_image</span><br><span class="line">    <span class="comment"># 查看---你就会发现有一个进行镜像：centos_vim_image:latest</span></span><br><span class="line">    docker images </span><br><span class="line">    <span class="comment"># 把centos_vim 容器删除</span></span><br><span class="line">    docker rm centos -f</span><br><span class="line">    <span class="comment"># 基于新构建的镜像，运行成容器</span></span><br><span class="line">    docker run -<span class="built_in">id</span> --name centos_vim centos_vim_image:latest</span><br><span class="line">    <span class="comment"># 进入容器中，查看，发现安装的vim都在</span></span><br><span class="line">    docker <span class="built_in">exec</span> -it centos_vim /<span class="built_in">bin</span>/bash</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 本地镜像----推从到远端docker仓库---私有的仓库</span></span><br><span class="line">	<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h1>【三】Dockerfile</h1>
<h2 id="【1】dockerfile介绍和常用命令">【1】dockerfile介绍和常用命令</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 镜像从哪里来？？？</span></span><br><span class="line">	- 远程仓库拉取的 docker pull </span><br><span class="line">    - 用容器做成的镜像  docker commit</span><br><span class="line">    - 把备份的恢复 docker load</span><br><span class="line">    - 使用Dockerfile来构建---------这个方式使用的最多</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 什么是Dockerfile</span></span><br><span class="line">	- Dockerfile是由一系列命令和参数构成的脚本文件，这些命令应用于基础镜像并最终创建一个新的镜像</span><br><span class="line">    </span><br><span class="line"><span class="comment"># Dockerfile的命令</span></span><br><span class="line">	FROM 基础镜像 	       <span class="comment">#基于哪个基础镜像来构建</span></span><br><span class="line">    MAINTAINER lqz 	     <span class="comment"># 声明镜像的创建者</span></span><br><span class="line">    ENV key value 	     <span class="comment"># 设置环境变量 (可以写多条)</span></span><br><span class="line">    ENV key value 	     <span class="comment"># 设置环境变量 (可以写多条)</span></span><br><span class="line">    RUN command 	     <span class="comment">#是Dockerfile的核心部分(可以写多条)</span></span><br><span class="line">    ADD source_dir/file dest_dir/file 	<span class="comment">#将宿主机的文件复制到镜像内，如果是一个压缩文件，将会在复制后自动解压</span></span><br><span class="line">    COPY source_dir/file dest_dir/file 	<span class="comment"># 和ADD相似，但是如果有压缩文件并不能解压</span></span><br><span class="line">    WORKDIR lqz 	<span class="comment"># 设置工作目录，运行起这个容器，来到的路径就是这个路径</span></span><br><span class="line">    </span><br><span class="line">    CMD   <span class="comment"># 启动并运行容器执行的命令</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314104157821.png" alt="image-20240314104157821"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314104516220.png" alt="image-20240314104516220"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314104543575.png" alt="image-20240314104543575"></p>
<h2 id="【案例一】">【案例一】</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构建一个带vim的centos:7镜像,根路径下有/lqz/ss.py--&gt;ss.py中写 print(1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建，名字不许叫这个Dockerfile</span></span><br><span class="line">vim Dockerfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将下面的信息添加进去</span></span><br><span class="line">FROM centos:<span class="number">7</span></span><br><span class="line">MAINTAINER lqz</span><br><span class="line">ENV name lqz</span><br><span class="line">ARG age <span class="number">19</span></span><br><span class="line">RUN curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-<span class="number">7.</span>repo</span><br><span class="line">RUN yum install vim -y</span><br><span class="line">RUN mkdir /lqz</span><br><span class="line">RUN touch /lqz/ss.py</span><br><span class="line">RUN echo <span class="string">&#x27;print(1)&#x27;</span> &gt; /lqz/ss.py</span><br><span class="line">RUN echo $name</span><br><span class="line">RUN echo $age</span><br><span class="line">WORKDIR /lqz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于dockerfile构建镜像,不要忘了 .   基于当前路径下的Dockerfile 构建镜像</span></span><br><span class="line">docker build -t=<span class="string">&#x27;centos_lqz_vim&#x27;</span> . </span><br><span class="line">docker images  <span class="comment"># 查看镜像</span></span><br><span class="line"><span class="comment"># 基于这个镜像运行容器</span></span><br><span class="line"> docker run -<span class="built_in">id</span> --name xx centos_lqz_vim</span><br><span class="line"><span class="comment"># 进入到容器</span></span><br><span class="line">docker <span class="built_in">exec</span> -it xx /<span class="built_in">bin</span>/bash</span><br><span class="line"><span class="comment"># 验证vim，和文件夹，文件是否存在</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240314105513191.png" alt="image-20240314105513191"></p>
<h2 id="【案例二】">【案例二】</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">FROM centos:<span class="number">7</span></span><br><span class="line">MAINTAINER lqz</span><br><span class="line">ENV name lqz</span><br><span class="line">RUN mkdir /lqz</span><br><span class="line">RUN touch /lqz/ss.py</span><br><span class="line">RUN echo <span class="string">&#x27;input()&#x27;</span> &gt; /lqz/ss.py</span><br><span class="line">WORKDIR /lqz</span><br><span class="line">CMD [<span class="string">&#x27;python&#x27;</span>] <span class="comment"># 运行容器时会默认加上 /bin/sh -c python</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于dockerfile构建镜像,不要忘了 .   基于当前路径下的Dockerfile 构建镜像</span></span><br><span class="line">docker build -t=<span class="string">&#x27;centos_py&#x27;</span> . </span><br><span class="line">docker images</span><br><span class="line"><span class="comment"># 基于这个镜像运行容器</span></span><br><span class="line"> docker run -<span class="built_in">id</span> --name yy centos_py python /lqz/ss.py</span><br><span class="line"><span class="comment"># 进入到容器</span></span><br><span class="line">docker <span class="built_in">exec</span> -it yy /<span class="built_in">bin</span>/bash</span><br><span class="line"><span class="comment"># 查看环境变量</span></span><br><span class="line"><span class="comment"># python看</span></span><br><span class="line">os.environ.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"><span class="comment"># shell看</span></span><br><span class="line">echo $name</span><br></pre></td></tr></table></figure>
<h2 id="【2】常用和不常用命令">【2】常用和不常用命令</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 所有命令</span></span><br><span class="line">https://zhuanlan.zhihu.com/p/<span class="number">419175543</span>?utm_id=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">FROM: 指定基础镜像</span><br><span class="line">RUN： 构建镜像过程中需要执行的命令。可以有多条。docker build</span><br><span class="line">CMD：添加启动容器时需要执行的命令。多条只有最后一条生效。可以在启动容器时被覆盖和修改</span><br><span class="line">ENTRYPOINT：同CMD，但这个一定会被执行，不会被覆盖修改。</span><br><span class="line">LABEL：表明镜像的作者。将被遗弃，被LABEL代替。</span><br><span class="line">EXPOSE：设置对外暴露的端口。</span><br><span class="line">ENV：设置执行命令时的环境变量，并且在构建完成后，仍然生效</span><br><span class="line">ARG：设置只在构建过程中使用的环境变量，构建完成后，将消失</span><br><span class="line">ADD：将本地文件或目录拷贝到镜像的文件系统中。能解压特定格式文件，能将URL作为要拷贝的文件</span><br><span class="line">COPY：将本地文件或目录拷贝到镜像的文件系统中。</span><br><span class="line">VOLUME：添加数据卷</span><br><span class="line">USER：指定以哪个用户的名义执行RUN, CMD 和ENTRYPOINT等命令</span><br><span class="line">WORKDIR：设置工作目录</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 docker logs 容器名字/id号  查看镜像运行成容器时，错误日志</span></span><br><span class="line">	-如果容器没起来，看日志排查错误</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 CMD  ENTRYPOINT  --https://zhuanlan.zhihu.com/p/548188679</span></span><br><span class="line"><span class="comment">#相同点：</span></span><br><span class="line">只能写一条，如果写了多条，那么只有最后一条生效。</span><br><span class="line">容器启动时才运行，运行时机相同。</span><br><span class="line"><span class="comment"># 不同点：</span></span><br><span class="line">ENTRYPOINT不会被运行的command覆盖，而CMD则会被覆盖。</span><br><span class="line">如果我们在Dockerfile中同时写了ENTRYPOINT和CMD，并且CMD指令不是一个完整的可执行命令，那么CMD指定的内容将会作为ENTRYPOINT的参数</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 ARG 和 ENV</span></span><br><span class="line">ENV：设置执行命令时的环境变量，并且在构建完成后，仍然生效</span><br><span class="line">ARG：设置只在构建过程中使用的环境变量，构建完成后，将消失</span><br></pre></td></tr></table></figure>
<h2 id="【3】ARG-演示">【3】ARG 演示</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 案例Dockerfile</span></span><br><span class="line"></span><br><span class="line">FROM centos:centos7</span><br><span class="line">MAINTAINER lqz</span><br><span class="line">ENV name lqz</span><br><span class="line">ARG age=<span class="number">19</span></span><br><span class="line">RUN mkdir /lqz</span><br><span class="line">RUN touch /lqz/ss.py</span><br><span class="line">RUN echo <span class="string">&#x27;input()&#x27;</span> &gt; /lqz/ss.py</span><br><span class="line">RUN echo $age</span><br><span class="line"></span><br><span class="line">WORKDIR /lqz</span><br><span class="line">CMD python ./ss.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># docker build -t=&#x27;xxxx&#x27; . </span></span><br></pre></td></tr></table></figure>
<h2 id="【4】dockerfile构建一个djagno项目（books图书管理系统）">【4】dockerfile构建一个djagno项目（books图书管理系统）</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以图书管理系统为例---》公司使用docker流程</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 公司中，使用Docker开发的工作流程</span></span><br><span class="line">第一步：有一个项目，pycharm开发着，开发完后</span><br><span class="line">第二步：在项目路径下新建Dockerfile，写入</span><br><span class="line">FROM python</span><br><span class="line">MAINTAINER lqz</span><br><span class="line">WORKDIR /soft</span><br><span class="line">COPY ./requirements.txt /soft/requirements.txt</span><br><span class="line">RUN pip install -r requirements.txt -i https://pypi.doubanio.com/simple</span><br><span class="line">CMD [<span class="string">&quot;python&quot;</span>,<span class="string">&quot;manage.py&quot;</span>,<span class="string">&quot;runserver&quot;</span>,<span class="string">&quot;0.0.0.0:8080&quot;</span>]</span><br><span class="line">第三步：把代码提交到git</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line">第四步：上线人员：在上线机器上，把代码啦下来</span><br><span class="line">git clone https://gitee.com/liuqingzheng/books.git</span><br><span class="line">第五步：构建镜像</span><br><span class="line">docker build -t=<span class="string">&#x27;books&#x27;</span> .</span><br><span class="line">第六步：运行容器</span><br><span class="line">docker run -<span class="built_in">id</span> --name=books -v /root/books:/soft -p <span class="number">8080</span>:<span class="number">8080</span> books:latest</span><br><span class="line">第七步：其它人访问宿主机的<span class="number">8080</span>端口就能看到项目了</span><br><span class="line"></span><br><span class="line">---------</span><br><span class="line">第八步：开发人员继续提交代码</span><br><span class="line">第九步：运维人员pull代码，重启容器，用户就可以看到最新的了</span><br><span class="line"></span><br><span class="line">重启docker容器即可(第三方依赖变了)--》重写构建镜像，运行容器</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="【5】乌班图构建redis（跟底层宿主机无关）">【5】乌班图构建redis（跟底层宿主机无关）</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://zhuanlan.zhihu.com/p/<span class="number">623811065</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E4%B8%80docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E4%B8%80docker/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>��һ��djangoԭ������mysql</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;drf_mysql_deserialize.settings&#x27;</span>)</span><br><span class="line">    django.setup()</span><br><span class="line">    <span class="keyword">from</span> django.db <span class="keyword">import</span> connection</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ִ��ԭ����sql���---��ʽһ����������</span></span><br><span class="line">    conn = connection.cursor()</span><br><span class="line">    conn.execute(<span class="string">&#x27;select id,name,price from app1_book where id=1&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(conn.fetchall())</span><br><span class="line">    conn.close()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ִ��ԭ����sql���---��ʽ��������</span></span><br><span class="line">    <span class="comment"># ��������ӳ��</span></span><br><span class="line">    <span class="keyword">from</span> app1.models <span class="keyword">import</span> Book</span><br><span class="line"></span><br><span class="line">    book_list = Book.objects.raw(<span class="string">&#x27;select id,name, price from app1_book where id&gt;10&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(book_list)  <span class="comment"># &lt;RawQuerySet: select name, price from app1_book&gt;</span></span><br><span class="line">    <span class="keyword">for</span> book_obj <span class="keyword">in</span> book_list:</span><br><span class="line">        <span class="built_in">print</span>(book_obj)  <span class="comment"># Book object (32)</span></span><br><span class="line">        <span class="built_in">print</span>(book_obj.name)  <span class="comment"># ���μ�</span></span><br></pre></td></tr></table></figure>
<h1>������docker����</h1>
<h2 id="��1�����⻯">��1�����⻯</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  �ڼ�����У����⻯��Ӣ�Virtualization����һ����Դ����������ǽ�������ĸ���ʵ����Դ��������������硢�ڴ漰�洢�ȣ����Գ���ת������ֳ���������ʵ��ṹ��Ĳ����и���ϰ���ʹ�û����Ա�ԭ������̬���õķ�ʽ��Ӧ����Щ��Դ����Щ��Դ�������ⲿ���ǲ���������Դ�ļ��跽ʽ�������������̬�����ơ�һ����ָ�����⻯��Դ�����������������ϴ洢��</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ��ʵ�ʵ����������У����⻯������Ҫ������������ܵ�����Ӳ�����ܹ�ʣ���ϵľɵ�Ӳ�����ܹ��͵��������ã�͸�����ײ�����Ӳ�����Ӷ���󻯵���������Ӳ��  ����Դ�������</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ���⻯��������ܶ࣬���磺������⻯��Ӳ�����⻯���ڴ����⻯���������⻯(vip)���������⻯���������⻯��������ȵȡ�</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="��2������kvm-VMware-openstack-docker-k8s">��2������<code>kvm,VMware,openstack,docker,k8s</code></h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. KVM (Kernel-based Virtual Machine)</span></span><br><span class="line">���ͣ�ȫ���⻯</span><br><span class="line">�ص㣺</span><br><span class="line">KVM �� Linux �ں˵�һ���֣��� Linux ת��Ϊһ������ <span class="number">1</span> ��������������</span><br><span class="line">֧�ֶ��ֲ���ϵͳ�Ĳ������У����� Windows �Ͳ�ͬ�� Linux ���а档</span><br><span class="line">�߶ȼ����� Linux ϵͳ�����ܱ������á�</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. VMware</span></span><br><span class="line">���ͣ�ȫ���⻯</span><br><span class="line">�ص㣺</span><br><span class="line">VMware �ṩ�˶����Ʒ���� VMware vSphere��VMware Workstation �ȡ�</span><br><span class="line">ǿ��Ĺ�����ߺ��û����棬�ʺ���ҵ��Ӧ�á�</span><br><span class="line">�ṩ�߿����ԡ����ؾ���ȹ��ܣ��㷺Ӧ�����������ġ�</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. OpenStack</span></span><br><span class="line">���ͣ��Ƽ���ƽ̨</span><br><span class="line">�ص㣺</span><br><span class="line">OpenStack ��һ����Դ�Ƽ������ƽ̨��֧�ֹ����͹��������˽���ơ�</span><br><span class="line">֧�ֶ������⻯���������� KVM �� VMware����</span><br><span class="line">�ṩ���㡢�洢����������ʺϴ��ģ����</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. Docker</span></span><br><span class="line">���ͣ�������</span><br><span class="line">�ص㣺</span><br><span class="line">Docker ��һ����Դƽ̨�������Զ���Ӧ�ó���Ĳ�����չ�͹����</span><br><span class="line">Ӧ�ó��������������У�����������������ϵͳ�ں˵��໥���롣</span><br><span class="line">����ٶȿ죬��Դ�����ʸߣ��ʺ�΢����ܹ���</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. Kubernetes (K8s)</span></span><br><span class="line">���ͣ���������</span><br><span class="line">�ص㣺</span><br><span class="line">Kubernetes ��һ����Դ��������ƽ̨�������Զ��������Ĳ�����չ�͹����</span><br><span class="line">�ṩ�����֡����ؾ��⡢�������µȹ��ܡ�</span><br><span class="line">֧�ֶ�����������ʱ���� Docker�����ڴ��ģ�����зǳ��ܻ�ӭ��</span><br><span class="line"></span><br><span class="line"><span class="comment"># �ܽ�</span></span><br><span class="line">��Щ�������Խ���˲�ͬ�����⻯�����������󣬴������������������ţ�Ϊ�ִ� IT ������ʩ�ṩ��ǿ���֧�֡�ѡ����ʵĹ���ȡ���ھ����ҵ������ͼ���ջ��</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240619105810065.png" alt="image-20240619105810065"></p>
<h2 id="��3��docker����">��3��docker����</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Docker ��һ����Դ��Ŀ�������� 2013 ���������� dotCloud ��˾�ڲ���һ��ҵ����Ŀ�������� Google ��˾�Ƴ��� Go ����ʵ�֡� ���� Linux ����ᣬ����� Apache 2.0 Э�飬��Ŀ�������Ͻ���ά����</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ��������������������������������������������������ŵ㣬�����ٶȿ���ŵ�</span></span><br><span class="line"><span class="comment"># ������Դ���룬�������</span></span><br><span class="line"><span class="comment"># ����������һ�����������</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker����������</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Docker �Ļ����� Linux ������LXC���ȼ���</span></span><br></pre></td></tr></table></figure>
<h2 id="��4��docker������������L�">��4��docker������������Ƚ�</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker ����Ҫ���⻯�� ����ϵͳ��һ��---����������--ռ�ռ��С---������ʵ�ָ���</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># �����������ȱ�㣺</span></span><br><span class="line">    <span class="number">1.</span>��Դռ��̫��</span><br><span class="line">    <span class="number">2.</span>���ಽ���</span><br><span class="line">    <span class="number">3.</span>�������</span><br><span class="line"></span><br><span class="line"><span class="comment"># ����������</span></span><br><span class="line">    <span class="number">1.</span>��������Դ�����ʸ�</span><br><span class="line">    <span class="number">2.</span>�Ƚ�������</span><br><span class="line">    <span class="number">3.</span>���������ԣ�һ������</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">�Ƚ�Docker�������������ͬ��</span><br><span class="line">? <span class="number">1.</span>��ͳ����������һ��Ӳ��������һ�������Ĳ���ϵͳ��Ȼ�������ϵͳ�ϰ�װ���������</span><br><span class="line">? <span class="number">2.</span>�����ڵ�Ӧ��֮�������� �����������ݣ�������û���Լ����ں˵ģ�Ҳû���������ǵ�Ӳ�������Ծ������</span><br><span class="line">? <span class="number">3.</span>ÿ���������ǻ������ģ�ÿ�������ڶ��������Լ����ļ�ϵͳ������Ӱ��</span><br><span class="line">? <span class="number">4.</span>��ȫ�ԣ�docker�İ�ȫ�Ը���</span><br><span class="line">? <span class="number">5.</span>���������ȣ�docker�����Ը�����docker���ڽ���֮��ĸ��룬�������ʵ��ϵͳ�������</span><br><span class="line">? <span class="number">6.</span>docker����ʱ�뼶�ģ�docker�Ŀ��ٵ����ԣ������ǿ��������ԡ����𶼿��Խ�Լ����ʱ��</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240619110513136.png" alt="image-20240619110513136"></p>
<h2 id="��5��docker�ܹ�">��5��docker�ܹ�</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cs �ܹ�---���ͻ��˷����</span></span><br><span class="line">	- c �ˣ��û���������������</span><br><span class="line">    - s�ˣ������û����ִ��</span><br><span class="line">    -c��sͨ�ţ�ʹ��httpЭ�飬��ѭrestful�淶</span><br><span class="line">    	-mysql��tcp---���Զ����   </span><br><span class="line">        -redis��tcp---���Զ����  </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">  <span class="comment"># �ܹ�</span></span><br><span class="line">	<span class="number">1</span> client���ͻ��ˣ���������</span><br><span class="line">    <span class="number">2</span> ����ˣ�</span><br><span class="line">    	containers������</span><br><span class="line">        images:����--����ע����������������</span><br><span class="line">        </span><br><span class="line">    <span class="number">3</span> register��ע������</span><br><span class="line">    	-���˺ܶྵ��--��redis��nginx��mysql</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240312121741177-17187679368771.png" alt="image-20240312121741177-17187679368771"></p>
<h1>������docker��װ������</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 1 linux   win ��װ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 win:https://www.docker.com/products/docker-desktop/  ���� docker-desktop</span></span><br><span class="line">	-һ·��һ����װ</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 3 centos 7.9 ��װ</span></span><br><span class="line">	-��Ƶ�������vmware �������ļ�</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 4 ����һ��centos 7.9�������������������Ͻ�docker</span></span><br><span class="line">	- �����������֮�󣬿���ʹ��finalshell����������������finalshell��װdocker</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 5 ���֮ǰװ����ж��</span></span><br><span class="line">    <span class="comment"># yum remove docker docker-common  docker-selinux docker-engine</span></span><br><span class="line">        <span class="comment"># ɾ��</span></span><br><span class="line">        <span class="comment"># rm -rf /var/lib/docker</span></span><br><span class="line">    yum update  <span class="comment"># ����yum�ֿ�</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ���䣺���yum install װ�����װ���ˣ���������Ѳֿ⻻�ɰ�����</span></span><br><span class="line">    cd /etc/yum.repos.d</span><br><span class="line">    cp  CentOS-Base.repo CentOS-Base.repo.bk</span><br><span class="line">    <span class="comment"># wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span></span><br><span class="line">        <span class="comment"># ִ������Ĵ���Ҫ�Ǳ��Ҳ���wget����Ļ�����ִ������Ĵ���</span></span><br><span class="line">        - curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-<span class="number">7.</span>repo</span><br><span class="line">    <span class="comment"># �������</span></span><br><span class="line">    yum clean <span class="built_in">all</span></span><br><span class="line">    <span class="comment"># ���ɻ���</span></span><br><span class="line">    yum makecache</span><br><span class="line">    <span class="comment"># ����ϵͳ</span></span><br><span class="line">    yum update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6 ��װ</span></span><br><span class="line">    <span class="comment"># װ����</span></span><br><span class="line">    yum install -y yum-utils device-mapper-persistent-data lvm2 container-selinux</span><br><span class="line">    <span class="comment"># �������ȥdocker</span></span><br><span class="line">    yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">    <span class="comment"># �鿴docker����Щ�汾---����ǰ������ִ��������Ĵ���</span></span><br><span class="line">    yum <span class="built_in">list</span> docker-ce --showduplicates | sort -r</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ��װ</span></span><br><span class="line">    yum install docker-ce docker-ce-cli containerd.io -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7 �鿴��װ�İ汾</span></span><br><span class="line">    docker --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8 Ŀǰ����ֻװ�� docker-ce docker-ce-cli containerd.io</span></span><br><span class="line">	-ֻ�У�c  �� s��</span><br><span class="line">    -û��docker-compose</span><br><span class="line">    -û��ͼ�λ�����</span><br><span class="line">    -��docker-destop������</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 9 ���docker</span></span><br><span class="line">    <span class="comment"># �鿴docker��״̬</span></span><br><span class="line">    systemctl status docker</span><br><span class="line">    <span class="comment"># ���docker</span></span><br><span class="line">    systemctl start docker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 10 ����--����Զ������������---��hub.docker.com --&gt;�ֿ��µ�</span></span><br><span class="line">	-�зǳ��ྵ�������������ѵ��Ժ󣬾����в�ͬ�汾</span><br><span class="line">    -Ŀǰ�����ʲ����ˣ���ȥ������</span><br><span class="line">    -���ã����ھ���վ��������</span><br><span class="line">    <span class="comment"># �������Ҳ����������</span></span><br><span class="line">    -https://cr.console.aliyun.com/cn-shanghai/instances/mirrors</span><br><span class="line">    <span class="comment"># ������һЩdocker�ľ���վ���ٶ�����</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ����docker</span></span><br><span class="line">    sudo mkdir -p /etc/docker <span class="comment"># ����У��Ͳ���Ҫ������</span></span><br><span class="line">    </span><br><span class="line">    vi /etc/docker/daemon.json </span><br><span class="line">    <span class="comment"># ����</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://docker.1panel.live&quot;</span>,<span class="string">&quot;https://docker.rainbond.cc&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># �� esc</span></span><br><span class="line">    <span class="comment"># ����  :wq  �ûس�--</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># �����˳�</span></span><br><span class="line">    	- ���¼���docker���ã�systemctl daemon-reload</span><br><span class="line">		- ����docker����systemctl restart docker</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># ����֮������</span></span><br><span class="line">    	- docker pull redis</span><br><span class="line">        - ����Ļ����ܿ��ܾ���Դ�����ˣ�������Դ----�ٶ���</span><br></pre></td></tr></table></figure>
<h1>���ġ�docker����Դ����</h1>
<h2 id="��1�����������">��1�����������</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ����image</span></span><br><span class="line">	- һ���ļ�---��Ŀǰ���Ǵ�register(hub.docker.com)---������(docker pull ����)---��������������centos <span class="number">7.9</span>������</span><br><span class="line">    </span><br><span class="line">    -��ȣ�������װϵͳ</span><br><span class="line">    	- ����ϵͳ�ļ� xx.iso---&gt;װ���������</span><br><span class="line">        - �����㵱�� xx.iso ����ϵͳ�ļ����������</span><br><span class="line">        - ��isoװ�ڲ�ͬ�������---�����---����̨�в���ϵͳ�Ļ���</span><br><span class="line">       </span><br><span class="line">    <span class="comment"># ����Ĳ���</span></span><br><span class="line">        - ��������ʹ�� docker build ������� Dockerfile ��������</span><br><span class="line">        - �鿴����ʹ�� docker images �����г����ش��ڵľ���</span><br><span class="line">        - ɾ������ʹ�� docker rmi ����ɾ��������Ҫ�ľ���</span><br><span class="line">    </span><br><span class="line"><span class="comment"># ������container</span></span><br><span class="line">	-��������---�����г�����</span><br><span class="line">    - ���������������������������ļ�������</span><br><span class="line">    -��ȣ�</span><br><span class="line">    	-��������һ���������еĲ���ϵͳ</span><br><span class="line">    -һ�����񣬿������гɶ������</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ��������������</span></span><br><span class="line">        - �����м�����Ҫ���������ڽ׶Σ�</span><br><span class="line"></span><br><span class="line">        - ������ʹ�� docker create �� docker run ���������ʵ����</span><br><span class="line">        - ���������ͨ�� docker start ��������Ѵ��������������������ʱ������ִ�� Dockerfile �ж�������</span><br><span class="line">        - ֹͣ��ʹ�� docker stop ����������ŵ�ֹͣ�������е�������</span><br><span class="line">        - ɾ����ͨ�� docker rm �������ɾ��������Ҫ��������</span><br><span class="line">    <span class="comment"># �����Ĺ���</span></span><br><span class="line">		- �鿴������ʹ�� docker ps ����鿴�������е�������docker ps -a �鿴����������������ֹͣ�ģ���</span><br><span class="line">		- ��������������ʹ�� docker <span class="built_in">exec</span> �����������е�������ִ���������ʹ�� docker attach ���ӵ������ı�׼���������</span><br><span class="line">		- ��־�����ʹ�� docker logs ����鿴�����������־��������Ժͼ�ء�</span><br><span class="line">    </span><br><span class="line"><span class="comment"># ���</span></span><br><span class="line">	- python���������</span><br><span class="line">    	- �ࣺ����</span><br><span class="line">       	- ����ʵ�����õ��������û�������Ƕ�����</span><br><span class="line">        </span><br><span class="line"><span class="comment"># �Ժ�һ�����������Ǿ͵����ǣ�һ������ϵͳ + ���----����������</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240926122213317.png" alt="image-20240926122213317"></p>
<h2 id="��2������Ĳ���">��2������Ĳ���</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 0 ��������</span></span><br><span class="line">	-ȥ��վ�ѣ�https://hub.docker.com/ </span><br><span class="line">	-ʹ���������ѣ�docker search mysql</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 1 ��ȡ������ȥ����---����register���ص�����--������վ--��������ȡ</span></span><br><span class="line">	docker pull mysql:<span class="number">5.7</span> <span class="comment"># ����mysql 5.7����</span></span><br><span class="line">	docker pull redis:latest <span class="comment"># ����redis���µľ���</span></span><br><span class="line">    docker pull nginx:latest  <span class="comment"># ���� nginx���µľ���</span></span><br><span class="line">    docker pull centos:centos7  <span class="comment"># ���� centos���µľ���</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 2 �鿴����</span></span><br><span class="line">	docker images</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 ɾ������</span></span><br><span class="line">	docker rmi redis:latest</span><br></pre></td></tr></table></figure>
<h1>���塿�����Ĳ���</h1>
<h2 id="��0���������">��0���������</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ����</span></span><br><span class="line">	- docker search  <span class="comment"># �鿴����Щ����</span></span><br><span class="line">    - docker pull    <span class="comment"># ���ؾ���</span></span><br><span class="line">    - docker images   <span class="comment"># �鿴����</span></span><br><span class="line">    - docker rmi    <span class="comment"># ɾ������</span></span><br><span class="line">    	<span class="comment"># ����ǣ�docker remove image����д</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># �������У����������һ������������ж�������������ǿ��Խ�һ����������һ�������</span></span><br><span class="line">	- ��������У�</span><br><span class="line">    	- ����ϵͳ</span><br><span class="line">        - �ļ�</span><br><span class="line">        - ���</span><br><span class="line">        - ����</span><br><span class="line">        </span><br><span class="line"><span class="comment"># ���г�һ������</span></span><br><span class="line">	<span class="comment"># �򵥵���������н���</span></span><br><span class="line">	- docker run -<span class="built_in">id</span> ubuntu</span><br><span class="line">    - docker run -it ubuntu</span><br></pre></td></tr></table></figure>
<h2 id="��1��run-��������">��1��run-----��������</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 �Ѿ������г�һ������</span></span><br><span class="line">	<span class="comment"># ֱ�����У��������û�У���ȥԶ�ֿ̲�����</span></span><br><span class="line">    docker run -<span class="built_in">id</span> --name=centos7 centos:<span class="number">7</span></span><br><span class="line">    docker run -it --name=centos7 centos:<span class="number">7</span></span><br><span class="line">    <span class="comment"># ����</span></span><br><span class="line">    	<span class="comment"># -id����������������������ڲ�</span></span><br><span class="line">        <span class="comment"># -it��������������������ڲ�</span></span><br><span class="line">        <span class="comment"># --name��ָ�����������֣��������ֲ������ظ�������ظ��˾ͻᱨ���������������֣���д�����ֵĻ������������һ������</span></span><br><span class="line">        <span class="comment"># centos:7�������Ǹ�������������</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 2 �鿴�������е�����</span></span><br><span class="line">	- docker ps</span><br><span class="line"><span class="comment"># 3 ���뵽�������ڲ�</span></span><br><span class="line">	- docker <span class="built_in">exec</span> -it centos7 /<span class="built_in">bin</span>/bash</span><br><span class="line">    	- /<span class="built_in">bin</span>/bash������Ҫ��������ִ��centos7��������������һ�� Bash shell</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 4 ִ��docker run -it  centos:centos7 �����������һ���µ�docker����</span></span><br><span class="line">	- ���뵽�������ڲ�������ִ��centos�����������������ϵͳ���ܶ�����û�У�ʹ�õĻ���Ҫ��װ</span><br><span class="line">    - �˳�����������������exit</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 5 ������Ҫ����Ȼ������</span></span><br><span class="line">	- ������create��</span><br><span class="line">    - ���У�run</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 6 ����Ҫ���У��ڲ������и�ǰ̨�������������������ͻ�ͣ��</span></span><br><span class="line">	<span class="comment"># ���ӣ�</span></span><br><span class="line">    	- docker run -<span class="built_in">id</span> --name=-=demo redis:latest sleep <span class="number">10</span></span><br><span class="line">        <span class="comment"># ������20s����������ͻ��Զ�ֹͣ</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 6 �鿴��������--����ֹͣ������</span></span><br><span class="line">	- docker ps -a</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 7 �������</span></span><br><span class="line">	- docker start centos7</span><br><span class="line">	�ͱ���nginx���������ʾ���һ��n����ϵͳ + ���</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8 ֹͣ����</span></span><br><span class="line">	- docker stop ������<span class="built_in">id</span>��</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 9 ɾ��������ɾ���������������ֹͣ����ֹͣ������ɾ��</span></span><br><span class="line">	- docker rm ����������/������<span class="built_in">id</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 10 һ����ɾ���������</span></span><br><span class="line">	- docker rm ����<span class="built_in">id</span>������id1</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 11 ɾ�����е�����</span></span><br><span class="line">	- docker rm `docker ps -a -q`</span><br><span class="line">    <span class="comment"># ���ͣ�docker ps -a -q���ǲ鿴����������id��</span></span><br><span class="line">    - docker rm `docker ps -a -q` -f  <span class="comment"># ��Σ������</span></span><br><span class="line">    <span class="comment"># ����������Ҫʹ�ã������ǿ��ɾ�����е�������������û����ʹ��</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240620102936389.png" alt="image-20240620102936389"></p>
<h2 id="��2��run����Ĳ���">��2��run����Ĳ���</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 docker run ����</span></span><br><span class="line">	- i����ʾ��������</span><br><span class="line">    - d�����ػ�ʽ�����ں�̨���У�������������������������������л����������ϣ�û�н��뵽�����ڲ����������һ���µ�docker����</span><br><span class="line">    - t����ʾ��������󣬽��뵽�����ڵ������С�������һ��α�ն�</span><br><span class="line">    - name��ָ�����������֣������ָ�������һ������</span><br><span class="line">    - p����ʾ�˿�ӳ�䣬ǰ�����������˿ڣ������������ڵ�ӳ��˿ڣ�����ʹ�ö��-p������˿�ӳ��</span><br><span class="line">    - v����ʾĿ¼ӳ���ϵ��ǰ����������Ŀ¼��������������Ŀ¼����������һ��-v�����Ŀ¼���ļ�ӳ�䡣ע�������Ŀ¼ӳ�䣬�������������޸ģ�Ȼ�����������</span><br></pre></td></tr></table></figure>
<h3 id="��������">��������</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ���һ��centos���������룬���ֽ�mycentos���������ڲ�װһ��vim��Ȼ���˳�</span></span><br><span class="line">	- <span class="number">1</span>��docker run -<span class="built_in">id</span> --name=mycentos centos:<span class="number">7</span></span><br><span class="line">    - <span class="number">2</span>������������</span><br><span class="line">    - <span class="number">3</span>�����뵽�����ڲ����¿���һ��bash���̣���docker <span class="built_in">exec</span> -it mycentos /<span class="built_in">bin</span>/bash</span><br><span class="line">    - <span class="number">4</span>: ���أ�yum install vim -y�����ܻ����ز��ˣ�</span><br><span class="line">    - <span class="number">5</span>��curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-<span class="number">7.</span>repo</span><br><span class="line">    - <span class="number">6</span>����ִ�У�yum install vim -y</span><br><span class="line">    - <span class="number">7</span>���˳�������exit</span><br><span class="line">    - ���������û��ֹͣ����Ϊ�������е�ֻ��bash����--������ֻ��bash����</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker exec ����</span></span><br><span class="line">	- ��������������������ִ����������������ظ�������</span><br><span class="line">    - docker <span class="built_in">exec</span> ����������/������<span class="built_in">id</span>�� ls</span><br><span class="line">    - eg��docker <span class="built_in">exec</span> mycentos ls  <span class="comment"># ls���г�ָ��Ŀ¼�е��ļ���Ŀ¼</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ���뵽�������ڲ�</span></span><br><span class="line">	- ���������ڲ���docker <span class="built_in">exec</span> -it ��������/����<span class="built_in">id</span> /<span class="built_in">bin</span>/bash</span><br><span class="line">    <span class="comment"># ��������ִ������</span></span><br><span class="line">		- ���docker <span class="built_in">exec</span> ����������/������<span class="built_in">id</span>�� ����</span><br><span class="line">    - �������������������룺sh <span class="comment"># ����һ�������/bin/bash</span></span><br><span class="line">    <span class="comment"># �˳�������/bin/bash����</span></span><br><span class="line">    - exit</span><br></pre></td></tr></table></figure>
<h2 id="��3��v-L¼ӳ��">��3��v----Ŀ¼ӳ��</h2>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240313102219623.png" alt="image-20240313102219623"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -v������ʾ��������ʱ������������Ŀ¼��ӳ��</span></span><br><span class="line">	<span class="comment"># ����Ҫ�Ǻ�����������ӳ�䣬��ֻ��Ҫ�޸��������ϵ��ļ����ݣ�������ӳ����ļ�Ҳ������޸ģ���˫���</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ������</span></span><br><span class="line">	<span class="comment"># ����</span></span><br><span class="line">	- ����һ��centos77�����������룬��Ŀ¼ӳ��</span><br><span class="line">    - ����������/root/lqz�ļ��У�ӳ�䵽�����ڲ���/lpz�ļ��У����������û��lqz�ļ��У��ͻ��Զ�������</span><br><span class="line">    - -v����д������������ļ��л������ļ�</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ʵ��</span></span><br><span class="line">    - cd <span class="comment"># ��Ŀ¼��ǰ������root�û�</span></span><br><span class="line">    - mkdir lsk <span class="comment"># ��rootĿ¼�´���һ��lqz�ļ���</span></span><br><span class="line">    - ������������Ŀ¼ӳ��</span><br><span class="line">    	- docker run -<span class="built_in">id</span> --name=centos77 -v /root/lqz:/lqz centos:<span class="number">7</span></span><br><span class="line">    - ������������/root/lsk�´���һ��xx.txt</span><br><span class="line">    	- vim xx.txt</span><br><span class="line">    - ���뵽centos77�����ڲ������㴴����xx.txt�ļ����ڲ�</span><br><span class="line">    - ˫�����໥Ӱ���</span><br><span class="line">    	- �����ڲ��޸��ļ�---��Ӱ���ⲿ�������ݣ�</span><br><span class="line">        - �ⲿ�������ݣ��޸��ļ�----��Ӱ���ڲ���������</span><br><span class="line">        </span><br><span class="line"><span class="comment"># Ŀ¼ӳ��ô��ǣ��������ǲ���django��Ŀ</span></span><br><span class="line">	- �и�django����������ӳ�䣬��������������ϼ��ɣ��Ժ�����˴��룬ֻҪ�����������������������</span><br><span class="line">    - ����mysql����---��mysql�����ļ�������dataĿ¼������������������ӳ��</span><br><span class="line">    	��� mysql����---�������ݣ��ŵ�������---�����ɾ������---�����ݿ�ȫû��</span><br><span class="line">    	�����ݣ�������������---��������ɾ��---�������ݻ���----�������һ����������ӳ��---�����ݶ�����</span><br><span class="line">        </span><br><span class="line"><span class="comment"># ����</span></span><br><span class="line">	<span class="comment"># һ����ɾ����������</span></span><br><span class="line">    	- docker rm `docker ps -a -q`</span><br><span class="line">    <span class="comment"># һ����ɾ�����о���</span></span><br><span class="line">    	- docker rm `docker images -q`</span><br></pre></td></tr></table></figure>
<h2 id="��4��p-�˿�ӳ��">��4��p----�˿�ӳ��</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 -p�������˿�ӳ�䣬���������һ��mysql5.7---�����е�3306��������������3306û�˼��������˿�ӳ�����������3306�ͷ���docker���������������</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 ����</span></span><br><span class="line">	- docker run -<span class="built_in">id</span> --name=mysql5<span class="number">.7</span> -p <span class="number">3307</span>:<span class="number">3306</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -p�����mysql���� -p �������˿�:�����˿�</span></span><br><span class="line"><span class="comment"># -e�������mysql��root������123456</span></span><br><span class="line"><span class="comment"># �Ժ�̨�ػ���������mysql������mysql��root�û�������123456�����������������˶˿�ӳ��</span></span><br><span class="line">	- �������Ķ˿�<span class="number">3307</span>��ӳ�������Ķ˿�<span class="number">3306</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 2.1 �鿴������3307�˿�ռ�����</span></span><br><span class="line">	-  netstat -nlp |grep <span class="number">3307</span> <span class="comment"># �鿴����3307�˿�ռ�����</span></span><br><span class="line">    - ����ȱ��netstat���yum install net-tools -y</span><br><span class="line">    - �ڴβ鿴��netstat -nlp |grep <span class="number">3307</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># Զ��������������3307�˿�</span></span><br><span class="line">	- �Ժ����������<span class="number">3307</span>�˿ھ͵��ڷ���������<span class="number">3306</span>�˿�</span><br><span class="line">    <span class="comment"># win��������Զ������mysql</span></span><br><span class="line">    	- �ն����������ӣ�mysql -h <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span> -P <span class="number">3307</span> -uroot -p</span><br><span class="line">        - Navicate�� ���ӣ�����lsk���ݿ�</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># ������--�����뵽�����ڲ�--�����뵽mysql���鿴��û�д���lsk�����</span></span><br><span class="line">        docker <span class="built_in">exec</span> -it mysql5<span class="number">.7</span> /<span class="built_in">bin</span>/bash <span class="comment"># ���������ڲ�</span></span><br><span class="line">        mysql -uroot  -p  <span class="comment"># ����mysql</span></span><br><span class="line">        show databases;  <span class="comment"># �鿴�������ݿ�</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240313104034977.png" alt="image-20240313104034977"></p>
<h2 id="��5������">��5������</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># �������</span></span><br><span class="line">	docker start ����<span class="built_in">id</span>/��������</span><br><span class="line"></span><br><span class="line"><span class="comment"># ֹͣ����</span></span><br><span class="line">	docker stop ����<span class="built_in">id</span>/��������</span><br><span class="line"></span><br><span class="line"><span class="comment"># �鿴���е�������ֹͣ��δֹͣ��ȫ��</span></span><br><span class="line">	docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment">#  mysql�������ײ�Ĳ���ϵͳ�� centos����ϵͳ��װ����Ļ���Ҫ</span></span><br><span class="line">	yum install</span><br><span class="line">	<span class="comment"># �����debianϵͳ�Ļ�---ִ������</span></span><br><span class="line">    apt-get update</span><br><span class="line">    apt-get install vim -y</span><br><span class="line">    </span><br><span class="line"><span class="comment"># �ļ�����(������ִ��)</span></span><br><span class="line">	<span class="comment"># �������ļ�cope���������ϣ�������������ִ�У�</span></span><br><span class="line">    	docker cp ��������:����Ŀ¼ ��Ҫ�������ļ���Ŀ¼</span><br><span class="line">        docker cp  mysql5<span class="number">.7</span>:/xx.txt /root/lsk/lsk.txt   </span><br><span class="line">    <span class="comment"># ���������ļ�copy��������</span></span><br><span class="line">        docker cp ��Ҫ�������ļ���Ŀ¼ ��������:����Ŀ¼</span><br><span class="line">        docker cp /root/lqz/xx.txt  mysql5<span class="number">.7</span>:/xx.txt</span><br><span class="line">            </span><br><span class="line"><span class="comment"># �鿴������ip��ַ</span></span><br><span class="line">	docker inspect ��������  <span class="comment"># �鿴��������ϸ�������ܶ�</span></span><br><span class="line">    docker inspect �������ƣ�����ID�� --<span class="built_in">format</span>=<span class="string">&#x27;`\\\&#123;&#123;.NetworkSettings.Networks.bridge.IPAddress\\\&#125;&#125;`&#x27;</span> </span><br><span class="line">    </span><br><span class="line"><span class="comment"># �ڶ������֮���ǿ���pingͨ��(������������Ҳ����)</span></span><br><span class="line">    <span class="comment"># mycentos:172.17.0.2</span></span><br><span class="line">    <span class="comment"># mysql5.7:172.17.0.4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ȱ����Ͱ�װ</span></span><br><span class="line">    	apt-get install iputils-ping</span><br><span class="line">    ping <span class="number">172.17</span><span class="number">.0</span><span class="number">.2</span>  <span class="comment"># ping����mycentos</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># ɾ��������ɾ����ֹͣ��������</span></span><br><span class="line">	docker rm ����<span class="built_in">id</span>  </span><br><span class="line">    docker rm `docker ps -a -q` <span class="comment"># ɾ������������������Ҫʹ�ã�</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># ��״̬�ķ����������о���������״̬�ķ���,���Ҫ������״̬����Ҫ��Ŀ¼ӳ��</span></span><br><span class="line">    -mysql reids   ��״̬�����й����в������ݣ����棬����ɾ�������ݾ�û��</span><br><span class="line">    -uwsgi+django  ��״̬�ķ���</span><br><span class="line">    </span><br><span class="line"><span class="comment"># ����</span></span><br><span class="line">	<span class="number">1</span> ip��ַ  ip </span><br><span class="line">        <span class="number">10.0</span><span class="number">.0</span><span class="number">.111</span></span><br><span class="line">        <span class="number">10.0</span><span class="number">.2</span><span class="number">.1</span></span><br><span class="line">        <span class="number">10.0</span><span class="number">.4</span><span class="number">.2</span></span><br><span class="line">    <span class="number">2</span> �������� mask</span><br><span class="line">    	<span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">        </span><br><span class="line">    <span class="number">3</span> ���� gatway</span><br><span class="line">    	<span class="number">10.0</span><span class="number">.0</span><span class="number">.1</span></span><br></pre></td></tr></table></figure>
<h1>�����䡿</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl restart network  ---��������</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker ps   # �鿴�������е�����</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker ps -a  # �鿴���е�����������ֹͣ������</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docekr images  # �鿴����Դ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker exec -it ��������/����id /bin/bash # ���뵽�����ڲ�</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker start ��������/����id  # �������</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ���뵽redis��������ӻ���</span></span><br><span class="line">	- redis-cli SET mykey <span class="string">&quot;Hello, Redis!&quot;</span></span><br><span class="line">	- �ᱨ��������֤</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E4%BA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E4%BA%8C/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:36" itemprop="dateModified" datetime="2025-10-11T18:31:36+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】活动Tab页</h1>
<h2 id="【1】前端">【1】前端</h2>
<h3 id="（1）wxml">（1）<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### （2）`js`</span><br><span class="line"></span><br><span class="line">````js</span><br></pre></td></tr></table></figure>
<h3 id="（3）wxss">（3）<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### （<span class="number">4</span>）`json`</span><br><span class="line"></span><br><span class="line">````json</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 【二】登录功能</span><br><span class="line"></span><br><span class="line">## 【<span class="number">1</span>】前端</span><br><span class="line"></span><br><span class="line">### （<span class="number">1</span>）`wxml`</span><br><span class="line"></span><br><span class="line">````xml</span><br><span class="line"></span><br><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### （<span class="number">2</span>）`js`</span><br><span class="line"></span><br><span class="line">````js</span><br><span class="line"></span><br><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### （<span class="number">3</span>）`wxss`</span><br><span class="line"></span><br><span class="line">```css</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="（4）json">（4）<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1>【三】活动报名</h1>
<h2 id="【1】前端-2">【1】前端</h2>
<h3 id="（1）wxml-2">（1）<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="（2）js">（2）<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="（3）wxss-2">（3）<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="（4）json-2">（4）<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1>【四】积分商城</h1>
<h2 id="【1】前端-3">【1】前端</h2>
<h3 id="（1）wxml-3">（1）<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="（2）js-2">（2）<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="（3）wxss-3">（3）<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="（4）json-3">（4）<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1>【五】后端上线</h1>
<h1>【六】小程序上线</h1>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E5%BD%BC%E5%B2%B8%E5%9B%BE%E7%BD%91%20%E6%A1%88%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E5%BD%BC%E5%B2%B8%E5%9B%BE%E7%BD%91%20%E6%A1%88%E4%BE%8B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>彼岸图网 案例</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Current username：爬虫 </span></span><br><span class="line"><span class="comment"># current date：2024/7/17</span></span><br><span class="line"><span class="comment"># current time ：19:11</span></span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># SpiderImage:爬图片</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpiderImage</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 目标网址</span></span><br><span class="line">        <span class="variable language_">self</span>.target_url = <span class="string">&quot;https://pic.netbian.com&quot;</span></span><br><span class="line">        <span class="comment"># 定义了HTTP请求的一个请求头（header）</span></span><br><span class="line">        <span class="variable language_">self</span>.headers = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: UserAgent().random</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># 当前文件路径</span></span><br><span class="line">        <span class="variable language_">self</span>.BASE_URL = os.path.dirname(__file__)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建目标网址</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_target_url</span>(<span class="params">self, original_url, start_numm, end_num</span>):</span><br><span class="line">        target_url_list = []</span><br><span class="line">        <span class="comment"># 模仿页面：https://pic.netbian.com/4kdongman/index_2.html</span></span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(start_numm, end_num):</span><br><span class="line">            <span class="comment"># 等于1的时候就是第一页</span></span><br><span class="line">            <span class="keyword">if</span> page == <span class="number">1</span>:</span><br><span class="line">                target_url = original_url</span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                target_url = <span class="string">f&quot;https://pic.netbian.com/4kdongman/index_<span class="subst">&#123;page&#125;</span>.html&quot;</span></span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line">        <span class="keyword">return</span> target_url_list</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对目标网址发起请求获取页面源码</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_page_soup</span>(<span class="params">self, target_url=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> target_url:</span><br><span class="line">            <span class="comment"># 目标地址</span></span><br><span class="line">            target_url = <span class="variable language_">self</span>.target_url</span><br><span class="line">        <span class="comment"># 请求的到响应</span></span><br><span class="line">        response = requests.get(url=target_url,</span><br><span class="line">                                headers=<span class="variable language_">self</span>.headers)</span><br><span class="line">        <span class="comment"># 编码</span></span><br><span class="line">        response.encoding = <span class="string">&quot;gbk&quot;</span></span><br><span class="line">        <span class="comment"># 获得目标地址的页面信息</span></span><br><span class="line">        page_text = response.text</span><br><span class="line">        <span class="comment"># 对页面源码生成soup对象</span></span><br><span class="line">        soup = BeautifulSoup(page_text, <span class="string">&quot;lxml&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> soup</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对页面进行分析提取数据</span></span><br><span class="line">    <span class="comment"># 提取页面上的分类</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_category</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 先拿到页面生成器对象</span></span><br><span class="line">        soup = <span class="variable language_">self</span>.spider_page_soup()</span><br><span class="line">        <span class="comment"># 分析代码，提取标签</span></span><br><span class="line">        <span class="comment"># 取到每一个a标签</span></span><br><span class="line">        category_list_obj = soup.find_all(<span class="string">&#x27;div&#x27;</span>, class_=<span class="string">&#x27;classify&#x27;</span>)[<span class="number">0</span>].find_all(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        <span class="comment"># print(category_list_obj)</span></span><br><span class="line">        <span class="comment"># 对每一个标签进行提取</span></span><br><span class="line">        category_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> category_obj <span class="keyword">in</span> category_list_obj:</span><br><span class="line">            <span class="comment"># print(category_obj)</span></span><br><span class="line">            category_name = category_obj.text</span><br><span class="line">            category_url = category_obj.attrs.get(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line">            <span class="comment"># print(category_name, category_url)</span></span><br><span class="line">            <span class="comment"># 观察网址我们可以看出，网站也需要拼接，前面是带域名的</span></span><br><span class="line">            category_url = <span class="variable language_">self</span>.target_url + category_url</span><br><span class="line">            <span class="comment"># print(target_url)</span></span><br><span class="line">            <span class="comment"># 将得到的路径存起来</span></span><br><span class="line">            category_data[category_name] = category_url</span><br><span class="line">        <span class="keyword">return</span> category_data</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 提取的当前页面上的图片的详情链接</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_image_detail_url</span>(<span class="params">self, soup=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="comment"># soup没有的话给空值</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> soup:</span><br><span class="line">            soup = <span class="variable language_">self</span>.spider_page_soup()</span><br><span class="line">        <span class="comment"># 观察页面代码，发现图片都在ur标签的li标签里</span></span><br><span class="line">        <span class="comment"># 我们需要ur下面的li标签</span></span><br><span class="line">        li_list = soup.select(<span class="string">&quot;#main &gt; div.slist &gt; ul &gt;li&quot;</span>)</span><br><span class="line">        <span class="comment"># print(li_list)</span></span><br><span class="line">        <span class="comment"># 遍历每个里标签</span></span><br><span class="line">        img_detail_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            <span class="comment"># 我们需要图片的url</span></span><br><span class="line">            <span class="comment"># #main &gt; div.slist &gt; ul &gt; li:nth-child(1) &gt; a</span></span><br><span class="line">            <span class="comment"># 路径不完整我需要拼接</span></span><br><span class="line">            <span class="comment"># 模仿url：https://pic.netbian.com/tupian/34749.html</span></span><br><span class="line">            href = <span class="variable language_">self</span>.target_url + li.select(<span class="string">&quot; a&quot;</span>)[<span class="number">0</span>].attrs.get(<span class="string">&quot;href&quot;</span>)</span><br><span class="line">            <span class="comment"># print(title, href)</span></span><br><span class="line">            <span class="comment"># 我们拿到了图片的详情链接，继续取完整的图片</span></span><br><span class="line">            <span class="comment"># 我们要获得当前详情页面的soup对象</span></span><br><span class="line">            soup = <span class="variable language_">self</span>.spider_page_soup(target_url=href)</span><br><span class="line">            <span class="comment"># 图片的url,缺域名，加上域名</span></span><br><span class="line">            img_url = <span class="variable language_">self</span>.target_url + soup.select(<span class="string">&quot;#img &gt; img&quot;</span>)[<span class="number">0</span>].attrs.get(<span class="string">&quot;src&quot;</span>)</span><br><span class="line">            <span class="comment"># 拿到图片，地址</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 我们还需要title，来保存图片</span></span><br><span class="line">            img_title = soup.select(<span class="string">&quot;#img &gt; img&quot;</span>)[<span class="number">0</span>].attrs.get(<span class="string">&quot;title&quot;</span>)</span><br><span class="line">            <span class="comment"># 图片名字不能带有*，需要去除</span></span><br><span class="line">            <span class="comment"># 检测到每个图片名字*的索引位置</span></span><br><span class="line">            last_index = img_title.find(<span class="string">&quot;4k&quot;</span>) <span class="keyword">if</span> img_title.find(<span class="string">&quot;4k&quot;</span>) != -<span class="number">1</span> <span class="keyword">else</span> img_title.find(<span class="string">&quot;4K&quot;</span>)</span><br><span class="line">            <span class="comment"># 截取</span></span><br><span class="line">            img_title = img_title[:last_index]</span><br><span class="line">            <span class="comment"># print(img_title)</span></span><br><span class="line">            <span class="comment"># 将图片链接和图片的 名字存到字典里</span></span><br><span class="line">            img_detail_data[img_title] = img_url</span><br><span class="line">        <span class="keyword">return</span> img_detail_data</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 下载图片</span></span><br><span class="line">    <span class="comment"># 根据不同的分类去下载，传入category_name</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">download_image</span>(<span class="params">self, category_name, img_url, img_title</span>):</span><br><span class="line">        <span class="comment"># 对你想下载的图片发起请求</span></span><br><span class="line">        response = requests.get(url=img_url)</span><br><span class="line">        <span class="comment"># 拿到图片的响应数据</span></span><br><span class="line">        <span class="comment"># content = response.content</span></span><br><span class="line">        <span class="comment"># 图片存放的路径，进行拼接</span></span><br><span class="line">        img_dir = os.path.join(<span class="variable language_">self</span>.BASE_URL, <span class="string">&quot;img&quot;</span>, <span class="built_in">str</span>(category_name))</span><br><span class="line">        <span class="comment"># 文件夹不存在自动创建</span></span><br><span class="line">        os.makedirs(img_dir, exist_ok=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 拼接图片文件路径,记得加图片的后缀</span></span><br><span class="line">        img_path = os.path.join(img_dir, img_title + <span class="string">&#x27;.png&#x27;</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(img_path, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            <span class="keyword">for</span> data <span class="keyword">in</span> response.iter_content(<span class="number">1024</span>):</span><br><span class="line">                fp.write(data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;图片<span class="subst">&#123;img_title&#125;</span>下载完成！&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 入口</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 拿到所有的分类</span></span><br><span class="line">        img_category = <span class="variable language_">self</span>.parse_category()</span><br><span class="line">        <span class="built_in">print</span>(img_category)</span><br><span class="line">        category_name_data = &#123;&#125;</span><br><span class="line">        <span class="comment"># enumerate对象，它是一个迭代器，包含元组（包含两个元素，索引和值）</span></span><br><span class="line">        <span class="comment"># start:所以从1开始</span></span><br><span class="line">        <span class="keyword">for</span> index, category_name <span class="keyword">in</span> <span class="built_in">enumerate</span>(img_category.keys(), start=<span class="number">1</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;当前第<span class="subst">&#123;index&#125;</span>个分类：----<span class="subst">&#123;category_name&#125;</span>&quot;</span>)</span><br><span class="line">            category_name_data[index] = category_name</span><br><span class="line">        <span class="comment"># 用户选择下载的分类</span></span><br><span class="line">        category_id = <span class="built_in">input</span>(<span class="string">&quot;输入你选择的分类id：---》&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取类名</span></span><br><span class="line">        category_name = category_name_data[<span class="built_in">int</span>(category_id)]</span><br><span class="line">        <span class="comment"># 起始的url</span></span><br><span class="line">        original_url = img_category[category_name]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 让用户输入想要下载的起始的页码数和结束的页码数</span></span><br><span class="line">        start_num = <span class="built_in">input</span>(<span class="string">&quot;输入你要开始下载的起始页码数：----》&quot;</span>)</span><br><span class="line">        end_num = <span class="built_in">input</span>(<span class="string">&quot;输入你要结束下载的页码数：----》&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建目标地址</span></span><br><span class="line">        target_url_list = <span class="variable language_">self</span>.create_target_url(</span><br><span class="line">            original_url=original_url,</span><br><span class="line">            start_numm=<span class="built_in">int</span>(start_num),</span><br><span class="line">            end_num=<span class="built_in">int</span>(end_num)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 遍历每一网址，或的每一个soup对象</span></span><br><span class="line">        img_detail_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> target_url <span class="keyword">in</span> target_url_list:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                soup = <span class="variable language_">self</span>.spider_page_soup(target_url=target_url)</span><br><span class="line">                <span class="comment"># 获取到图片的地址和详情标题</span></span><br><span class="line">                img_detail_data.update(<span class="variable language_">self</span>.parse_image_detail_url(soup=soup))</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">for</span> img_title, img_url <span class="keyword">in</span> img_detail_data.items():</span><br><span class="line">            <span class="variable language_">self</span>.download_image(img_url=img_url, img_title=img_title, category_name=category_name)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># img_detail_data = self.parse_image_detail_url()</span></span><br><span class="line">        <span class="comment"># # 拆分，字典</span></span><br><span class="line">        <span class="comment"># for img_title, img_url in img_detail_data.items():</span></span><br><span class="line">        <span class="comment">#     self.download_image(img_url, img_title)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = SpiderImage()</span><br><span class="line">    s.main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E8%80%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E8%80%85/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:36" itemprop="dateModified" datetime="2025-10-11T18:31:36+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>��һ���Ի���</h1>
<h2 id="��1��g̬�Ի���">��1��ģ̬�Ի���</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;ClickChank&quot;</span>&gt;</span>�������ģ̬��<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">ClickChank</span>()&#123;</span><br><span class="line">    wx.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;���Ǳ���&#x27;</span>,</span><br><span class="line">      <span class="attr">content</span>: <span class="string">&#x27;��������&#x27;</span>,</span><br><span class="line">      <span class="attr">complete</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">cancel</span>) &#123;</span><br><span class="line">          <span class="comment">// ���ȡ��</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">          <span class="comment">// ���ȷ��</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="��2����Ϣ�Ի���">��2����Ϣ�Ի���</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;ClickData&quot;</span>&gt;</span>��������Ի���<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//������Ϣ��</span></span><br><span class="line">  <span class="title class_">ClickData</span>()&#123;</span><br><span class="line">    wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">      <span class="comment">// ��ʾ��Ϣ</span></span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;����&#x27;</span>,</span><br><span class="line">      <span class="comment">// �����ͼ��</span></span><br><span class="line">      <span class="attr">icon</span>:<span class="string">&quot;success&quot;</span>,</span><br><span class="line">      <span class="comment">// ������ʧ��ʱ��</span></span><br><span class="line">      <span class="attr">duration</span>:<span class="number">2000</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h1>����������</h1>
<h2 id="��1��ͬ��">��1��ͬ��</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleSave&quot;</span>&gt;</span>�洢����<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleGet&quot;</span>&gt;</span>��ȡ����<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleDelete&quot;</span>&gt;</span>ɾ������<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleClear&quot;</span>&gt;</span>�������<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ͬ���洢</span></span><br><span class="line">  <span class="comment">// �洢����</span></span><br><span class="line">  <span class="title function_">handleSave</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">setStorageSync</span>(<span class="string">&quot;key&quot;</span>,<span class="string">&quot;value&quot;</span>)</span><br><span class="line">    wx.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;keys&#x27;</span>, &#123;<span class="attr">name</span>:<span class="string">&quot;lsk&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="string">&quot;22&quot;</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ��ȡ����</span></span><br><span class="line">  <span class="title function_">handleGet</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> value = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;key&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> dict = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;keys&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(dict);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ɾ������</span></span><br><span class="line">  <span class="title function_">handleDelete</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">removeStorageSync</span>(<span class="string">&#x27;key&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// �������</span></span><br><span class="line">  <span class="title function_">handleClear</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">clearStorageSync</span>()</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="��2���첽-����Sync">��2���첽----����Sync</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleSave&quot;</span>&gt;</span>�洢����<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleGet&quot;</span>&gt;</span>��ȡ����<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleDelete&quot;</span>&gt;</span>ɾ������<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleClear&quot;</span>&gt;</span>�������<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// �첽�洢</span></span><br><span class="line"><span class="title function_">handleSave</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">setStorage</span>(&#123;</span><br><span class="line">        <span class="attr">key</span>:<span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>:<span class="string">&quot;justin&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    wx.<span class="title function_">setStorage</span>(&#123;</span><br><span class="line">        <span class="attr">key</span>:<span class="string">&#x27;userinfo&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>:&#123;<span class="attr">name</span>:<span class="string">&#x27;lqz&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">handleGet</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> name= <span class="keyword">await</span> wx.<span class="title function_">getStorage</span>(&#123;<span class="attr">key</span>:<span class="string">&#x27;name&#x27;</span>&#125;)</span><br><span class="line">    <span class="keyword">const</span> userinfo= <span class="keyword">await</span> wx.<span class="title function_">getStorage</span>(&#123;<span class="attr">key</span>:<span class="string">&#x27;userinfo&#x27;</span>&#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(userinfo)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">handleDelete</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">removeStorage</span>(&#123;<span class="attr">key</span>:<span class="string">&#x27;name&#x27;</span>&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">handleClear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">clearStorage</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>��������������ˢ��</h1>
<h2 id="��1���������ظ���">��1���������ظ���</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;`\\\&#123;&#123;goods\\\&#125;&#125;`&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>`\\\&#123;&#123;item\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### wxss###</span><br><span class="line">view&#123;</span><br><span class="line">  height: 400rpx;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">&#125;</span><br><span class="line">/* ���� */</span><br><span class="line">view:nth-child(odd)&#123;</span><br><span class="line">  background-color: pink;</span><br><span class="line">&#125;</span><br><span class="line">/* ż�� */</span><br><span class="line">view:nth-child(even)&#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// json####</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">&quot;onReachBottomDistance&quot;</span>: <span class="number">50</span> # ����ײ�����</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">goods</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ��������</span></span><br><span class="line">  <span class="title function_">onReachBottom</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;������&#x27;</span>);</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;http://localhost:8000/weixin/&#x27;</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">goods</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">goods</span>.<span class="title function_">concat</span>(res.<span class="property">data</span>.<span class="property">data</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">      </span><br><span class="line"><span class="comment">// ���</span></span><br><span class="line">      <span class="keyword">class</span> <span class="title class_">WeixinLoginView</span>(<span class="title class_">APIView</span>):</span><br><span class="line">      def <span class="title function_">get</span>(self, request, *args, **kwargs):</span><br><span class="line">      	l = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="title function_">range</span>(<span class="number">3</span>):</span><br><span class="line">       		l.<span class="title function_">append</span>(random.<span class="title function_">randint</span>(<span class="number">1</span>, <span class="number">1000</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JsonResponse</span>(&#123;<span class="string">&#x27;data&#x27;</span>: l&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="��2������ˢ��">��2������ˢ��</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;`\\\&#123;&#123;goods\\\&#125;&#125;`&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>`\\\&#123;&#123;item\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### json####</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">&quot;onReachBottomDistance&quot;</span>: <span class="number">50</span>,</span><br><span class="line">  <span class="string">&quot;enablePullDownRefresh&quot;</span>: true, <span class="comment"># ��������ˢ��</span></span><br><span class="line">  <span class="string">&quot;backgroundColor&quot;</span>: <span class="string">&quot;#efefef&quot;</span>, <span class="comment">#����ˢ�±���ɫ</span></span><br><span class="line">  <span class="string">&quot;backgroundTextStyle&quot;</span>:<span class="string">&quot;dark&quot;</span> <span class="comment"># ����ˢ�µ���ɫ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// js</span><br><span class="line">data:&#123;</span><br><span class="line">    goods:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">onPullDownRefresh()&#123;</span><br><span class="line">    console.log(<span class="string">&quot;������&quot;</span>);</span><br><span class="line">    this.setData(&#123;goods:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;)</span><br><span class="line">    // ������ˢ�º�loadingЧ������û�ص�</span><br><span class="line">    <span class="keyword">if</span>(this.data.goods.length==<span class="number">3</span>)&#123;</span><br><span class="line">      wx.stopPullDownRefresh()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="��3��ʹ��scroll-viewʵ��">��3��ʹ��scroll-viewʵ��</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##### wxml####</span></span><br><span class="line">&lt;scroll-view </span><br><span class="line"><span class="keyword">class</span>=<span class="string">&quot;scroll&quot;</span></span><br><span class="line">scroll-y  <span class="comment"># ����y�Ử��</span></span><br><span class="line">lower-threshold=<span class="string">&quot;100&quot;</span> <span class="comment"># ����ײ�����100pxʱ�������¼�</span></span><br><span class="line">bindscrolltolower=<span class="string">&quot;handleGetData&quot;</span><span class="comment"># �¼��������</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">refresher-enabled=<span class="string">&quot;true&quot;</span>        <span class="comment"># ���� ����ˢ��</span></span><br><span class="line">refresher-default-style=<span class="string">&quot;black&quot;</span> <span class="comment"># ����Ĭ����ʽ</span></span><br><span class="line">refresher-background=<span class="string">&quot;#f0f0f0&quot;</span>  <span class="comment"># ��������ɫ</span></span><br><span class="line">bindrefresherrefresh=<span class="string">&quot;handleReload&quot;</span> <span class="comment"># ���������¼�</span></span><br><span class="line">refresher-triggered=<span class="string">&quot;`\\\&#123;&#123;isRefresh\\\&#125;&#125;`&quot;</span> <span class="comment"># ���������ص���false����ص���</span></span><br><span class="line"></span><br><span class="line">enable-back-to-top=<span class="string">&quot;true&quot;</span>  <span class="comment"># ���ٻص�������ios�㶥������׿��tab</span></span><br><span class="line">&gt;</span><br><span class="line">  &lt;view wx:<span class="keyword">for</span>=<span class="string">&quot;`\\\&#123;&#123;goods\\\&#125;&#125;`&quot;</span> wx:key=<span class="string">&quot;index&quot;</span>&gt;`\\\&#123;&#123;item\\\&#125;&#125;`&lt;/view&gt;</span><br><span class="line">&lt;/scroll-view&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### json###</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">###wxss###</span></span><br><span class="line">.scroll&#123;</span><br><span class="line">  /* 100vh����ָԪ�صĸ߶ȵ��ڵ�ǰ��������Ӵ��߶�,��������ڲ��Ŀ�������ĸ߶ȴ�С */</span><br><span class="line">  height: 100vh; </span><br><span class="line">  background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">view&#123;</span><br><span class="line">  height: 400rpx;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">&#125;</span><br><span class="line">/* ���� */</span><br><span class="line">view:nth-child(odd)&#123;</span><br><span class="line">  background-color: pink;</span><br><span class="line">&#125;</span><br><span class="line">/* ż�� */</span><br><span class="line">view:nth-child(even)&#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#### js####</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    goods:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    isRefresh:false</span><br><span class="line">  &#125;,</span><br><span class="line">  handleGetData()&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;������&#x27;</span>)</span><br><span class="line">    // �������󣬼�������</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;http://192.168.71.100:5000&#x27;</span>,</span><br><span class="line">      method:<span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">      success:(res)=&gt;&#123;</span><br><span class="line">        console.log(res)</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">          goods:this.data.goods.concat(res.data)</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  handleReload()&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;����ˢ����&#x27;</span>)</span><br><span class="line">    wx.showToast(&#123;</span><br><span class="line">      title: <span class="string">&#x27;����ˢ��&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      goods:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      isRefresh:false</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1>���ġ����º���������</h1>
<h2 id="��1��С�������">��1��С�������</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 ����С����΢�ŻὫС�������������ص�΢�ű��أ���ʹ��</span></span><br><span class="line"><span class="comment"># 2 ��С������°汾��΢�Ż���С����汾��û�и��£�����������С����</span></span><br><span class="line"><span class="comment"># 3 ���·�ʽ�����ʱͬ�����£����ʱ�첽����</span></span><br><span class="line">	<span class="comment">### ͬ�����£�</span></span><br><span class="line">    -���ʱͬ�����£�΢������ʱ���ᶨ�ڼ�����ʹ�õ�С�����Ƿ��и��¡�����и��£��´�С�������ʱ��ͬ�����и��£����µ����°汾���ٴ�С������� �û���ʱ��δʹ��С����ʱ����ǿ��ͬ�����汾����</span><br><span class="line">	-�������ʧ�ܣ����ǻ�ʹ�ñ��ذ汾</span><br><span class="line">	-�°汾����<span class="number">24</span>Сʱ�󣬻����Ḳ��ȫ���û�</span><br><span class="line">    <span class="comment">### �첽����####</span></span><br><span class="line">    ���ʱ�첽���£������ǰû�з��ָ��£�С����ÿ�� ����� ʱ�������첽����Ƿ��и��°汾������������°汾�������첽�����°汾�Ĵ���������°汾��С��������һ�����������ʹ�ã���ǰ����ʹ�õ���Ȼ�Ǳ��صľɰ汾����</span><br><span class="line">    <span class="comment">## ǿ�Ƹ���###</span></span><br><span class="line">    �����ʱ�첽���µ�����£����������ϣ�����̽��а汾���£�����ʹ�� wx.getUpdateManager API ���д���������°汾ʱ��ʾ�û�����С��������°汾</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 4 ��app.js�м���</span></span><br><span class="line">App(&#123;</span><br><span class="line">  // �������ں��������С����ͻ�ִ��</span><br><span class="line">  onLaunch()&#123;</span><br><span class="line">    const update=wx.getUpdateManager()</span><br><span class="line">    update.onUpdateReady(function()&#123;</span><br><span class="line">      wx.showModal(&#123;</span><br><span class="line">        title: <span class="string">&#x27;�����°汾&#x27;</span>,</span><br><span class="line">        content: <span class="string">&#x27;����Ӧ�ã����°汾�°汾?&#x27;</span>,</span><br><span class="line">        success:(res)=&gt;&#123;</span><br><span class="line">          <span class="keyword">if</span>(res.confirm)&#123;</span><br><span class="line">            update.applyUpdate()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="��2��Ӧ����������-o�ֵ�js">��2��Ӧ����������----ȫ�ֵ�js</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="title class_">App</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ��С�����ʼ�����ʱ���ᴥ�� onLaunch��ȫ��ֻ����һ�Σ�</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onLaunch</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;С���������&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ��С�����������Ӻ�̨����ǰ̨��ʾ���ᴥ�� onShow</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onShow</span>: <span class="keyword">function</span> (<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;��̨��ǰ̨��&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ��С�����ǰ̨�����̨���ᴥ�� onHide</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onHide</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;����̨��&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="��3��ҳ����������-�ֲ���js">��3��ҳ����������----�ֲ���js</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * �������ں���--����ҳ�����</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1 ҳ�������&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * �������ں���--����ҳ�������Ⱦ���</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onReady</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;3 ������Ⱦ���&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * �������ں���--����ҳ����ʾ</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;2 ҳ����ʾ&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * �������ں���--����ҳ������</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onHide</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;4 ҳ������&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * �������ں���--����ҳ��ж��</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onUnload</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;5 ҳ��ж��&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1>���塿����</h1>
<h2 id="��1��ת��">��1��ת��</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 ��ʽһ��ͨ�����Ϸ� ...</span></span><br><span class="line"><span class="comment"># 2 ��ʽ����ͨ����ť�� ��Ҫ��button���� open-type=&quot;share&quot;</span></span><br><span class="line">&lt;button <span class="built_in">open</span>-<span class="built_in">type</span>=<span class="string">&quot;share&quot;</span>&gt;ת��&lt;/button&gt;</span><br><span class="line"><span class="comment"># 3 js�б�д</span></span><br><span class="line">  onShareAppMessage() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      title:<span class="string">&quot;�����Ѿ͵�һ��&quot;</span>,</span><br><span class="line">      path:<span class="string">&quot;/pages/my/my&quot;</span>, //��ǰת����ҳ��</span><br><span class="line">      imageUrl:<span class="string">&#x27;/images/b.jpg&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="��2����������A">��2����������Ȧ</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## ��3����ȡͷ��</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## ��4����ȡ�ǳ�</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## ��5���ֻ���</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### ��1���ֻ��ſ�����֤</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### ��2���ֻ���ʵʱ��֤</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## ��6���ͷ�����</span></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"><span class="comment"># ΢��ΪС�����ṩ�ͷ���Ϣ�������Ա�С�����û����Է����ݵ���С��������ṩ�����й�ͨ</span></span><br><span class="line">https://developers.weixin.qq.com/miniprogram/introduction/custom.html</span><br><span class="line">    </span><br><span class="line"><span class="comment"># ���뵽��΢�ſ���ƽ̨�����ÿͷ�---������web��ֱ�ӻظ�</span></span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">![image-<span class="number">20240910212302346</span>](D:\pycharm\Temporary_notes\ͼƬ\image-<span class="number">20240910212302346.</span>png)![image-<span class="number">20240910212342783</span>](D:\pycharm\Temporary_notes\ͼƬ\image-<span class="number">20240910212342783.</span>png)</span><br><span class="line"></span><br><span class="line">````xml</span><br><span class="line"><span class="comment">## wxml##</span></span><br><span class="line">&lt;button <span class="built_in">type</span>=<span class="string">&quot;default&quot;</span> plain <span class="built_in">open</span>-<span class="built_in">type</span>=<span class="string">&quot;contact&quot;</span>&gt;��ϵ�ͷ�&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<h1>��������Ӱ����</h1>
<h2 id="��1��С����">��1��С����</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####wxml</span></span><br><span class="line">&lt;view wx:<span class="keyword">for</span>=<span class="string">&quot;`\\\&#123;&#123;film_list\\\&#125;&#125;`&quot;</span> wx:key=<span class="string">&quot;index&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><br><span class="line">  &lt;image src=<span class="string">&quot;`\\\&#123;&#123;item.poster\\\&#125;&#125;`&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;film_photo&quot;</span> mode=<span class="string">&quot;aspectFit&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;view <span class="keyword">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><br><span class="line">    &lt;view <span class="keyword">class</span>=<span class="string">&quot;name&quot;</span>&gt;`\\\&#123;&#123;item.name\\\&#125;&#125;`&lt;/view&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;text&gt;</span><br><span class="line">      &lt;text <span class="keyword">class</span>=<span class="string">&quot;grade&quot;</span>&gt;  ��������     &lt;/text&gt;</span><br><span class="line">      &lt;text <span class="keyword">class</span>=<span class="string">&quot;grade2&quot;</span>&gt;`\\\&#123;&#123;item.grade\\\&#125;&#125;`&lt;/text&gt;</span><br><span class="line">    &lt;/text&gt;</span><br><span class="line">    &lt;text <span class="keyword">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span><br><span class="line">      `\\\&#123;&#123;item.nation\\\&#125;&#125;` | `\\\&#123;&#123;item.runtime\\\&#125;&#125;` ����</span><br><span class="line">    &lt;/text&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">####wxss</span></span><br><span class="line">page&#123;</span><br><span class="line">  background-color: <span class="comment">#795757;</span></span><br><span class="line">&#125;</span><br><span class="line">.item&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  justify-content: flex-start;</span><br><span class="line">  margin: 10rpx;</span><br><span class="line">  background-color: <span class="comment">#FFFFFF;</span></span><br><span class="line">  border-radius: 20rpx;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.film_photo&#123;</span><br><span class="line">  height: 250rpx;</span><br><span class="line">  width: 200rpx;</span><br><span class="line">  flex-shrink: <span class="number">0</span>;</span><br><span class="line">  padding: 5rpx;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.content&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.name&#123;</span><br><span class="line">  color: <span class="comment">#191a1b;</span></span><br><span class="line">  height: 22px;</span><br><span class="line">  line-height: 22px;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">  font-size:40rpx</span><br><span class="line">&#125;</span><br><span class="line">.grade&#123;</span><br><span class="line">  font-size: 30rpx;</span><br><span class="line">  margin-top: 4px;</span><br><span class="line">  color: <span class="comment">#797d82;</span></span><br><span class="line">&#125;</span><br><span class="line">.grade2&#123;</span><br><span class="line">  color: <span class="comment">#ffb232;</span></span><br><span class="line">  font-size: 30rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.label&#123;</span><br><span class="line">  font-size: 30rpx;</span><br><span class="line">  margin-top: 4px;</span><br><span class="line">  color: <span class="comment">#797d82;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">######js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    film_list:[]</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  /**</span><br><span class="line">   * �������ں���--����ҳ�����</span><br><span class="line">   */</span><br><span class="line">  onLoad: function (options) &#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;http://127.0.0.1:8000/weixin/&#x27;</span>,</span><br><span class="line">      method:<span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">      success:(res)=&gt;&#123;</span><br><span class="line">        console.log(res.data)</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">          film_list:res.data.data.result</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="��2�����">��2�����</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">WeixinLoginView</span>(<span class="title class_ inherited__">APIView</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./film.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            res_dic = json.load(f)</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&#x27;data&#x27;</span>: res_dic&#125;)</span><br></pre></td></tr></table></figure>
<h1>���ߡ�<code>vant-app</code></h1>
<h2 id="��1��ʹ��npm��">��1��ʹ��<code>npm</code>��</h2>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E8%B1%86%E7%93%A3Top250%20%E6%A1%88%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E8%B1%86%E7%93%A3Top250%20%E6%A1%88%E4%BE%8B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:36" itemprop="dateModified" datetime="2025-10-11T18:31:36+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>豆瓣Top250 案例</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 豆掰 Top250</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpiderTop250</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 【1】定义目标网址</span></span><br><span class="line">        <span class="comment"># self.target_url = &quot;https://movie.douban.com/top250&quot;</span></span><br><span class="line">        <span class="comment"># https://movie.douban.com/top250?start=25&amp;filter=</span></span><br><span class="line">        <span class="comment"># https://movie.douban.com/top250?start=50&amp;filter=</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 【2】定义请求头参数</span></span><br><span class="line">        <span class="variable language_">self</span>.headers = &#123;</span><br><span class="line">            <span class="string">&quot;User-Agent&quot;</span>: UserAgent().random</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_target_url</span>(<span class="params">self</span>):</span><br><span class="line">        target_url_list = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">                target_url = <span class="string">&quot;https://movie.douban.com/top250&quot;</span></span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                target_url = <span class="string">f&quot;https://movie.douban.com/top250?start=<span class="subst">&#123;<span class="number">25</span> * (i - <span class="number">1</span>)&#125;</span>&amp;filter=&quot;</span></span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> target_url_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">self, page_text</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;doubai.html&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            fp.write(page_text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">read</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;doubai.html&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            data = fp.read()</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">self</span>):</span><br><span class="line">        target_url_list = <span class="variable language_">self</span>.create_target_url()</span><br><span class="line">        top_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> target_url <span class="keyword">in</span> target_url_list:</span><br><span class="line">            top_data.update(<span class="variable language_">self</span>.spider_page_text(target_url))</span><br><span class="line">        <span class="keyword">return</span> top_data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_page_text</span>(<span class="params">self, target_url</span>):</span><br><span class="line">        <span class="comment"># 【3】发起请求获取响应对象</span></span><br><span class="line">        response = requests.get(</span><br><span class="line">            url=target_url,</span><br><span class="line">            headers=<span class="variable language_">self</span>.headers</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 【4】获取到响应源码</span></span><br><span class="line">        page_text = response.text</span><br><span class="line">        <span class="comment"># self.save(page_text)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.parse_page(page_text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_page</span>(<span class="params">self, page_text</span>):</span><br><span class="line">        <span class="comment"># page_text = self.read()</span></span><br><span class="line">        <span class="comment"># 【5】生成soup对象</span></span><br><span class="line">        soup = BeautifulSoup(page_text, <span class="string">&quot;lxml&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 【6】获取到每一个电影信息所在的li标签</span></span><br><span class="line">        li_list = soup.select(<span class="string">&quot;#content &gt; div &gt; div.article &gt; ol &gt; li&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 【7】遍历获取每一个li标签中间的内容</span></span><br><span class="line">        top_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)</span></span><br><span class="line">            <span class="comment">#  div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)</span></span><br><span class="line">            <span class="comment"># print(li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)&quot;)[0].string)</span></span><br><span class="line">            <span class="comment"># print(li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)&quot;)[0].get_text())</span></span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">             movie_title = li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)&quot;)[0].text.strip()</span></span><br><span class="line"><span class="string">            movie_director = li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(2)&quot;)[0].text.strip().strip(</span></span><br><span class="line"><span class="string">                &quot;/&quot;).strip()</span></span><br><span class="line"><span class="string">            movie_type = &quot;, &quot;.join(</span></span><br><span class="line"><span class="string">                [i.strip() for i in li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(3)&quot;)[0].text.strip().strip(</span></span><br><span class="line"><span class="string">                    &quot;/&quot;).strip().split(&quot;/&quot;)])</span></span><br><span class="line"><span class="string">            &#x27;&#x27;&#x27;</span></span><br><span class="line">            info_list = [span.text.strip() <span class="keyword">for</span> span <span class="keyword">in</span> li.select(<span class="string">&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span&quot;</span>)]</span><br><span class="line">            movie_title = info_list[<span class="number">0</span>]</span><br><span class="line">            movie_director = info_list[<span class="number">1</span>].strip(<span class="string">&quot;/&quot;</span>).strip()</span><br><span class="line">            movie_type = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(info_list) == <span class="number">3</span>:</span><br><span class="line">                movie_type = <span class="string">&quot;, &quot;</span>.join([i.strip() <span class="keyword">for</span> i <span class="keyword">in</span> info_list[<span class="number">2</span>].strip(<span class="string">&quot;/&quot;</span>).strip().split(<span class="string">&quot;/&quot;</span>)])</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; p:nth-child(1)</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; p:nth-child(1)</span></span><br><span class="line">            movie_actors = [i.strip().replace(<span class="string">&quot;\xa0&quot;</span>, <span class="string">&quot;&quot;</span>) <span class="keyword">for</span> i <span class="keyword">in</span></span><br><span class="line">                            <span class="built_in">list</span>(li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; p:nth-child(1)&quot;</span>)[<span class="number">0</span>].strings)]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; div &gt; span.rating_num</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; div &gt; span.rating_num</span></span><br><span class="line">            movie_star = li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; div &gt; span.rating_num&quot;</span>)[<span class="number">0</span>].text</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; div &gt; span:nth-child(4)</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; div &gt; span:nth-child(4)</span></span><br><span class="line">            movie_comment_num = li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; div &gt; span:nth-child(4)&quot;</span>)[<span class="number">0</span>].text</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; p.quote &gt; span</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; p.quote &gt; span</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                movie_motto = li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; p.quote &gt; span&quot;</span>)[<span class="number">0</span>].text</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                movie_motto = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">            top_data[movie_title] = &#123;</span><br><span class="line">                <span class="string">&quot;movie_title&quot;</span>: movie_title,</span><br><span class="line">                <span class="string">&quot;movie_director&quot;</span>: movie_director,</span><br><span class="line">                <span class="string">&quot;movie_type&quot;</span>: movie_type,</span><br><span class="line">                <span class="string">&quot;movie_actors&quot;</span>: movie_actors,</span><br><span class="line">                <span class="string">&quot;movie_star&quot;</span>: movie_star,</span><br><span class="line">                <span class="string">&quot;movie_comment_num&quot;</span>: movie_comment_num,</span><br><span class="line">                <span class="string">&quot;movie_motto&quot;</span>: movie_motto</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> top_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = SpiderTop250()</span><br><span class="line">    top_data = s.main()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(top_data))</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/18/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/20/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">坤</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要，但是你不努力，选择就只是空谈</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">196</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">坤</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">lsk-0912</a> & <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
