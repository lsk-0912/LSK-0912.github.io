<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aurora-lsk.asia","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:type" content="website">
<meta property="og:title" content="坤博客">
<meta property="og:url" content="https://aurora-lsk.asia/page/15/index.html">
<meta property="og:site_name" content="坤博客">
<meta property="og:description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="坤">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://aurora-lsk.asia/page/15/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>坤博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">坤博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/8.2JavaScript%E4%B9%8B%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/8.2JavaScript%E4%B9%8B%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>JavaScript之流程控制语句</h1>
<h2 id="【一】if判断">【一】if判断</h2>
<h3 id="【1】语法">【1】语法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单分支</span></span><br><span class="line"><span class="keyword">if</span>(条件)&#123;代码块&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 双分支</span></span><br><span class="line"><span class="keyword">if</span>(条件)&#123;条件成立执行的代码块&#125;<span class="keyword">else</span>&#123;条件不成立执行的代码块&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多分支</span></span><br><span class="line"><span class="keyword">if</span>(条件)&#123;条件成立执行的代码块&#125;<span class="keyword">else</span> <span class="keyword">if</span>(条件)&#123;条件成立执行的代码块&#125;<span class="keyword">else</span>&#123;条件不成立执行的代码块&#125;</span><br></pre></td></tr></table></figure>
<h3 id="【2】单分支案例">【2】单分支案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">95</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;优秀&quot;</span>)&#125;;</span><br><span class="line">优秀</span><br></pre></td></tr></table></figure>
<h3 id="【3】双分支案例">【3】双分支案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">101</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;非常优秀&quot;</span>)&#125;<span class="keyword">else</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;优秀&quot;</span>)&#125;;</span><br><span class="line">优秀</span><br></pre></td></tr></table></figure>
<h3 id="【4】多分支案例">【4】多分支案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">101</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;非常优秀&quot;</span>)&#125;<span class="keyword">else</span> <span class="keyword">if</span>(num&gt;<span class="number">90</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;及格&quot;</span>)&#125;<span class="keyword">else</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;不及格&quot;</span>)&#125;;</span><br><span class="line">及格</span><br></pre></td></tr></table></figure>
<h2 id="【二】switch-case语法结构">【二】switch-case语法结构</h2>
<ul>
<li>只能捕获定值</li>
</ul>
<h3 id="【1】语法-2">【1】语法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>()&#123;</span><br><span class="line">    <span class="keyword">case</span> 条件:</span><br><span class="line">        代码块</span><br><span class="line">        <span class="keyword">break</span> <span class="comment">//断开连接</span></span><br><span class="line">    <span class="keyword">case</span> 条件:</span><br><span class="line">        代码块</span><br><span class="line">        <span class="keyword">break</span> <span class="comment">// 断开连接</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">default</span> :</span><br><span class="line">        上面的条件都不对，走这里</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="【2】案例">【2】案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(num)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">100</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;优秀&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">60</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;及格&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;不及格&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;;</span><br><span class="line">优秀</span><br></pre></td></tr></table></figure>
<h2 id="【三】for循环">【三】for循环</h2>
<h3 id="【1】语法-3">【1】语法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(启示条件;结束条件;循环条件)&#123;条件成立执行的代码&#125;</span><br></pre></td></tr></table></figure>
<h3 id="【2】案例-2">【2】案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> num=<span class="number">1</span>;num&lt;<span class="number">4</span>;num++)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(num)&#125;;</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有索引不会打印列表里的值</span></span><br><span class="line"><span class="keyword">var</span> num_list=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span>(a=<span class="number">0</span>;a&lt;num_list.<span class="property">length</span>;a++)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(a)&#125;;</span><br><span class="line"> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span></span><br><span class="line"> <span class="number">2</span></span><br><span class="line"> <span class="number">3</span></span><br><span class="line"> <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印列表内每个值</span></span><br><span class="line"><span class="keyword">var</span> num_list=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span>(a=<span class="number">0</span>;a&lt;num_list.<span class="property">length</span>;a++)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(num_list[a])&#125;;</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h2 id="【四】while循环">【四】while循环</h2>
<h3 id="【1】语法-4">【1】语法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件)&#123;条件成立执行的代码&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="【2】案例-3">【2】案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(num&lt;<span class="number">20</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num)</span><br><span class="line">    num++</span><br><span class="line">&#125;;</span><br><span class="line"> <span class="number">10</span></span><br><span class="line"> <span class="number">11</span></span><br><span class="line"> <span class="number">12</span></span><br><span class="line"> <span class="number">13</span></span><br><span class="line"> <span class="number">14</span></span><br><span class="line"> <span class="number">15</span></span><br><span class="line"> <span class="number">16</span></span><br><span class="line"> <span class="number">17</span></span><br><span class="line"> <span class="number">18</span></span><br><span class="line"> <span class="number">19</span></span><br></pre></td></tr></table></figure>
<h2 id="【五】do-while循环">【五】do~while循环</h2>
<h3 id="【1】语法-5">【1】语法</h3>
<ul>
<li>最少执行 一次</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    代码块</span><br><span class="line">&#125;<span class="keyword">while</span>(条件);</span><br></pre></td></tr></table></figure>
<h3 id="【2】案例-4">【2】案例</h3>
<ul>
<li>首先打印的1，然后进入的循环</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ver num=<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num)</span><br><span class="line">    num++</span><br><span class="line">&#125;<span class="keyword">while</span>(num&lt;<span class="number">20</span>);</span><br><span class="line"> <span class="number">10</span></span><br><span class="line"> <span class="number">11</span></span><br><span class="line"> <span class="number">12</span></span><br><span class="line"> <span class="number">13</span></span><br><span class="line"> <span class="number">14</span></span><br><span class="line"> <span class="number">15</span></span><br><span class="line"> <span class="number">16</span></span><br><span class="line"> <span class="number">17</span></span><br><span class="line"> <span class="number">18</span></span><br><span class="line"> <span class="number">19</span></span><br></pre></td></tr></table></figure>
<h2 id="【六】三元运算符">【六】三元运算符</h2>
<h3 id="【1】语法-6">【1】语法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">条件？条件成立取到的值:条件不成立取到的值</span><br></pre></td></tr></table></figure>
<h3 id="【2】案例-5">【2】案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">2</span> &gt; <span class="number">3</span> ? <span class="string">&quot;成立&quot;</span>:<span class="string">&quot;不成立&quot;</span>;</span><br><span class="line"></span><br><span class="line">num;</span><br><span class="line"><span class="string">&#x27;不成立&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>先执行括号里面的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">5</span>&gt;<span class="number">4</span>?<span class="string">&quot;成立&quot;</span>:(<span class="number">6</span>&lt;<span class="number">5</span>?<span class="string">&quot;成立&quot;</span>:<span class="string">&quot;不成立&quot;</span>);</span><br><span class="line"></span><br><span class="line">num;</span><br><span class="line"><span class="string">&#x27;成立&#x27;</span></span><br></pre></td></tr></table></figure>
<h1></h1>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/8.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E8%A7%86%E5%9B%BE%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/8.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E8%A7%86%E5%9B%BE%E5%B1%82/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>Django���֮��ͼ��</h1>
<h2 id="��һ�����師">��һ�����師</h2>
<ul>
<li>HttpResponse�ܷ����ַ�����ʽ������</li>
<li>render����һ��ҳ�������Ⱦ</li>
<li>redirect�ض������µ�·�ɵ�ַ</li>
<li>����һ��reverse����·�ɵı���</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> HttpResponse, render, redirect, reverse</span><br></pre></td></tr></table></figure>
<h2 id="������jsong�����л�">������jsonģ�����л�</h2>
<h3 id="��1��HttpResponse">��1��HttpResponse</h3>
<ul>
<li>
<p>���json��ʽ������</p>
<ul>
<li><code>content_type=&quot;application/json&quot;</code>�����������</li>
<li>���������������ʾ����<code>Content-Type: text/html; charset=utf-8</code></li>
</ul>
</li>
<li>
<p>��ͼ����</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    user_dict = &#123;</span><br><span class="line">        <span class="string">&quot;user&quot;</span>: <span class="string">&quot;tom&quot;</span>,</span><br><span class="line">        <span class="string">&quot;password&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span>: <span class="string">&quot;22&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    user_json = json.dumps(user_dict)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(user_json, content_type=<span class="string">&quot;application/json&quot;</span>)</span><br><span class="line">    <span class="comment"># ��ҳ����ʾ &#123;&quot;user&quot;: &quot;tom&quot;, &quot;password&quot;: &quot;123456&quot;, &quot;age&quot;: &quot;22&quot;&#125;</span></span><br><span class="line">    <span class="comment"># ��ʾΪjson</span></span><br><span class="line">    <span class="comment"># Content-Type: application/json</span></span><br></pre></td></tr></table></figure>
<h3 id="��2��render">��2��render</h3>
<ul>
<li>render ������ Django ��ģ����Ⱦ���Ƶ�һ���֣�ͨ����ģ�����棨�� Django ��Ĭ��ģ������ - Jinja2 ��������֧�ֵ�ģ�����棩һ��ʹ�á�</li>
<li>������Ҫ���ش��ж�̬���ݵ� HTML ҳ��ʱ������ʹ�� render �����������������Ԥ����� HTML ģ����������</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> MyModel  <span class="comment"># ������һ����Ϊ MyModel ��ģ��</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">detail_view</span>(<span class="params">request, pk</span>):</span><br><span class="line">    obj = MyModel.objects.get(pk=pk)</span><br><span class="line">    context = &#123;<span class="string">&#x27;object&#x27;</span>: obj&#125;  <span class="comment"># ��ģ��ʵ����ӵ������ģ�context��</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;my_template.html&#x27;</span>, context)</span><br></pre></td></tr></table></figure>
<ul>
<li>����������У���ͼ���� detail_view ʹ�� render ���������ݿ��ȡ MyModel ʵ������������Ϊ�������ݸ���Ϊ my_template.html �� HTML ģ�������Ⱦ�����շ��ظ��ͻ��ˡ�</li>
</ul>
<h3 id="��3��redirect">��3��redirect</h3>
<ul>
<li>redirect ��������ʵ����ҳ����ض��򣬼����û��ӵ�ǰ URL ��������һ�� URL��</li>
<li>���������κ����ݣ���������һ�� HTTP Redirection ������ʹ�ͻ��˷���һ���µ�����ָ����ַ��</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> redirect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_required_view</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> request.user.is_authenticated:</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&#x27;login&#x27;</span>)  <span class="comment"># �ض��򵽵�¼ҳ��</span></span><br><span class="line">    <span class="comment"># ����ѵ�¼������ִ�к�������...</span></span><br></pre></td></tr></table></figure>
<ul>
<li>����������У�����û�δ��¼��login_required_view ��ͼ����� redirect �������û��ض�������Ϊ ‘login’ ��URL��Ӧ����ͼ��ͨ���ǵ�¼ҳ�棩��</li>
<li>����û��ѵ�¼�������ִ��ԭ��ͼ�е������߼���</li>
</ul>
<h3 id="��4��JsonResponse����">��4��JsonResponse����</h3>
<h4 id="��1����������">��1����������</h4>
<ul>
<li>���ص�ҳ��չʾ�������У������ַ���ǿ�Ʊ����ˣ���ν����</li>
<li>��������ǰ�����д�õķ���������ֱ���þ���</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse</span><br></pre></td></tr></table></figure>
<ul>
<li>Դ�����</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">JsonResponse</span>(<span class="title class_ inherited__">HttpResponse</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, data, encoder=DjangoJSONEncoder, safe=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">                 json_dumps_params=<span class="literal">None</span>, **kwargs</span>):</span><br><span class="line">        <span class="keyword">if</span> safe <span class="keyword">and</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(data, <span class="built_in">dict</span>):</span><br><span class="line">            <span class="keyword">raise</span> TypeError(</span><br><span class="line">                <span class="string">&#x27;In order to allow non-dict objects to be serialized set the &#x27;</span></span><br><span class="line">                <span class="string">&#x27;safe parameter to False.&#x27;</span></span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">if</span> json_dumps_params <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            json_dumps_params = &#123;&#125;</span><br><span class="line">        kwargs.setdefault(<span class="string">&#x27;content_type&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>)</span><br><span class="line">        <span class="comment"># �������л�����������</span></span><br><span class="line">        data = json.dumps(data, cls=encoder, **json_dumps_params)</span><br><span class="line">        <span class="built_in">super</span>(JsonResponse, <span class="variable language_">self</span>).__init__(content=data, **kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>ͨ������Դ�����ǿ��Է������ݱ�����л���λ��</p>
</li>
<li>
<p>���� ��һ������ **json_dumps_params—���ͺñ�</p>
</li>
<li>
<ul>
<li>���������˼�ǽ����ݴ�ɢ���뵽ǰ��ķ�����</li>
</ul>
</li>
</ul>
<h4 id="��2���������">��2���������</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ab_json</span>(<span class="params">request</span>):</span><br><span class="line">    user_dict = &#123;</span><br><span class="line">        <span class="string">&quot;username&quot;</span>: <span class="string">&quot;dream���&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>,</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>: <span class="number">123123</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(user_dict, json_dumps_params=&#123;<span class="string">&#x27;ensure_ascii&#x27;</span>: <span class="literal">False</span>&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>��������Ҫ�Ĳ������ֵ����ʽ����ȥ</li>
</ul>
<h4 id="��3�����������������л�">��3�����������������л�</h4>
<ul>
<li>���ǲ������ֵ��ʽ�����ݿ��Ա����л�Ҳ����������</li>
<li>�����б�</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ab_json</span>(<span class="params">request</span>):</span><br><span class="line">    user_dict = &#123;</span><br><span class="line">        <span class="string">&quot;username&quot;</span>: <span class="string">&quot;dream���&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>,</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>: <span class="number">123123</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    user_list = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">66</span>, <span class="number">77</span>, <span class="number">88</span>, <span class="number">99</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> JsonResponse(user_list, json_dumps_params=&#123;<span class="string">&#x27;ensure_ascii&#x27;</span>: <span class="literal">False</span>&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>�����ڷ������ݵ�ʱ�����ʾ����Ĵ���</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In order to allow non-<span class="built_in">dict</span> objects to be serialized <span class="built_in">set</span> the safe parameter to <span class="literal">False</span>.</span><br></pre></td></tr></table></figure>
<ul>
<li>���ǰ�����ʾ������Ҫ�Ĳ���</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ab_json</span>(<span class="params">request</span>):</span><br><span class="line">    user_dict = &#123;</span><br><span class="line">        <span class="string">&quot;username&quot;</span>: <span class="string">&quot;dream���&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>,</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>: <span class="number">123123</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    user_list = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">66</span>, <span class="number">77</span>, <span class="number">88</span>, <span class="number">99</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> JsonResponse(user_list, safe=<span class="literal">False</span>, json_dumps_params=&#123;<span class="string">&#x27;ensure_ascii&#x27;</span>: <span class="literal">False</span>&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>JsonResponse�����л��ֵ���������ݸ�ʽʱ������һ����ȫ���ã����ǽ������޸ļ����޸�����</li>
</ul>
<h2 id="������form��������غ��ϴ�">������form��������غ��ϴ�</h2>
<h3 id="��1��form��k���Եk�������">��1��form��ǩ���Եķ�������</h3>
<ul>
<li>
<p>form��ǩ�����<code>enctype</code>����</p>
<ul>
<li><code>enctype</code>��Ӧ������������</li>
</ul>
</li>
<li>
<p>����һ��<code>enctype = multipart/form-data</code></p>
<ul>
<li>��ֵ�Ի��ǻᰴ��ԭ���ķ�ʽ�����ύ���ļ�����ᱻ��������</li>
<li>���ݵ��˺����ȡ��ʱ�򣬼�ֵ������ֱ��get</li>
</ul>
</li>
<li>
<p>��������<code>enctype = application/x-www-form-urlencodeda</code></p>
<ul>
<li>Ĭ��enctype���Ե�ֵ</li>
<li>Ĭ�ϰ��ռ�ֵ�Խ��д������ݣ�����Լ�ֵ����������ݽ��ж���Ĵ���������ļ����ݣ�ֻ�ܴ����ļ�������</li>
</ul>
</li>
<li>
<p>�����������ã�<code>enctype = text/plain</code></p>
<ul>
<li>������ݽ����ᱻ�����ض��ı�����������ֱ����Ϊ���ı�����</li>
<li>�ܻᵼ�½��������������</li>
</ul>
</li>
</ul>
<h3 id="��2��from�������ݰ���">��2��from�������ݰ���</h3>
<ul>
<li>ǰ��HTML����<code>login.html</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>������<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&#123;#����enctype����#&#125;</span><br><span class="line">&#123;#�ύ�ļ�����#&#125;</span><br><span class="line">&#123;#multipart/form-data#&#125;</span><br><span class="line">&#123;#���˺����ȡ���ݵ�ʱ�� ��ֵ������ֱ�� get���ļ����ݾ�Ҫ�� request.FILES ��ȡ#&#125;</span><br><span class="line">&#123;#application/x-www-form-urlencoded#&#125;</span><br><span class="line">&#123;#Ĭ�ϰ��ռ�ֵ���ύ���ݣ�����Լ�ֵ����������ݽ��ж���Ĵ���������ļ����ݣ�ֻ�ܴ����ļ���#&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        music:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;music&quot;</span>&gt;</span></span><br><span class="line">        dance:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dance&quot;</span>&gt;</span></span><br><span class="line">        piano:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;piano&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;# display:none  ����input�� #&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;`\\\&#123;% url &#x27;login&#x27; \\\%&#125;`&quot;</span>&gt;</span>ԭ��ˢ��<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>�������<code>views.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect, reverse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(request.FILES)</span><br><span class="line">        <span class="comment"># &lt;MultiValueDict: &#123;&#x27;file&#x27;: [&lt;InMemoryUploadedFile: ΢��ͼƬ_20220329164047.jpg (image/jpeg)&gt;]&#125;&gt;</span></span><br><span class="line">        </span><br><span class="line">        username = request.POST.get(<span class="string">&#x27;username&#x27;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">        hobby = request.POST.getlist(<span class="string">&#x27;hobby&#x27;</span>)</span><br><span class="line">        file_data = request.POST.getlist(<span class="string">&#x27;file&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(username)  <span class="comment"># jack</span></span><br><span class="line">        <span class="built_in">print</span>(password)  <span class="comment"># 912</span></span><br><span class="line">        <span class="built_in">print</span>(hobby)  <span class="comment"># [&#x27;music&#x27;, &#x27;dance&#x27;, &#x27;piano&#x27;]</span></span><br><span class="line">        <span class="comment"># ���ȡ�ļ����ֵĻ���Ҫ��from��ǩ�����enctype=application/x-www-form-urlencoded����</span></span><br><span class="line">        <span class="built_in">print</span>(file_data)  <span class="comment"># []</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># FILES��ȡ���ݴ����е��ļ����ݣ�ǰ������Ҫ��form����м��� enctype=&quot;multipart/form-data&quot; ����</span></span><br><span class="line">        <span class="comment"># request.FILES��ȡ����</span></span><br><span class="line">        file_obj = request.FILES</span><br><span class="line">        <span class="built_in">print</span>(file_obj)</span><br><span class="line">        <span class="comment"># &lt;MultiValueDict: &#123;&#x27;file&#x27;: [&lt;InMemoryUploadedFile: ΢��ͼƬ_20220329164047.jpg (image/jpeg)&gt;]&#125;&gt;</span></span><br><span class="line">        </span><br><span class="line">        file_obj_data = file_obj.get(<span class="string">&#x27;file&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(file_obj_data, <span class="built_in">type</span>(file_obj_data))</span><br><span class="line">        <span class="comment"># ΢��ͼƬ_20220329164047.jpg &lt;class &#x27;django.core.files.uploadedfile.InMemoryUploadedFile&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#file_obj_data.name��Ϊ�ļ�������ͨ���ǿͻ����ṩ��ԭʼ�ļ���</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_obj_data.name, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            <span class="comment"># Django�ļ���������÷���.chunks()</span></span><br><span class="line">            <span class="comment"># ��ȡ�ļ������еĶ��������ݣ�����line��ÿ����ȡ��������</span></span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> file_obj_data.chunks():</span><br><span class="line">                <span class="comment"># �Ὣ���ύ�����ݱ��浽���Django�ļ�Ŀ¼��</span></span><br><span class="line">                fp.write(line)</span><br><span class="line">        <span class="comment"># ���ص�����ҳ��</span></span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;login&quot;</span>))</span><br><span class="line">    <span class="comment"># locals()���ֲ����ƿռ�</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<ul>
<li>·���ļ�����<code>urls.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">&#x27;&#x27;</span>, login, name=<span class="string">&quot;login&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="��3���ܽ�">��3���ܽ�</h3>
<ul>
<li>form������ݣ��ύ����ͨ��type = submit��������������ύ����ˣ����д���</li>
<li><code>enctype = multipart/form-data</code>����Ϊ����Ч�Ĵ����ļ������غͱ�������֮ǰ�ǵ���<code>request.FILES</code>��ȡ����,�õ�һ�����󣬴Ӷ����ж��ļ����ݵĴ���</li>
</ul>
<h2 id="���g���request�����Ĳ���">���ġ���request�����Ĳ���</h2>
<h3 id="��1��request-GET�k���">��1��request.GET�ķ���</h3>
<ul>
<li>���ڽ���ͨ��HTTP GET�������͵��������Ĳ�ѯ����</li>
<li>��ѯ����ͨ��������URL��ĩβ����ʹ���ʺţ�<code>?</code>����URL��·�����ַָ��Ȼ��ʹ�õȺţ�<code>=</code>�����������Ͳ���ֵ�ָ����ͬ�Ĳ�����֮��ʹ�úͺţ�<code>&amp;</code>���ָ�</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/foo/bar/?page=<span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>�����ں��ͨ��<code>request.GET.get(&quot;page&quot;)</code>��ȡ����2</li>
</ul>
<h3 id="��2��request-POST�k���">��2��request.POST�ķ���</h3>
<ul>
<li>���ڽ���ͨ��HTTP POST�������͵�������������</li>
<li>�û�ͨ��HTML����ύ���ݣ�ͨ����ͨ�����һ��<code>&lt;input type=&quot;submit&quot;&gt;</code>��ť�����ƵĻ��ƣ������ұ����<code>method</code>��������Ϊ<code>&quot;POST&quot;</code>ʱ����Щ���ݾͻᱻ���͵�������</li>
<li>�����ں��ͨ��<code>request.POST.get(&quot;��&quot;)</code>��ȡֵ����</li>
<li>get������ֵ����None</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/foo/bar/?page=<span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>request.POST�õ�</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;QueryDict: &#123;[<span class="string">&#x27;page&#x27;</span>:<span class="string">&#x27;2&#x27;</span>]&#125;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="��3��request-path�k���">��3��request.path�ķ���</h3>
<ul>
<li>ֻ�ܻ�ȡ��·�ɵ�ַ���޷���ȡ������</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/foo/bar/</span><br></pre></td></tr></table></figure>
<ul>
<li>foo/bar/</li>
</ul>
<h3 id="��4��request-path-info�k���">��4��request.path_info�ķ���</h3>
<ul>
<li>ֻ�ܻ�ȡ��·�ɵ�ַ���޷���ȡ������</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/foo/bar/?page=<span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>foo/bar/</li>
</ul>
<h3 id="��5��request-get-full-path-�k���">��5��request.get_full_path()�ķ���</h3>
<ul>
<li>
<p>�÷�����������URL������·��������·�����ֺ��κβ�ѯ����</p>
</li>
<li>
<p>���ܻ�ȡ��·�ɵ�ַ���ܻ�ȡ��������·�ɵ�ַ����Ĳ���</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/foo/bar/?page=<span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>/foo/bar/?page=2</li>
</ul>
<h3 id="��6��request-get-full-path-info-�k���">��6��request.get_full_path_info()�ķ���</h3>
<ul>
<li>���ܻ�ȡ��·�ɵ�ַ���ܻ�ȡ��������·�ɵ�ַ����Ĳ���</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/foo/bar/?page=<span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>/foo/bar/?page=2</li>
</ul>
<h3 id="��7��request-method�k���">��7��request.method�ķ���</h3>
<ul>
<li>�÷������ؿͻ������ڷ��������HTTP����</li>
<li>���ص���&quot;GET��POST…&quot;����</li>
<li>�������������</li>
</ul>
<h3 id="��8��request-FILES�k���">��8��request.FILES�ķ���</h3>
<ul>
<li>
<p>��������һ�������ֵ�Ķ��󣬰�����������ͨ���ļ��ϴ�������͵������ļ�</p>
</li>
<li>
<p>ͨ��<code>request.FILES</code>�����ϴ����ļ�</p>
</li>
<li>
<p>ͨ��<code>request.FILES.get(&quot;��&quot;)</code>���ʵ���ֵ</p>
</li>
</ul>
<h3 id="��9���ܵ���ϰ">��9���ܵ���ϰ</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># �õ�������Ӧͷ</span></span><br><span class="line">    <span class="built_in">print</span>(request.method)</span><br><span class="line">    <span class="comment"># GET</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �õ�ǰ�˴��䵽������еĶ�����</span></span><br><span class="line">    <span class="built_in">print</span>(request.GET)</span><br><span class="line">    <span class="comment"># &lt;QueryDict: &#123;&#x27;username&#x27;: [&#x27;ikijkh&#x27;], &#x27;password&#x27;: [&#x27;2882&#x27;], &#x27;hobby&#x27;: [&#x27;dance&#x27;], &#x27;file&#x27;: [&#x27;57fbb5835a3246d586a9036c977797a2.jpeg&#x27;]&#125;&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �õ�·��</span></span><br><span class="line">    <span class="built_in">print</span>(request.path)</span><br><span class="line">    <span class="comment"># /login/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �õ�·��</span></span><br><span class="line">    <span class="built_in">print</span>(request.path_info)</span><br><span class="line">    <span class="comment"># /login/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �õ������ĵ�ַ</span></span><br><span class="line">    <span class="built_in">print</span>(request.get_full_path())</span><br><span class="line">    <span class="comment"># /login/?username=ikijkh&amp;password=2882&amp;hobby=dance&amp;file=57fbb5835a3246d586a9036c977797a2.jpeg</span></span><br><span class="line">    hobby_data = request.get_full_path().split(<span class="string">&quot;&amp;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(hobby_data[-<span class="number">1</span>].split(<span class="string">&quot;=&quot;</span>)[-<span class="number">1</span>])</span><br><span class="line">    <span class="comment"># 57fbb5835a3246d586a9036c977797a2.jpeg</span></span><br><span class="line">    <span class="comment"># �õ������ĵ�ַ</span></span><br><span class="line">    <span class="built_in">print</span>(request.get_full_path_info())</span><br><span class="line">    <span class="comment"># /login/?username=ikijkh&amp;password=2882&amp;hobby=dance&amp;file=57fbb5835a3246d586a9036c977797a2.jpeg</span></span><br><span class="line">    </span><br><span class="line">    file_obj = request.FILES</span><br><span class="line">    <span class="built_in">print</span>(file_obj)</span><br><span class="line">    <span class="comment"># &lt;MultiValueDict: &#123;&#x27;file&#x27;: [&lt;InMemoryUploadedFile: ΢��ͼƬ_20220329164047.jpg (image/jpeg)&gt;]&#125;&gt;</span></span><br><span class="line">    file_obj_data = file_obj.get(<span class="string">&#x27;file&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(file_obj_data, <span class="built_in">type</span>(file_obj_data))</span><br><span class="line">    <span class="comment"># ΢��ͼƬ_20220329164047.jpg &lt;class &#x27;django.core.files.uploadedfile.InMemoryUploadedFile&#x27;&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h2 id="���塿CBV����">���塿CBV����</h2>
<h3 id="��1��CBV��ͼ">��1��CBV��ͼ</h3>
<ul>
<li>CBV�����ͼ�����﷨��������д���﷨</li>
</ul>
<h3 id="��2��ʹ��CBV">��2��ʹ��CBV</h3>
<ul>
<li>·�ɲ�
<ul>
<li>����.as_view()</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">&#x27;login/&#x27;</span>, LoginViews.as_view(), name=<span class="string">&#x27;login&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>��ͼ��</p>
<ul>
<li>��������һ����</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.views <span class="keyword">import</span> View</span><br></pre></td></tr></table></figure>
<ul>
<li>����һ����̳�һ�������</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> ����(View):</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.views <span class="keyword">import</span> View</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserLogin</span>(<span class="title class_ inherited__">View</span>):</span><br><span class="line">    <span class="comment"># GET����</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;���յ�����get���󣡣�������&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line">    </span><br><span class="line">	<span class="comment"># POST����</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;���յ�����post���󣡣�������&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h2 id="������FBV����">������FBV����</h2>
<h3 id="��1��FBV��ͼ">��1��FBV��ͼ</h3>
<ul>
<li>��ʹ�ú�������Django����ͼ(<a target="_blank" rel="noopener" href="http://views.py">views.py</a>)��һ�ַ�ʽ</li>
</ul>
<h3 id="��2��ʹ��FBV">��2��ʹ��FBV</h3>
<ul>
<li>FBVȫ�ƣ�Function-Based Views</li>
<li>�ú�����Ϊ������ͼ�Ĵ����߼����������涼���һ��request�����������ʾ�û����͵�HTTP����</li>
<li>�����ڲ����Ը�������ʽ�����������ݵȽ�����Ӧ�Ĵ����������HttpResponse������Ϊ��Ӧ</li>
</ul>
<p>����</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request, *ages, **kwargs</span>):</span><br><span class="line">    <span class="comment"># ��������</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;���յ���GET����&quot;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request, *ages, **kwargs</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        <span class="comment"># Ҫ�ǵõ�����POST����Ҫ��if�ж��������д</span></span><br><span class="line">    	<span class="comment"># ��������</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;���յ���GET����&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="���ߡ�CBV��FBV�ܽ�">���ߡ�CBV��FBV�ܽ�</h2>
<ul>
<li>ʹ��CBV��FBVȡ��һ���ˣ�����</li>
<li>FBV ��Լ�ֱ�ۣ��ʺϱ�д�򵥵���ͼ�߼���</li>
<li>�� CBV ����ͨ���̳к���д����ʵ�ִ��븴�úͿ���չ�ԣ������ڸ��ӵ���ͼ�������</li>
<li>��ʵ�ʿ����У����Ը�������ѡ���ʺϵķ�ʽ����д��ͼ�����������</li>
</ul>
<h2 id="���ˡ�CBVԴ�����">���ˡ�CBVԴ�����</h2>
<ul>
<li>
<p>���������Django��Ŀʱ</p>
</li>
<li>
<p>���Զ�����·���еķ��������� as_view �������Զ�ִ��</p>
</li>
<li>
<p>��ִ�к����ǲ鿴 as_view ������Դ�� ����</p>
</li>
<li>
<ul>
<li>�����θ����ǵĶ���ֵ�����շ�����һ����ִ�е� dispatch ����</li>
</ul>
</li>
<li>
<p>����������ȥ�鿴�� dispatch ����</p>
</li>
<li>
<ul>
<li>�� dispatch �ڲ� �����ǽ�����ʽת��������У��</li>
<li>Ȼ��ʼУ����Ҫ���õķ����ĵ���λ�ã�У��ɹ����õ���Ҫִ�еķ���ִ��</li>
</ul>
</li>
<li>
<p>���Լ�д�������������صķ����������ȵ���������д���෽����������ִ�н��</p>
</li>
<li>
<ul>
<li>����Լ���������û�и÷��� ��ȥ�Լ��ĸ����е��� ����ķ���</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>������� �Լ� ���� ���Ҳ����򱨴���׳��쳣</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ��1������������UserLogin.as_view()����ʱ�����Լ��ķ�������Ū����û��as_view()�������</span></span><br><span class="line"><span class="comment"># û�еĻ�ȥ����������</span></span><br><span class="line"><span class="comment"># ��.����---&gt;���Բ�����İ󶨷��������Ǿ�̬����</span></span><br><span class="line"><span class="meta">@classonlymethod</span></span><br><span class="line"><span class="comment"># ��2�����뺯��</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">as_view</span>(<span class="params">cls, **initkwargs</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Main entry point for a request-response process.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># ��3����Ϊ����û�д����ݣ����Բ�������</span></span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> initkwargs:</span><br><span class="line">            <span class="keyword">if</span> key <span class="keyword">in</span> cls.http_method_names:</span><br><span class="line">                <span class="keyword">raise</span> TypeError(</span><br><span class="line">                    <span class="string">&#x27;The method name %s is not accepted as a keyword argument &#x27;</span></span><br><span class="line">                    <span class="string">&#x27;to %s().&#x27;</span> % (key, cls.__name__)</span><br><span class="line">                )</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(cls, key):</span><br><span class="line">                <span class="keyword">raise</span> TypeError(<span class="string">&quot;%s() received an invalid keyword %r. as_view &quot;</span></span><br><span class="line">                                <span class="string">&quot;only accepts arguments that are already &quot;</span></span><br><span class="line">                                <span class="string">&quot;attributes of the class.&quot;</span> % (cls.__name__, key))</span><br><span class="line">        <span class="comment"># ��4���ߵ��������view����</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">view</span>(<span class="params">request, *args, **kwargs</span>):</span><br><span class="line">            <span class="comment"># ��5��lei�����ŵĵ����Ƕ���</span></span><br><span class="line">            <span class="variable language_">self</span> = cls(**initkwargs)</span><br><span class="line">            <span class="comment"># ��6����Ϊ������û��������������setup�����뵽setup����</span></span><br><span class="line">            <span class="comment"># ��8��setup��������˳�ʼ����������Է���</span></span><br><span class="line">            <span class="variable language_">self</span>.setup(request, *args, **kwargs)</span><br><span class="line">            <span class="comment"># ��9��hasattr�������������ķ��䷽�����жϵ�ǰ�����Ƿ����</span></span><br><span class="line">            <span class="comment"># ������setup���������Ѿ�����self.request = request��ʼ������</span></span><br><span class="line">            <span class="comment"># ���Դ��ڣ�������if�ж�</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(<span class="variable language_">self</span>, <span class="string">&#x27;request&#x27;</span>):</span><br><span class="line">                <span class="keyword">raise</span> AttributeError(</span><br><span class="line">                    <span class="string">&quot;%s instance has no &#x27;request&#x27; attribute. Did you override &quot;</span></span><br><span class="line">                    <span class="string">&quot;setup() and forget to call super()?&quot;</span> % cls.__name__</span><br><span class="line">                )</span><br><span class="line">            <span class="comment"># ��10������selfû��dispatch���ԣ�������Ӧ���Ǹ��������������dispatch����</span></span><br><span class="line">            <span class="comment"># ����ͷ���self.get()�����㶨����������get����</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.dispatch(request, *args, **kwargs)</span><br><span class="line">        view.view_class = cls</span><br><span class="line">        view.view_initkwargs = initkwargs</span><br><span class="line"></span><br><span class="line">        <span class="comment"># take name and docstring from class</span></span><br><span class="line">        update_wrapper(view, cls, updated=())</span><br><span class="line"></span><br><span class="line">        <span class="comment"># and possible attributes set by decorators</span></span><br><span class="line">        <span class="comment"># like csrf_exempt from dispatch</span></span><br><span class="line">        update_wrapper(view, cls.dispatch, assigned=())</span><br><span class="line">        <span class="keyword">return</span> view</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ��7������setup����</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Initialize attributes shared by all view methods.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># hasattr�����������ķ��䷽�����жϵ�ǰ�����Ƿ����</span></span><br><span class="line">        <span class="comment"># �����ǵ�get���Դ��ڣ�head���Բ����ڣ�����ִ��</span></span><br><span class="line">        <span class="comment"># ��Ϊsef���������get����</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">hasattr</span>(<span class="variable language_">self</span>, <span class="string">&#x27;get&#x27;</span>) <span class="keyword">and</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(<span class="variable language_">self</span>, <span class="string">&#x27;head&#x27;</span>):</span><br><span class="line">            <span class="comment"># ��get��������head����</span></span><br><span class="line">            <span class="variable language_">self</span>.head = <span class="variable language_">self</span>.get</span><br><span class="line">        <span class="comment"># ��ʼ����������</span></span><br><span class="line">        <span class="variable language_">self</span>.request = request</span><br><span class="line">        <span class="variable language_">self</span>.args = args</span><br><span class="line">        <span class="variable language_">self</span>.kwargs = kwargs</span><br><span class="line"></span><br><span class="line">    <span class="comment">#��11������dispatch����</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dispatch</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># request.method�������ʽ��lower()������ʽȫ��Сд</span></span><br><span class="line">        <span class="comment"># http_method_names = [&#x27;get&#x27;, &#x27;post&#x27;, &#x27;put&#x27;, &#x27;patch&#x27;, &#x27;delete&#x27;, &#x27;head&#x27;, &#x27;options&#x27;, &#x27;trace&#x27;]</span></span><br><span class="line">        <span class="comment"># ��1����request.method.lower()��http_method_names������ʱ����if�ж��������</span></span><br><span class="line">        <span class="keyword">if</span> request.method.lower() <span class="keyword">in</span> <span class="variable language_">self</span>.http_method_names:</span><br><span class="line">            <span class="comment"># getattr����������䷽����������Եķ���</span></span><br><span class="line">            <span class="comment"># ��2��self.http_method_not_allowed��Ĭ�ϲ�����û��request.method.lower()������Ե�ʱ����Ĭ��ֵ</span></span><br><span class="line">            <span class="comment"># handler�õ�����self.get�����൱��handler = self.get</span></span><br><span class="line">            handler = <span class="built_in">getattr</span>(<span class="variable language_">self</span>, request.method.lower(), <span class="variable language_">self</span>.http_method_not_allowed)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            handler = <span class="variable language_">self</span>.http_method_not_allowed</span><br><span class="line">            <span class="comment"># ��3�������൱����handler���͵�ͬ��self.get()</span></span><br><span class="line">        <span class="keyword">return</span> handler(request, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">http_method_not_allowed</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        logger.warning(</span><br><span class="line">            <span class="string">&#x27;Method Not Allowed (%s): %s&#x27;</span>, request.method, request.path,</span><br><span class="line">            extra=&#123;<span class="string">&#x27;status_code&#x27;</span>: <span class="number">405</span>, <span class="string">&#x27;request&#x27;</span>: request&#125;</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">return</span> HttpResponseNotAllowed(<span class="variable language_">self</span>._allowed_methods())</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/8.0Xpath%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/8.0Xpath%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>Xpath语法</h1>
<h2 id="【一】前言">【一】前言</h2>
<h3 id="【1】介绍">【1】介绍</h3>
<ul>
<li>xpath在Python的爬虫学习中，起着举足轻重的地位</li>
<li>xpath 全称为XML Path Language 一种小型的查询语言</li>
</ul>
<h3 id="【2】优点">【2】优点</h3>
<ul>
<li>可以在xml中查找信息</li>
<li>支持HTML查询</li>
<li>通过元素和属性进行导航</li>
<li>python开发使用xpath条件：由于xpath属于lxml库模块，首先安装lxml</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line"><span class="comment"># tree对象</span></span><br><span class="line">tree = etree.HTML(<span class="string">&quot;源码&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取内容</span></span><br><span class="line"><span class="comment"># 表达式：打开开发者模式，你可以选择xpath复制</span></span><br><span class="line">tree.xpath(<span class="string">&quot;表达式&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="【二】路径表达式">【二】路径表达式</h2>
<table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
<th>实例</th>
<th>解析</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>从根节点选取</td>
<td>/body/div[1]</td>
<td>选取根结点下的body下的第一个div标签</td>
</tr>
<tr>
<td>//</td>
<td>从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置</td>
<td>//a</td>
<td>选取文档中所有的a标签</td>
</tr>
<tr>
<td>./</td>
<td>当前节点再次进行xpath</td>
<td>./a</td>
<td>选取当前节点下的所有a标签</td>
</tr>
<tr>
<td>@</td>
<td>选取属性</td>
<td>//@calss</td>
<td>选取所有的class属性</td>
</tr>
</tbody>
</table>
<ul>
<li>soup对象和tree对象的比较
<ul>
<li><code>soup：a.attrs.get('href')</code></li>
<li><code>tree：xpath('./a/@href')</code></li>
</ul>
</li>
</ul>
<h3 id="【1】tree对象的使用">【1】tree对象的使用</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">html_doc = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story&lt;/b&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拿到tree对象</span></span><br><span class="line">tree = etree.HTML(html_doc)</span><br><span class="line"><span class="comment"># print(tree)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写语法</span></span><br><span class="line"><span class="comment"># 获得a标签</span></span><br><span class="line">a_list = tree.xpath(<span class="string">&#x27;/html/body/p/a&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a_list)</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> a_list:</span><br><span class="line">    <span class="built_in">print</span>(a.xpath(<span class="string">&quot;./@href&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(a.xpath(<span class="string">&quot;./text()&quot;</span>))</span><br><span class="line"><span class="comment"># [&#x27;http://example.com/elsie&#x27;]</span></span><br><span class="line"><span class="comment"># [&#x27;Elsie&#x27;]</span></span><br><span class="line"><span class="comment"># [&#x27;http://example.com/lacie&#x27;]</span></span><br><span class="line"><span class="comment"># [&#x27;Lacie&#x27;]</span></span><br><span class="line"><span class="comment"># [&#x27;http://example.com/tillie&#x27;]</span></span><br><span class="line"><span class="comment"># [&#x27;Tillie&#x27;]</span></span><br></pre></td></tr></table></figure>
<h3 id="【2】谓语（Predicates）">【2】谓语（<strong>Predicates</strong>）</h3>
<ul>
<li>谓语用来查找某个特定的节点或者包含某个指定的值节点</li>
<li>谓语被嵌在方括号中</li>
<li>谓语路径表达式</li>
</ul>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>/ul/li[1]</td>
<td>选取属于 ul子元素的第一个 li元素。</td>
</tr>
<tr>
<td>/ul/li[last()]</td>
<td>选取属于 ul子元素的最后一个 li元素。</td>
</tr>
<tr>
<td>/ul/li[last()-1]</td>
<td>选取属于 ul子元素的倒数第二个 li元素。</td>
</tr>
<tr>
<td>//ul/li[position()&lt;3]</td>
<td>选取最前面的两个属于 ul元素的子元素的 li元素。</td>
</tr>
<tr>
<td>//a[@title]</td>
<td>选取所有拥有名为 title的属性的 a元素。</td>
</tr>
<tr>
<td>//a[@title=‘xx’]</td>
<td>选取所有 a元素，且这些元素拥有值为 xx的 title属性。</td>
</tr>
<tr>
<td>//a[@title&gt;10] &gt; &lt; &gt;= &lt;= !=</td>
<td>选取 a元素的所有 title元素，且其中的 title元素的值须大于 10。</td>
</tr>
<tr>
<td>/body/div[@price&gt;35.00]</td>
<td>选取body下price元素值大于35的div节点</td>
</tr>
</tbody>
</table>
<h2 id="【三】选取未知节点">【三】选取未知节点</h2>
<h3 id="【1】语法">【1】语法</h3>
<ul>
<li>xpath通配符可用来选取未知的xml元素</li>
</ul>
<table>
<thead>
<tr>
<th>通配符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>匹配任何元素节点。</td>
</tr>
<tr>
<td>@*</td>
<td>匹配任何属性节点。</td>
</tr>
<tr>
<td>node()</td>
<td>匹配任何类型的节点。</td>
</tr>
</tbody>
</table>
<h3 id="【2】实例">【2】实例</h3>
<ul>
<li>列出了一些路径表达式和这些表达式的结果：</li>
</ul>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>/ul/*</td>
<td>选取 bookstore 元素的所有子元素。</td>
</tr>
<tr>
<td>//*</td>
<td>选取文档中的所有元素。</td>
</tr>
<tr>
<td>//title[@*]</td>
<td>选取所有带有属性的 title 元素。</td>
</tr>
<tr>
<td>//node()</td>
<td>获取所有节点</td>
</tr>
</tbody>
</table>
<h2 id="【四】选取若干路径">【四】选取若干路径</h2>
<h3 id="【1】语法-2">【1】语法</h3>
<ul>
<li>在路径表达式中选择使用|运算符，可以选择若干个路径</li>
</ul>
<h3 id="【2】实例-2">【2】实例</h3>
<ul>
<li>列出了一些路径表达式和这些表达式的结果</li>
</ul>
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>//book/title | //book/price</td>
<td>选取 book 元素的所有 title 和 price 元素。</td>
</tr>
<tr>
<td>//title | //price</td>
<td>选取文档中的所有 title 和 price 元素。</td>
</tr>
<tr>
<td>/bookstore/book/title | //price</td>
<td>选取属于 bookstore 元素的 book 元素的所有 title 元素，以及文档中所有的 price 元素。</td>
</tr>
</tbody>
</table>
<h4 id="（1）逻辑运算">（1）逻辑运算</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//div[@<span class="built_in">id</span>=<span class="string">&quot;head&quot;</span> <span class="keyword">and</span> @<span class="keyword">class</span>=<span class="string">&quot;s_down&quot;</span>] <span class="comment"># 查找所有id属性等于head并且class属性等于s_down的div标签</span></span><br><span class="line">//title | //price <span class="comment"># 选取文档中的所有 title 和 price 元素,“|”两边必须是完整的xpath路径</span></span><br></pre></td></tr></table></figure>
<h4 id="（2）属性查询">（2）属性查询</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//div[@<span class="built_in">id</span>] <span class="comment"># 找所有包含id属性的div节点</span></span><br><span class="line">//div[@<span class="built_in">id</span>=<span class="string">&quot;maincontent&quot;</span>]  <span class="comment"># 查找所有id属性等于maincontent的div标签</span></span><br><span class="line">//@<span class="keyword">class</span></span><br><span class="line">//li[@name=<span class="string">&quot;xx&quot;</span>]//text()  <span class="comment"># 获取li标签name为xx的里面的文本内容</span></span><br></pre></td></tr></table></figure>
<h4 id="（3）获取第几个标签-索引从1开始">（3）获取第几个标签 索引从1开始</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tree.xpath(<span class="string">&#x27;//li[1]/a/text()&#x27;</span>)  <span class="comment"># 获取第一个</span></span><br><span class="line">tree.xpath(<span class="string">&#x27;//li[last()]/a/text()&#x27;</span>)  <span class="comment"># 获取最后一个</span></span><br><span class="line">tree.xpath(<span class="string">&#x27;//li[last()-1]/a/text()&#x27;</span>)  <span class="comment"># 获取倒数第二个</span></span><br></pre></td></tr></table></figure>
<h4 id="（4）模糊查询">（4）模糊查询</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//div[contains(@<span class="built_in">id</span>, <span class="string">&quot;he&quot;</span>)]  <span class="comment"># 查询所有id属性中包含he的div标签</span></span><br><span class="line">//div[starts-<span class="keyword">with</span>(@<span class="built_in">id</span>, <span class="string">&quot;he&quot;</span>)] <span class="comment"># 查询所有id属性中包以he开头的div标签</span></span><br><span class="line"></span><br><span class="line">//div/h1/text()  <span class="comment"># 查找所有div标签下的直接子节点h1的内容</span></span><br><span class="line">//div/a/@href   <span class="comment"># 获取a里面的href属性值 </span></span><br><span class="line">//*  <span class="comment">#获取所有</span></span><br><span class="line">//*[@<span class="keyword">class</span>=<span class="string">&quot;xx&quot;</span>]  <span class="comment">#获取所有class为xx的标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取节点内容转换成字符串</span></span><br><span class="line">c = tree.xpath(<span class="string">&#x27;//li/a&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">result=etree.tostring(c, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.decode(<span class="string">&#x27;UTF-8&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h2 id="【五】案例">【五】案例</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">doc = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string"> &lt;head&gt;</span></span><br><span class="line"><span class="string">  &lt;base href=&#x27;http://example.com/&#x27; /&gt;  &lt;!-- 设置基准链接 --&gt;</span></span><br><span class="line"><span class="string">  &lt;title&gt;Example website&lt;/title&gt;  &lt;!-- 设置网页标题 --&gt;</span></span><br><span class="line"><span class="string"> &lt;/head&gt;</span></span><br><span class="line"><span class="string"> &lt;body&gt;</span></span><br><span class="line"><span class="string">  &lt;div id=&#x27;images&#x27;&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image1&#x27; id=&#x27;lqz&#x27;&gt;Name: My image 1 &lt;br /&gt;&lt;img src=&#x27;image1_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image2&#x27;&gt;Name: My image 2 &lt;br /&gt;&lt;img src=&#x27;image2_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image3&#x27;&gt;Name: My image 3 &lt;br /&gt;&lt;img src=&#x27;image3_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image4&#x27;&gt;Name: My image 4 &lt;br /&gt;&lt;img src=&#x27;image4_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image5&#x27; class=&#x27;li li-item&#x27; name=&#x27;items&#x27;&gt;Name: My image 5 &lt;br /&gt;&lt;img src=&#x27;image5_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image6&#x27; name=&#x27;items&#x27;&gt;&lt;span&gt;&lt;h5&gt;test&lt;/h5&gt;&lt;/span&gt;Name: My image 6 &lt;br /&gt;&lt;img src=&#x27;image6_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string"> &lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将HTML字符串转为可解析的对象</span></span><br><span class="line">html = etree.HTML(doc)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 获取所有节点</span></span><br><span class="line">all_nodes = html.xpath(<span class="string">&#x27;//*&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(all_nodes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 指定节点（结果为列表）</span></span><br><span class="line">head_node = html.xpath(<span class="string">&#x27;//head&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(head_node)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 子节点和子孙节点</span></span><br><span class="line">child_nodes = html.xpath(<span class="string">&#x27;//div/a&#x27;</span>)  <span class="comment"># 获取div下的所有a标签</span></span><br><span class="line">descendant_nodes = html.xpath(<span class="string">&#x27;//body//a&#x27;</span>)  <span class="comment"># 获取body下的所有子孙a标签</span></span><br><span class="line"><span class="built_in">print</span>(child_nodes)</span><br><span class="line"><span class="built_in">print</span>(descendant_nodes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 父节点</span></span><br><span class="line">parent_node = html.xpath(<span class="string">&#x27;//body//a[1]/..&#x27;</span>)  <span class="comment"># 获取第一个a标签的父节点</span></span><br><span class="line"><span class="built_in">print</span>(parent_node)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. 属性匹配</span></span><br><span class="line">matched_nodes = html.xpath(<span class="string">&#x27;//body//a[@href=&quot;image1&quot;]&#x27;</span>)  <span class="comment"># 获取href属性为&quot;image1.html&quot;的a标签</span></span><br><span class="line"><span class="built_in">print</span>(matched_nodes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. 文本获取</span></span><br><span class="line">text = html.xpath(<span class="string">&#x27;//body//a[@href=&quot;image1&quot;]/text()&#x27;</span>)  <span class="comment"># 获取第一个a标签的文本内容</span></span><br><span class="line"><span class="built_in">print</span>(text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7. 属性获取</span></span><br><span class="line">href_attributes = html.xpath(<span class="string">&#x27;//body//a/@href&#x27;</span>)  <span class="comment"># 获取所有a标签的href属性值</span></span><br><span class="line"><span class="built_in">print</span>(href_attributes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8. 属性多值匹配</span></span><br><span class="line">li_class_nodes = html.xpath(<span class="string">&#x27;//body//a[contains(@class, &quot;li&quot;)]&#x27;</span>)  <span class="comment"># 获取class属性包含&quot;li&quot;的a标签</span></span><br><span class="line"><span class="built_in">print</span>(li_class_nodes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 9. 多属性匹配</span></span><br><span class="line">matched_nodes = html.xpath(<span class="string">&#x27;//body//a[contains(@class, &quot;li&quot;) and @name=&quot;items&quot;]&#x27;</span>)  <span class="comment"># 获取class属性包含&quot;li&quot;和name属性为&quot;items&quot;的a标签</span></span><br><span class="line"><span class="built_in">print</span>(matched_nodes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 10. 按序选择</span></span><br><span class="line">second_a_text = html.xpath(<span class="string">&#x27;//a[2]/text()&#x27;</span>)  <span class="comment"># 获取第二个a标签的文本内容</span></span><br><span class="line"><span class="built_in">print</span>(second_a_text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 11. 节点轴选择</span></span><br><span class="line">ancestors = html.xpath(<span class="string">&#x27;//a/ancestor::*&#x27;</span>)  <span class="comment"># 获取a标签的所有祖先节点</span></span><br><span class="line">div_ancestor_node = html.xpath(<span class="string">&#x27;//a/ancestor::div&#x27;</span>)  <span class="comment"># 获取a标签的祖先节点中的div</span></span><br><span class="line">attribute_values = html.xpath(<span class="string">&#x27;//a[1]/attribute::*&#x27;</span>)  <span class="comment"># 获取第一个a标签的所有属性值</span></span><br><span class="line">child_nodes = html.xpath(<span class="string">&#x27;//a[1]/child::*&#x27;</span>)  <span class="comment"># 获取第一个a标签的所有子节点</span></span><br><span class="line">descendant_nodes = html.xpath(<span class="string">&#x27;//a[6]/descendant::*&#x27;</span>)  <span class="comment"># 获取第六个a标签的所有子孙节点</span></span><br><span class="line">following_nodes = html.xpath(<span class="string">&#x27;//a[1]/following::*&#x27;</span>)  <span class="comment"># 获取第一个a标签之后的所有节点</span></span><br><span class="line">following_sibling_nodes = html.xpath(<span class="string">&#x27;//a[1]/following-sibling::*&#x27;</span>)  <span class="comment"># 获取第一个a标签之后的同级节点</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(ancestors)</span><br><span class="line"><span class="built_in">print</span>(div_ancestor_node)</span><br><span class="line"><span class="built_in">print</span>(attribute_values)</span><br><span class="line"><span class="built_in">print</span>(child_nodes)</span><br><span class="line"><span class="built_in">print</span>(descendant_nodes)</span><br><span class="line"><span class="built_in">print</span>(following_nodes)</span><br><span class="line"><span class="built_in">print</span>(following_sibling_nodes)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/7.0PyMySQL%E6%A8%A1%E5%9D%97%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/7.0PyMySQL%E6%A8%A1%E5%9D%97%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>PyMySQL模块</h1>
<h2 id="【一】Python操作数据库简介">【一】Python操作数据库简介</h2>
<ul>
<li>我们可以用PyMySQL模块在python中操作SQL语句</li>
<li>PyMySQL模块是第三方的包需要下载</li>
<li>想要在Python中操作MySQL数据
<ul>
<li>需要执行subporcess–&gt;连接数据库—&gt;执行命令</li>
</ul>
</li>
</ul>
<h3 id="【1】什么是DB-API">【1】什么是DB-API</h3>
<ul>
<li>
<p>用来规范Python标准数据库的</p>
</li>
<li>
<p>DB-API网址：<a target="_blank" rel="noopener" href="https://peps.python.org/pep-0249/">https://peps.python.org/pep-0249/</a></p>
</li>
<li>
<p>DB-API定义了一系列必须的对象和数据库操作方式，以便为各种数据库系统和数据库访问程序提供一致的访问接口。</p>
</li>
</ul>
<h3 id="【2】数据库操作模块">【2】数据库操作模块</h3>
<ul>
<li>
<p>开发人员将接口封装成不同的数据库操作模块，不同数据库需要不同的数据库操作模块</p>
</li>
<li>
<p>MySQL数据库对应的模块</p>
<ul>
<li>网址：—&gt;<a target="_blank" rel="noopener" href="https://wiki.python.org/moin/MySQL">https://wiki.python.org/moin/MySQL</a></li>
</ul>
</li>
<li>
<p>最常用的模块</p>
<ul>
<li>MySQL-Python：也就是MySQLdb，底层是通过C操作MySQL，效率高，但是只支持py2，不支持py3</li>
<li>mysqlclient ：是MySQL-python的一个分支。它增加了Python 3支持，并修复了许多错误。Django文档推荐的MySQL依赖库</li>
<li>PyMySQL：纯python实现的模块，可以与python代码兼容衔接，并也几乎兼容MySQL-python</li>
<li>MySQL connector/python ：纯python实现的模块</li>
</ul>
</li>
</ul>
<h2 id="【二】PyMySQL简介">【二】PyMySQL简介</h2>
<ul>
<li>纯python实现的模块</li>
<li>遵循python数据库API v2.0规范</li>
<li>网址 ：<a target="_blank" rel="noopener" href="https://zetcode.com/python/pymysql/">https://zetcode.com/python/pymysql/</a></li>
</ul>
<h2 id="【三】PyMySQL的使用">【三】PyMySQL的使用</h2>
<h3 id="【1】安装PyMySQL模块">【1】安装PyMySQL模块</h3>
<ul>
<li>它是一个第三方模块</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pymysql</span><br></pre></td></tr></table></figure>
<h3 id="【2】连接数据库">【2】连接数据库</h3>
<ul>
<li>用connect函数创建连接对象
<ul>
<li>连接对象提供关闭数据库，事务提交，事务回滚等操作</li>
</ul>
</li>
<li>传输的参数 ：
<ul>
<li>必填参数：
<ul>
<li>user : 必填参数—》数据库连接的用户名</li>
<li>password ：必填参数—》数据库连接密码</li>
<li>host ：必填参数 —》数据库服务器地址，本地填’127.0.0.1’或者localhost</li>
<li>port ：必填参数—》书数据库端口，336</li>
<li>database ：必填参数—》需要连接那个数据库</li>
</ul>
</li>
<li>选填：
<ul>
<li>charset ：编码集，默认是’’</li>
<li>sql_mode ：严格模式</li>
<li>cursorclass  = Cursor ：获得查询集的显示结果样式
<ul>
<li>cursor：返回输出的数据是列表里面包着元组</li>
<li>DictCursor：返回输出的数据是列表里面包着字典</li>
</ul>
</li>
<li>connect_timeout=10 : 连接超时</li>
<li>autocommit=False ：为True时自动执行事务提交</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"></span></span><br><span class="line"><span class="params">        self,</span></span><br><span class="line"><span class="params">        *,</span></span><br><span class="line"><span class="params">        user=<span class="literal">None</span>,  <span class="comment"># The first four arguments is based on DB-API 2.0 recommendation.</span></span></span><br><span class="line"><span class="params">        password=<span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="params">        host=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        database=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        unix_socket=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        port=<span class="number">0</span>,</span></span><br><span class="line"><span class="params">        charset=<span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="params">        collation=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        sql_mode=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        read_default_file=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        conv=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        use_unicode=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">        client_flag=<span class="number">0</span>,</span></span><br><span class="line"><span class="params">        cursorclass=Cursor,</span></span><br><span class="line"><span class="params">        init_command=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        connect_timeout=<span class="number">10</span>,</span></span><br><span class="line"><span class="params">        read_default_group=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        autocommit=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">        local_infile=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">        max_allowed_packet=<span class="number">16</span> * <span class="number">1024</span> * <span class="number">1024</span>,</span></span><br><span class="line"><span class="params">        defer_connect=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">        auth_plugin_map=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        read_timeout=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        write_timeout=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        bind_address=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        binary_prefix=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">        program_name=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        server_public_key=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ssl=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ssl_ca=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ssl_cert=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ssl_disabled=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ssl_key=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ssl_verify_cert=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ssl_verify_identity=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        compress=<span class="literal">None</span>,  <span class="comment"># not supported</span></span></span><br><span class="line"><span class="params">        named_pipe=<span class="literal">None</span>,  <span class="comment"># not supported</span></span></span><br><span class="line"><span class="params">        passwd=<span class="literal">None</span>,  <span class="comment"># deprecated</span></span></span><br><span class="line"><span class="params">        db=<span class="literal">None</span>,  <span class="comment"># deprecated</span></span></span><br><span class="line"><span class="params"></span>)</span><br></pre></td></tr></table></figure>
<h4 id="（1）连接语法">（1）连接语法</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"></span><br><span class="line">#连接数据库，创建连接对象</span><br><span class="line">conn <span class="operator">=</span> pymysql.connect(</span><br><span class="line">    <span class="keyword">user</span><span class="operator">=</span>&quot;root&quot;,  # 数据库连接用户名</span><br><span class="line">    password<span class="operator">=</span><span class="string">&#x27;1234567&#x27;</span>,  # 数据库连接密码</span><br><span class="line">    host<span class="operator">=</span><span class="string">&#x27;127.0.0.1&#x27;</span>,  # 数据库服务器地址</span><br><span class="line">    port<span class="operator">=</span><span class="number">3306</span>,  # 端口号</span><br><span class="line">    database<span class="operator">=</span><span class="string">&#x27;data&#x27;</span>,  # 连接的数据库的名字</span><br><span class="line">    charset<span class="operator">=</span> <span class="string">&#x27;utf8mb4&#x27;</span></span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">print(conn)</span><br><span class="line"># 输出 ：得到一个对象</span><br><span class="line"># <span class="operator">&lt;</span>pymysql.connections.Connection object <span class="keyword">at</span> <span class="number">0x000001B8136CF190</span><span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="【3】方法介绍">【3】方法介绍</h3>
<ul>
<li>cursor()：获取游标对象，操作数据库，存储过程等</li>
<li>commit：提交事务</li>
<li>rollback()：回滚事务</li>
<li>close()：关闭数据库连接</li>
</ul>
<h3 id="【4】操作MySQL数据库">【4】操作MySQL数据库</h3>
<h4 id="（1）创建游标对象">（1）创建游标对象</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">                       password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">                       host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">                       port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">                       database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">                       )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询数据以元组的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment">#返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br></pre></td></tr></table></figure>
<h4 id="（2）执行SQL语句">（2）执行SQL语句</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询数据以元组的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment"># cursor = conn.cursor()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment">#返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"><span class="comment"># 例如：[&#123;&#x27;id&#x27;: 1, &#x27;class_id&#x27;: 100, &#x27;class&#x27;: &#x27;北京市101中学高三一班&#x27;&#125;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句</span></span><br><span class="line">sql = <span class="string">&#x27;select * from class limit 10&#x27;</span></span><br><span class="line"><span class="comment">#执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br></pre></td></tr></table></figure>
<h3 id="【5】查询结果">【5】查询结果</h3>
<h4 id="（1）获取所有结果-fetchall">（1）获取所有结果----&gt;fetchall</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment">#返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"><span class="comment"># 例如：&#123;&#x27;id&#x27;: 1, &#x27;class_id&#x27;: 100, &#x27;class&#x27;: &#x27;北京市101中学高三一班&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句---&gt;limit：打印几条数据</span></span><br><span class="line">sql = <span class="string">&#x27;select * from class limit 10&#x27;</span></span><br><span class="line"><span class="comment">#执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"><span class="comment">#获取全部的结果用fetchall</span></span><br><span class="line">result = cursor.fetchall()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment"># 返回结果</span></span><br><span class="line"><span class="comment"># [&#123;&#x27;id&#x27;: 1, &#x27;class_id&#x27;: 100, &#x27;class&#x27;: &#x27;北京市101中学高三一班&#x27;&#125;, &#123;&#x27;id&#x27;: 2, &#x27;class_id&#x27;: 101, &#x27;class&#x27;: &#x27;北京市101中学高三二班&#x27;&#125;, &#123;&#x27;id&#x27;: 3, &#x27;class_id&#x27;: 102, &#x27;class&#x27;: &#x27;北京市101中学高三三班&#x27;&#125;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="（2）获取一行数据—-fetchone">（2）获取一行数据—&gt;fetchone</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment">#返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句</span></span><br><span class="line">sql = <span class="string">&#x27;select * from class limit 10&#x27;</span></span><br><span class="line"><span class="comment">#执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"><span class="comment">#获取全部的结果用fetchall</span></span><br><span class="line">result = cursor.fetchone()</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment"># &#123;&#x27;id&#x27;: 1, &#x27;class_id&#x27;: 100, &#x27;class&#x27;: &#x27;北京市101中学高三一班&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="（3）获取查询指定结果量—-fetchmany">（3）获取查询指定结果量—&gt;fetchmany</h4>
<ul>
<li>在fetchmany（得到几条数据）
<ul>
<li>默认就获取一条</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询数据以元组的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句</span></span><br><span class="line">sql = <span class="string">&#x27;select * from class limit 10&#x27;</span></span><br><span class="line"><span class="comment">#执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"><span class="comment">#获取全部的结果用fetchall</span></span><br><span class="line">result = cursor.fetchmany(size=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment"># ((1, 100, &#x27;北京市101中学高三一班&#x27;), (2, 101, &#x27;北京市101中学高三二班&#x27;))</span></span><br></pre></td></tr></table></figure>
<h4 id="（4）移动光标">（4）移动光标</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cursor.scroll(<span class="number">1</span>, <span class="string">&#x27;relative&#x27;</span>)  <span class="comment"># 相对于当前位置往后移动一个单位</span></span><br><span class="line">cursor.scroll(<span class="number">1</span>, <span class="string">&#x27;absolute&#x27;</span>)  <span class="comment"># 相对于起始位置往后移动一个单位</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>cursor.scroll(1, 'relative')</code>
<ul>
<li>1 : 代表相对于当前位置往后移动一个</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 导入模块</span><br><span class="line">import pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors import DictCursor</span><br><span class="line"></span><br><span class="line">#连接数据库，创建连接对象</span><br><span class="line">conn <span class="operator">=</span> pymysql.connect(</span><br><span class="line">    <span class="keyword">user</span><span class="operator">=</span>&quot;root&quot;,  # 数据库连接用户名</span><br><span class="line">    password<span class="operator">=</span><span class="string">&#x27;1234567&#x27;</span>,  # 数据库连接密码</span><br><span class="line">    host<span class="operator">=</span><span class="string">&#x27;127.0.0.1&#x27;</span>,  # 数据库服务器地址</span><br><span class="line">    port<span class="operator">=</span><span class="number">3306</span>,  # 端口号</span><br><span class="line">    database<span class="operator">=</span><span class="string">&#x27;day01&#x27;</span>  # 连接的数据库的名字</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">#创建游标对象，查询结果以字典的形式返回</span><br><span class="line">#用游标对象执行<span class="keyword">SQL</span>语句，来获取结果</span><br><span class="line">#返回的结果是：字典类型并且带有字段名</span><br><span class="line"><span class="keyword">cursor</span> <span class="operator">=</span> conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"># 创建<span class="keyword">SQL</span>语句</span><br><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> <span class="string">&#x27;select * from class limit 10&#x27;</span></span><br><span class="line">#执行<span class="keyword">SQL</span>语句</span><br><span class="line">cursor.execute(<span class="keyword">sql</span>)</span><br><span class="line"></span><br><span class="line">#代表相对于当前位置往后移动一个</span><br><span class="line">cursor.scroll(<span class="number">1</span>,<span class="string">&#x27;relative&#x27;</span>)</span><br><span class="line"></span><br><span class="line">#获取全部的结果用fetchall</span><br><span class="line"><span class="keyword">result</span> <span class="operator">=</span> cursor.fetchmany(size<span class="operator">=</span><span class="number">2</span>)</span><br><span class="line">print(<span class="keyword">result</span>)</span><br><span class="line"># [&#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;class_id&#x27;</span>: <span class="number">101</span>, <span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;北京市101中学高三二班&#x27;</span>&#125;, &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;class_id&#x27;</span>: <span class="number">102</span>, <span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;北京市101中学高三三班&#x27;</span>&#125;]</span><br></pre></td></tr></table></figure>
<ul>
<li><code>cursor.scroll(1, 'absolute')</code>
<ul>
<li>1 : 相对于起始位置往后移动一个单位</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment">#用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment">#返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句</span></span><br><span class="line">sql = <span class="string">&#x27;select * from class limit 10&#x27;</span></span><br><span class="line"><span class="comment">#执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 相对于起始位置往后移动一个单位</span></span><br><span class="line">cursor.scroll(<span class="number">2</span>,<span class="string">&#x27;absolute&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取全部的结果用fetchall</span></span><br><span class="line">result = cursor.fetchmany(size=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment"># [&#123;&#x27;id&#x27;: 3, &#x27;class_id&#x27;: 102, &#x27;class&#x27;: &#x27;北京市101中学高三三班&#x27;&#125;]</span></span><br></pre></td></tr></table></figure>
<h3 id="【6】插入操作">【6】插入操作</h3>
<ul>
<li>插入操作中参数可以以元组，列表，字典的形式传入</li>
<li>需要使用到占位符 “%s”</li>
<li>注意这只是个占位符，不同于Python 中字符串格式化中的转换说明符。</li>
</ul>
<table>
<thead>
<tr>
<th>转换说明符</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>%d、%i</td>
<td>转换为带符号的十进制数</td>
</tr>
<tr>
<td>%o</td>
<td>转换为带符号的八进制数</td>
</tr>
<tr>
<td>%x、%X</td>
<td>转换为带符号的十六进制数</td>
</tr>
<tr>
<td>%e</td>
<td>转化为科学计数法表示的浮点数（e 小写）</td>
</tr>
<tr>
<td>%E</td>
<td>转化为科学计数法表示的浮点数（E 小写）</td>
</tr>
<tr>
<td>%f、%F</td>
<td>转化为十进制浮点数</td>
</tr>
<tr>
<td>%g</td>
<td>智能选择使用 %f 或 %e 格式</td>
</tr>
<tr>
<td>%G</td>
<td>智能选择使用 %F 或 %E 格式</td>
</tr>
<tr>
<td>%c</td>
<td>格式化字符及其ASCII码</td>
</tr>
<tr>
<td>%r</td>
<td>使用 repr() 函数将表达式转换为字符串</td>
</tr>
<tr>
<td>%s</td>
<td>使用 str() 函数将表达式转换为字符串</td>
</tr>
</tbody>
</table>
<ul>
<li>未插入之前</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601151141484.png" alt="image-20240601151141484"></p>
<h4 id="1-插入数据–正常方式插入，SQL语句">(1)插入数据–正常方式插入，SQL语句</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 插入字段数据</span></span><br><span class="line">sql = <span class="string">&#x27;insert into class(class_id,class) values(103,&quot;北京市101中学高三四班&quot;)&#x27;</span></span><br><span class="line"><span class="comment">#执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"><span class="comment">#插入数据生效就要提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601152141933.png" alt="image-20240601152141933"></p>
<h4 id="（2）插入数据—-s-占位">（2）插入数据—&gt;%s 占位</h4>
<ul>
<li>执行<code>cursor.execute(sql,[103,'北京市101中学高三五班'])</code>
<ul>
<li>[]需要按照位置传参</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建游标对象</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句,%s占位</span></span><br><span class="line">sql = <span class="string">&#x27;insert into class(class_id,class) values(%s,%s)&#x27;</span></span><br><span class="line"><span class="comment">#执行SQL语句，需要按照位置传参</span></span><br><span class="line">cursor.execute(sql,[<span class="number">103</span>,<span class="string">&#x27;北京市101中学高三五班&#x27;</span>])</span><br><span class="line"><span class="comment">#插入数据生效就要提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601152746417.png" alt="image-20240601152746417"></p>
<ul>
<li>关键字传入参数
<ul>
<li>{}</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标对象</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句,%s占位</span></span><br><span class="line">sql = <span class="string">&#x27;insert into class(class_id,class) values(%(class_id)s,%(class)s)&#x27;</span></span><br><span class="line"><span class="comment"># 执行SQL语句，按照关键字传参</span></span><br><span class="line">cursor.execute(sql, &#123;<span class="string">&#x27;class_id&#x27;</span>: <span class="number">103</span>, <span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;北京市101中学高三五班&#x27;</span>&#125;)</span><br><span class="line"><span class="comment"># 插入数据生效就要提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601153319137.png" alt="image-20240601153319137"></p>
<h4 id="3-批量插入-executemany">(3)批量插入----&gt;executemany()</h4>
<ul>
<li><code>cursor.executemany(sql, data_all)</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment"># 用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment"># 返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment">#遍历</span></span><br><span class="line">class_id_list = [<span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br><span class="line"><span class="comment">#遍历</span></span><br><span class="line">class_list = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&#x27;money&#x27;</span>]</span><br><span class="line"><span class="comment">#zip打包</span></span><br><span class="line">data_all = <span class="built_in">list</span>(<span class="built_in">zip</span>(class_id_list, class_list))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句,%s占位</span></span><br><span class="line">sql = <span class="string">&#x27;insert into class(class_id,class) values(%s,%s)&#x27;</span></span><br><span class="line"><span class="comment"># 执行SQL语句</span></span><br><span class="line">cursor.executemany(sql, data_all)</span><br><span class="line"><span class="comment"># 插入数据生效就要提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601154338185.png" alt="image-20240601154338185"></p>
<ul>
<li>遍历每一个数据再插入</li>
</ul>
<h3 id="【7】删除数据">【7】删除数据</h3>
<h4 id="1-s占位删除">(1)%s占位删除</h4>
<ul>
<li>增删改需要有提交事务的操作</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment"># 用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment"># 返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句,%s占位</span></span><br><span class="line">sql = <span class="string">&#x27;delete from class where class_id = %s&#x27;</span></span><br><span class="line"><span class="comment"># 执行SQL语句，按照关键字传参</span></span><br><span class="line">cursor.execute(sql, [<span class="string">&#x27;1&#x27;</span>])</span><br><span class="line"><span class="comment"># 插入数据生效就要提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601155923937.png" alt="image-20240601155923937"></p>
<h4 id="（2）正常SQL语句删除">（2）正常SQL语句删除</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment"># 用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment"># 返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句</span></span><br><span class="line">sql = <span class="string">&#x27;delete from class where class_id = 3&#x27;</span></span><br><span class="line"><span class="comment"># 执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"><span class="comment"># 插入数据生效就要提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601160450271.png" alt="image-20240601160450271"></p>
<h4 id="（3）关键字传参删除">（3）关键字传参删除</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&quot;root&quot;</span>,  <span class="comment"># 数据库连接用户名</span></span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,  <span class="comment"># 数据库连接密码</span></span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,  <span class="comment"># 数据库服务器地址</span></span><br><span class="line">    port=<span class="number">3306</span>,  <span class="comment"># 端口号</span></span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>  <span class="comment"># 连接的数据库的名字</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标对象，查询结果以字典的形式返回</span></span><br><span class="line"><span class="comment"># 用游标对象执行SQL语句，来获取结果</span></span><br><span class="line"><span class="comment"># 返回的结果是：字典类型并且带有字段名</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建SQL语句,%s占位</span></span><br><span class="line">sql = <span class="string">&#x27;delete from class where class_id = %(class_id)s&#x27;</span></span><br><span class="line"><span class="comment"># 执行SQL语句，按照关键字传参D</span></span><br><span class="line">cursor.execute(sql, &#123;<span class="string">&#x27;class_id&#x27;</span>: <span class="number">100</span>&#125;)</span><br><span class="line"><span class="comment"># 插入数据生效就要提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601161237609.png" alt="image-20240601161237609"></p>
<h3 id="【8】更新数据">【8】更新数据</h3>
<h4 id="（1）SQL语句直接写">（1）SQL语句直接写</h4>
<ul>
<li>更新的字段在前面，后满跟的是差你修改的字段</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入pymysql模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#  连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># 创建游标，查询数据以元组形式返回</span></span><br><span class="line"><span class="comment"># cursor = conn.cursor()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标，查询数据以字典形式返回</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sql = <span class="string">&#x27;update  bod set age=7777 where id = 2&#x27;</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601170045953.png" alt="image-20240601170045953"></p>
<h4 id="2-s占位">(2)%s占位</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入pymysql模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#  连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># 创建游标，查询数据以元组形式返回</span></span><br><span class="line"><span class="comment"># cursor = conn.cursor()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标，查询数据以字典形式返回</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sql = <span class="string">&#x27;update  bod set age=%s where id = %s&#x27;</span></span><br><span class="line">cursor.execute(sql,[<span class="number">888</span>,<span class="number">2</span>])</span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入pymysql模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#  连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># 创建游标，查询数据以元组形式返回</span></span><br><span class="line"><span class="comment"># cursor = conn.cursor()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标，查询数据以字典形式返回</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sql = <span class="string">&#x27;update  bod set age=%s where id = %s&#x27;</span></span><br><span class="line">cursor.execute(sql,[<span class="number">888</span>,<span class="number">2</span>])</span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<h4 id="3-关键字传参">(3)关键字传参</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入pymysql模块</span></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line"><span class="comment">#  连接数据库，创建连接对象</span></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># 创建游标，查询数据以元组形式返回</span></span><br><span class="line"><span class="comment"># cursor = conn.cursor()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建游标，查询数据以字典形式返回</span></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sql = <span class="string">&#x27;update  bod set age=%(age)s where id = %(id)s&#x27;</span></span><br><span class="line">cursor.execute(sql,&#123;<span class="string">&quot;age&quot;</span>:<span class="number">999</span>,<span class="string">&quot;id&quot;</span>:<span class="number">2</span>&#125;)</span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240601170734937.png" alt="image-20240601170734937"></p>
<h2 id="【四】SQL注入问题">【四】SQL注入问题</h2>
<h3 id="【1】介绍">【1】介绍</h3>
<ul>
<li>
<p>SQL是常用的网络攻击手法</p>
</li>
<li>
<p>它利用sql的语法特性和程序员编写程序时产生的漏洞，用一些特殊符号的组合产生特殊的含义，使得正常的sql语句失效，从而逃脱正常的业务逻辑，完成一些如跳过密码验证等的非法操作。</p>
</li>
<li>
<p>SQL语句使用了动态拼接的方式</p>
<ul>
<li>–注释，把后面的代码注释掉</li>
</ul>
</li>
</ul>
<h3 id="【2】问题–》例子">【2】问题–》例子</h3>
<ul>
<li>不用正确的密码就可以登入成功</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>,</span><br><span class="line">    charset=<span class="string">&#x27;utf8mb4&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_pass</span>():</span><br><span class="line">    username = <span class="built_in">input</span>(<span class="string">&#x27;输入用户名:-----&#x27;</span>)</span><br><span class="line">    password = <span class="built_in">input</span>(<span class="string">&#x27;输入密码:------&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> username, password</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    username, password = user_pass()</span><br><span class="line">    <span class="comment"># 比如我的用户名 ： 输入用户名:-----tom&quot;-- &quot;</span></span><br><span class="line">                        <span class="comment"># 密码 ：输入密码:------4</span></span><br><span class="line">    <span class="comment">#密码随便输都可以登入成功，因为tom后面的（--空格） （空格的原因是，有空格才算注释）把后面的代码全部都注释掉了</span></span><br><span class="line">    sql = <span class="string">&#x27;select * from bod where name = &quot;%s&quot; and id =&quot; %s&quot;&#x27;</span>%(username,password)</span><br><span class="line">    <span class="built_in">print</span>(sql)</span><br><span class="line">    <span class="comment"># select * from bod where name = &quot;tom&quot;-- &quot;&quot; and id =&quot; 4&quot;</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line"></span><br><span class="line">    result = cursor.fetchone()</span><br><span class="line">    <span class="keyword">if</span> result:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;登入成功&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;失败！&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">    <span class="comment"># &#123;&#x27;id&#x27;: 1, &#x27;age&#x27;: 18, &#x27;name&#x27;: &#x27;tom&#x27;, &#x27;salary&#x27;: 10000, &#x27;dpt_id&#x27;: 100&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>还有就是
<ul>
<li><code>'select * from bod where name = &quot;tom&quot; and 2'</code>两个值都为真的时候也会登入成功</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>,</span><br><span class="line">    charset=<span class="string">&#x27;utf8mb4&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_pass</span>():</span><br><span class="line">    username = <span class="built_in">input</span>(<span class="string">&#x27;输入用户名:-----&#x27;</span>)</span><br><span class="line">    password = <span class="built_in">input</span>(<span class="string">&#x27;输入密码:------&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> username, password</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    username, password = user_pass()</span><br><span class="line">    <span class="comment"># 比如我的用户名 ： 输入用户名:-----tom&quot;-- &quot;</span></span><br><span class="line">                        <span class="comment"># 密码 ：输入密码:------4</span></span><br><span class="line">    <span class="comment">#密码随便输都可以登入成功，因为tom后面的（--空格） （空格的原因是，有空格才算注释）把后面的代码全部都注释掉了</span></span><br><span class="line">    sql = <span class="string">&#x27;select * from bod where name = &quot;tom&quot; and 2&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(sql)</span><br><span class="line">    <span class="comment"># select * from bod where name = &quot;tom&quot;-- &quot;&quot; and id =&quot; 4&quot;</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line"></span><br><span class="line">    result = cursor.fetchone()</span><br><span class="line">    <span class="keyword">if</span> result:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;登入成功&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;失败！&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">    <span class="comment"># &#123;&#x27;id&#x27;: 1, &#x27;age&#x27;: 18, &#x27;name&#x27;: &#x27;tom&#x27;, &#x27;salary&#x27;: 10000, &#x27;dpt_id&#x27;: 100&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="【3】解决办法">【3】解决办法</h3>
<ul>
<li>使用正确的传值方式进行传参</li>
<li>%s</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> pymysql.cursors <span class="keyword">import</span> DictCursor</span><br><span class="line"></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line">    host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    database=<span class="string">&#x27;day01&#x27;</span>,</span><br><span class="line">    charset=<span class="string">&#x27;utf8mb4&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cursor = conn.cursor(DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_pass</span>():</span><br><span class="line">    username = <span class="built_in">input</span>(<span class="string">&#x27;输入用户名:-----&#x27;</span>)</span><br><span class="line">    password = <span class="built_in">input</span>(<span class="string">&#x27;输入密码:------&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> username, password</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    username, password = user_pass()</span><br><span class="line">    sql = <span class="string">&#x27;select * from bod where name = %(name)s and id=%(id)s&#x27;</span></span><br><span class="line">    cursor.execute(sql, &#123;<span class="string">&quot;name&quot;</span>: username, <span class="string">&quot;id&quot;</span>: password&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#获得一行数据</span></span><br><span class="line">    result = cursor.fetchone()</span><br><span class="line">    <span class="keyword">if</span> result:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;登入成功&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;失败！&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">    <span class="comment"># &#123;&#x27;id&#x27;: 1, &#x27;age&#x27;: 18, &#x27;name&#x27;: &#x27;tom&#x27;, &#x27;salary&#x27;: 10000, &#x27;dpt_id&#x27;: 100&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="【五】主动提交事务和自动提交事务">【五】主动提交事务和自动提交事务</h2>
<h3 id="【1】主动提交事务">【1】主动提交事务</h3>
<ul>
<li>就是在增删改查完以后在后面够一句代码</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<ul>
<li>案例</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除数据</span></span><br><span class="line">sql = <span class="string">&quot;delete from user where id =1;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#执行SQL语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"></span><br><span class="line"><span class="comment">#提交事务</span></span><br><span class="line">conn.commit()</span><br></pre></td></tr></table></figure>
<h3 id="【2】自动提交事务">【2】自动提交事务</h3>
<ul>
<li>就是把数据进行了增删改查以后</li>
<li>自动提交事务，不用在手动提交</li>
<li>方法
<ul>
<li>在连接数据库，创建连接对象的时候定义一个autocommit=True</li>
<li>默认是False</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">        <span class="comment"># 指定 IP 和 PORT</span></span><br><span class="line">        host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">        port=<span class="number">3306</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 指定用户名和密码</span></span><br><span class="line">        user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        password=<span class="string">&#x27;1234567&#x27;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 指定默认编码</span></span><br><span class="line">        charset=<span class="string">&#x27;utf8mb4&#x27;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 指定数据库</span></span><br><span class="line">        database=<span class="string">&#x27;day01&#x27;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 自动提交事务</span></span><br><span class="line">        autocommit=<span class="literal">True</span></span><br><span class="line">    )</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/8.3JavaScript%E4%B9%8B%E6%95%B0%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/8.3JavaScript%E4%B9%8B%E6%95%B0%E7%BB%84/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>JavaScript之数组</h1>
<h2 id="【一】什么是数组">【一】什么是数组</h2>
<ul>
<li>数组是一组有序的数据集合，但它不是python中的集合，但它类似于python中的列表</li>
<li>数组内部可以存放多个数据，可以存放任意类型，数据的长度可以动态调整</li>
</ul>
<h2 id="【二】创建数组">【二】创建数组</h2>
<p>存放多个数据时用，隔开</p>
<ul>
<li>通过字面量的方式创建数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br></pre></td></tr></table></figure>
<ul>
<li>通过数组对象去创建–&gt;new Array()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br></pre></td></tr></table></figure>
<h2 id="【三】数组获取元素">【三】数组获取元素</h2>
<ul>
<li>索引获取元素，索引从0开始</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numList=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">numList[<span class="number">0</span>];</span><br><span class="line"><span class="number">1</span></span><br><span class="line">numList[<span class="number">4</span>];</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h2 id="【四】数组的长度">【四】数组的长度</h2>
<ul>
<li>length计算长度</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numList=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">numList.<span class="property">length</span>;</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h2 id="【五】数组的常用方法">【五】数组的常用方法</h2>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>功能描述</th>
<th>返回值类型</th>
<th>是否改变原数组</th>
</tr>
</thead>
<tbody>
<tr>
<td>forEach/for…of</td>
<td>遍历数组（forEach处理每个元素，for…of可读取元素并自动解包）</td>
<td>无</td>
<td>不会</td>
</tr>
<tr>
<td>concat</td>
<td>合并数组</td>
<td>新数组</td>
<td>不会</td>
</tr>
<tr>
<td>join</td>
<td>将数组转化为字符串</td>
<td>字符串</td>
<td>不会</td>
</tr>
<tr>
<td>pop</td>
<td>删除数组最后一个元素</td>
<td>删除的数据（即数组最后一个元素）</td>
<td>会</td>
</tr>
<tr>
<td>shift</td>
<td>删除数组第一个元素</td>
<td>删除的数据（即数组第一个元素）</td>
<td>会</td>
</tr>
<tr>
<td>unshift</td>
<td>在数组开头插入元素</td>
<td>新数组长度</td>
<td>会</td>
</tr>
<tr>
<td>push</td>
<td>在数组末尾添加元素</td>
<td>新数组长度</td>
<td>会</td>
</tr>
<tr>
<td>reverse</td>
<td>翻转数组顺序</td>
<td>翻转后的数组</td>
<td>会</td>
</tr>
<tr>
<td>sort</td>
<td>对数组元素排序</td>
<td>排序后的数组</td>
<td>会</td>
</tr>
<tr>
<td>slice</td>
<td>截取数组部分元素</td>
<td>新数组</td>
<td>不会</td>
</tr>
<tr>
<td>splice</td>
<td>插入、删除或替换数组元素</td>
<td>被删除或替换的元素</td>
<td>会</td>
</tr>
<tr>
<td>toString</td>
<td>数组转为字符串</td>
<td>字符串</td>
<td>不会</td>
</tr>
<tr>
<td>valueOf</td>
<td>获取数组原始值</td>
<td>原始值</td>
<td>不会</td>
</tr>
<tr>
<td>indexOf</td>
<td>查找指定元素在数组中的位置</td>
<td>元素索引（若不存在则返回 -1）</td>
<td>不会</td>
</tr>
<tr>
<td>lastIndexOf</td>
<td>查找指定元素在数组中最后一次出现的位置</td>
<td>元素索引</td>
<td>不会</td>
</tr>
<tr>
<td>map</td>
<td>应用函数映射数组元素</td>
<td>新数组</td>
<td>不会</td>
</tr>
<tr>
<td>filter</td>
<td>根据条件筛选数组元素</td>
<td>新数组</td>
<td>不会</td>
</tr>
<tr>
<td>every</td>
<td>判断数组所有元素是否都满足条件</td>
<td>布尔值</td>
<td>不会</td>
</tr>
<tr>
<td>some</td>
<td>判断数组是否有元素满足条件</td>
<td>布尔值</td>
<td>不会</td>
</tr>
<tr>
<td>reduce</td>
<td>按规则累积数组元素生成单个返回值</td>
<td>单一返回值</td>
<td>可以，但通常不会直接改变原数组</td>
</tr>
<tr>
<td>rightReduce</td>
<td>类似于reduce，但从数组末尾开始累积</td>
<td>单一返回值</td>
<td>可以，但通常不会直接改变原数组</td>
</tr>
</tbody>
</table>
<h3 id="【1】方法使用">【1】方法使用</h3>
<h4 id="（1）forEach方法">（1）forEach方法</h4>
<p>遍历数组，遍历每个元素</p>
<ul>
<li>value：数组里的每个元素</li>
<li>index：数组中每个元素的索引</li>
<li>两种方式
<ul>
<li>=&gt;：叫箭头函数</li>
<li>function(){}，普通函数</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一：=&gt;</span></span><br><span class="line"><span class="keyword">var</span> numList=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">numList.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`value:<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="attr">value</span>:<span class="number">1</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">0</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">2</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">1</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">3</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">2</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">4</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">3</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">5</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法二：function</span></span><br><span class="line"><span class="keyword">var</span> numList=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">numList.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value,index</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`value:<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="attr">value</span>:<span class="number">1</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">0</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">2</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">1</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">3</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">2</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">4</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">3</span></span><br><span class="line"><span class="attr">value</span>:<span class="number">5</span></span><br><span class="line"><span class="attr">index</span>:<span class="number">4</span></span><br></pre></td></tr></table></figure>
<ul>
<li>向数组中添加元素–》push添加到结尾</li>
<li>向数组中添加元素–》unshift添加到开头</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numList=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> numListOne=[];</span><br><span class="line"><span class="keyword">var</span> numListTwo=[];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">numList.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,index</span>)=&gt;</span>&#123;</span><br><span class="line">    numListOne.<span class="title function_">push</span>(<span class="string">`<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">    numListTwo.<span class="title function_">push</span>(<span class="string">`<span class="subst">$&#123;index&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">numListOne</span><br><span class="line">[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>]</span><br><span class="line">numListTwo</span><br><span class="line">[<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">numList.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value,index</span>)=&gt;</span>&#123;</span><br><span class="line">    numListOne.<span class="title function_">unshift</span>(<span class="string">`<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">    numListTwo.<span class="title function_">unshift</span>(<span class="string">`<span class="subst">$&#123;index&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">numListTwo</span><br><span class="line">[<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>]</span><br><span class="line">numListOne</span><br><span class="line">[<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;1&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h4 id="（2）for…of方法">（2）for…of方法</h4>
<ul>
<li>读取元素并自动解包</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numList=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> item <span class="keyword">of</span> numList)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h4 id="3-concat方法">(3)concat方法</h4>
<ul>
<li>
<p>也可以用作拼接</p>
</li>
<li>
<p>合并数组</p>
</li>
<li>
<p>合并数组后原数组不变</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numOne=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> numTwo=[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"><span class="keyword">var</span> numTherr=numOne.<span class="title function_">concat</span>(numTwo);</span><br><span class="line"></span><br><span class="line">numTherr;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure>
<h4 id="4-join方法">(4)join方法</h4>
<ul>
<li>将数组转为字符串,按照指定的字符拼接</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numOne=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接数组，返回字符串</span></span><br><span class="line"><span class="keyword">var</span> str=numOne.<span class="title function_">join</span>(<span class="string">&quot;￥&quot;</span>);</span><br><span class="line">str</span><br><span class="line"><span class="string">&#x27;1￥2￥3￥4￥5&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="（5）pop方法和shift方法">（5）pop方法和shift方法</h4>
<ul>
<li>pop默认删除数组的最后一个元素,删除元素原数组改变</li>
<li>shift默认删除数组的第一个元素,删除元素原数组改变</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numOne=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除元素原数组改变</span></span><br><span class="line">numOne.<span class="title function_">pop</span>();</span><br><span class="line"><span class="number">5</span></span><br><span class="line">numOne;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除元素原数组改变</span></span><br><span class="line">numOne.<span class="title function_">shift</span>();</span><br><span class="line"><span class="number">1</span></span><br><span class="line">numOne;</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<h4 id="（6）unshift方法">（6）unshift方法</h4>
<ul>
<li>插入数据，数据插入到数组的开头
<ul>
<li>只能添加到数组</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">unshift</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line"><span class="number">4</span> <span class="comment">// 返回的是数组的长度</span></span><br><span class="line">arr</span><br><span class="line">[<span class="string">&#x27;3&#x27;</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<h4 id="（7）push方法">（7）push方法</h4>
<ul>
<li>插入数据，数据插入到数组的结尾
<ul>
<li>只能添加到数组</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="string">&quot;5&quot;</span>);</span><br><span class="line"><span class="number">4</span> <span class="comment">// 返回的是数组的长度</span></span><br><span class="line">arr</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&#x27;5&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h4 id="（8）reverse方法">（8）reverse方法</h4>
<ul>
<li>反转数组顺序</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">reverse</span>();</span><br><span class="line">[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<h4 id="9-sort方法">(9)sort方法</h4>
<ul>
<li>对数组元素进行排序</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">8.9</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">4</span>];</span><br><span class="line">num.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a - b)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">[</span><br><span class="line">  <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>,   <span class="number">5</span>,</span><br><span class="line">  <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8.9</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=[<span class="number">5</span>,<span class="number">6</span>,<span class="number">8.9</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">num.<span class="title function_">sort</span>();</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8.9</span>]</span><br></pre></td></tr></table></figure>
<h4 id="10-slice方法">(10)slice方法</h4>
<ul>
<li>截取数组部分元素
<ul>
<li>截取的是：顾头不顾尾，取的是索引值</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">slice</span>(<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">[<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h4 id="11-splice方法">(11)splice方法</h4>
<ul>
<li>删除、插入、替换数组元素</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">1</span>);<span class="comment">// 保留第一个元素，其它全部删除</span></span><br><span class="line">[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">arr;</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除数据</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">2</span>); <span class="comment">// 前面代表索引1，后面2代表删除两个，返回值是删除的元素</span></span><br><span class="line">[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">arr</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//替换，插入数据</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;x&quot;</span>); <span class="comment">// 删除第一和第二个元素，并在原来的地方插入数据</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;x&quot;</span>);</span><br><span class="line">[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">arr</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h4 id="（12）toString方法">（12）toString方法</h4>
<p>S必须大写</p>
<ul>
<li>数组转换为字符串</li>
<li>和join不同的是join需要按照指定的字符串拼接</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> arrOne = arr.<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line">arrOne;</span><br><span class="line"><span class="string">&quot;a,b,c,d&quot;</span></span><br><span class="line">arr;</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h4 id="13-valueOf方法">(13)valueOf方法</h4>
<ul>
<li>获取数组原始值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> val = arr.<span class="title function_">valueOf</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(val);</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<h4 id="14-indexOf方法">(14)indexOf方法</h4>
<ul>
<li>查看指定元素在数组中的我位置,返回的是索引值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">indexOf</span>(<span class="string">&quot;b&quot;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="（15）lastIndexOf方法">（15）lastIndexOf方法</h4>
<ul>
<li>查找元素在数组中的最后一次出现的位置，返回的是索引位置</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">lastInedxOf</span>(<span class="string">&quot;b&quot;</span>);</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<h4 id="（16）map方法">（16）map方法</h4>
<ul>
<li>映射数组元素
<ul>
<li>num,相当于映射出来的每一个元素</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">map</span>(<span class="function"><span class="params">num</span>=&gt;</span>num*num);</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>]</span><br></pre></td></tr></table></figure>
<h4 id="17-filter方法">(17)filter方法</h4>
<ul>
<li>根据条件筛选数组条件
<ul>
<li>只保留为true的条件</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">filter</span>(<span class="function"><span class="params">num</span>=&gt;</span>num%<span class="number">2</span>===<span class="number">0</span>));</span><br><span class="line">[ <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span> ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// function函数</span></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">value,index</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> value%<span class="number">2</span>===<span class="number">0</span></span><br><span class="line">&#125;));</span><br><span class="line">[ <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span> ]</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">filter</span>(<span class="function"><span class="params">num</span>=&gt;</span>num%<span class="number">2</span>===<span class="number">1</span>);</span><br><span class="line">[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<h4 id="18-every方法">(18)every方法</h4>
<ul>
<li>判断数组里的所有元素是否满足条件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">0</span>,<span class="number">2</span>,<span class="literal">true</span>,<span class="literal">false</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">every</span>(<span class="function"><span class="params">val</span>=&gt;</span>val);</span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">4</span>,<span class="number">2</span>,<span class="literal">true</span>,<span class="number">3</span>];</span><br><span class="line">arr.<span class="title function_">every</span>(<span class="function"><span class="params">val</span>=&gt;</span>val);</span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="19-some方法">(19)some方法</h4>
<ul>
<li>判断数组是否有元素满足条件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">0</span>,<span class="number">2</span>,<span class="literal">false</span>,<span class="literal">true</span>];</span><br><span class="line">arr.<span class="title function_">some</span>(<span class="function"><span class="params">val</span>=&gt;</span>val);</span><br><span class="line"><span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">0</span>,<span class="string">&quot;&quot;</span>,<span class="literal">false</span>,<span class="title class_">NaN</span>]</span><br><span class="line">arr.<span class="title function_">some</span>(<span class="function"><span class="params">val</span>=&gt;</span>val);</span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h4 id="20-reduce方法">(20)reduce方法</h4>
<ul>
<li>累积数组元素生成单个返回值
<ul>
<li>total：累加器的当前值</li>
<li>num：正在处理的数组元素</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];  </span><br><span class="line"><span class="keyword">const</span> sum = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, num</span>) =&gt;</span> total + num, <span class="number">0</span>); <span class="comment">// 这个0代表初始值是0，要不设置这个的话初始值就会是1 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 输出：15(等于sum)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>三个参数的时候
<ul>
<li>注意：没有给 <code>reduce</code> 方法提供初始值，所以累加器的初始值将是数组的第一个元素（<code>6</code>），而索引将从 <code>1</code> 开始。这就是为什么在第一次迭代时 <code>total</code> 已经是 <code>6</code> 的原因。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">6</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="comment">// 如果你想要 total 从 0 开始，你应该为 reduce 方法提供一个初始值</span></span><br><span class="line"><span class="keyword">var</span> arrOne=arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total,value,index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是total---<span class="subst">$&#123;total&#125;</span>`</span>) <span class="comment">// 索引为零直接赋值</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;value&#125;</span>`</span>) <span class="comment">// 索引对应的值</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;index&#125;</span>`</span>) <span class="comment">// 索引值</span></span><br><span class="line">    <span class="keyword">return</span> total + value; <span class="comment">// 需要返回累加后的值</span></span><br><span class="line">&#125;,<span class="number">0</span>) <span class="comment">// 这个0代表初始值是0，要不设置这个的话，total初始值就会是索引为0的值</span></span><br><span class="line"><span class="comment">// total 将会从 0 开始，并且每次迭代都会加上当前元素的值。最后，arrOne 将会是数组 [6, 2, 3, 4, 5, 6] 中所有元素的总和。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrOne);</span><br><span class="line"><span class="comment">// 这是total---0</span></span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 这是total---6</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 这是total---8</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 这是total---11</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 这是total---15</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 这是total---20</span></span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 26</span></span><br></pre></td></tr></table></figure>
<h4 id="（21）reduceRight方法">（21）reduceRight方法</h4>
<ul>
<li>和reduce方法很像</li>
<li>但是rightReduce方法是从后向前累加
<ul>
<li>total：累加器的当前值</li>
<li>num：正在处理的数组元素</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> reversedSum = arr.<span class="title function_">reduceRight</span>(<span class="function">(<span class="params">total, num</span>) =&gt;</span> total + num, <span class="number">0</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reversedSum);<span class="comment">// 15 (等于sum，因为是从后向前累加)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>三个元素的时候
<ul>
<li>注意：没有给 <code>reduce</code> 方法提供初始值，所以累加器的初始值将是数组的最后一个元素（<code>6</code>），而索引将从 <code>4</code> 开始。这就是为什么在第一次迭代时 <code>total</code> 已经是 <code>6</code> 的原因。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="comment">// 如果你想要 total 从 0 开始，你应该为 reduce 方法提供一个初始值</span></span><br><span class="line"><span class="keyword">var</span> arrOne=arr.<span class="title function_">reduceRight</span>(<span class="function">(<span class="params">total,item,index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是total---<span class="subst">$&#123;total&#125;</span>`</span>) <span class="comment">// 索引为零直接赋值</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;item&#125;</span>`</span>) <span class="comment">// 索引对应的值</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;index&#125;</span>`</span>) <span class="comment">// 索引值</span></span><br><span class="line">    <span class="keyword">return</span> total + item; <span class="comment">// 需要返回累加后的值</span></span><br><span class="line">&#125;,<span class="number">0</span>) <span class="comment">// 这个0代表初始值是0，要不设置这个的话，total初始值就会是索引为0的值</span></span><br><span class="line"><span class="comment">// total 将会从 0 开始，并且每次迭代都会加上当前元素的值。最后，arrOne 将会是数组 [6, 2, 3, 4, 5, 6] 中所有元素的总和。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrOne);</span><br><span class="line"><span class="comment">// 这是total---0</span></span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 这是total---6</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 这是total---11</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 这是total---15</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 这是total---18</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 这是total---20</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 25</span></span><br></pre></td></tr></table></figure>
<h4 id="（22）统计数组的长度">（22）统计数组的长度</h4>
<ul>
<li>用方法length</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="property">length</span>;</span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure>
<h2 id="【六】forEach方法">【六】forEach方法</h2>
<h3 id="【1】一个参数的时候">【1】一个参数的时候</h3>
<ul>
<li>一个参数的时候<code>value</code>代表的是数组中的每一个元素</li>
<li>function(){}:普通函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure>
<h3 id="【2】两个参数的时候">【2】两个参数的时候</h3>
<ul>
<li>value：代表数组中的每个值</li>
<li>index：代表数组中每个值的索引值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value,index</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是value---<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是index---<span class="subst">$&#123;index&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 这是value---1</span></span><br><span class="line"><span class="comment">// 这是index---0</span></span><br><span class="line"><span class="comment">// 这是value---2</span></span><br><span class="line"><span class="comment">// 这是index---1</span></span><br><span class="line"><span class="comment">// 这是value---3</span></span><br><span class="line"><span class="comment">// 这是index---2</span></span><br><span class="line"><span class="comment">// 这是value---4</span></span><br><span class="line"><span class="comment">// 这是index---3</span></span><br><span class="line"><span class="comment">// 这是value---5</span></span><br><span class="line"><span class="comment">// 这是index---4</span></span><br><span class="line"><span class="comment">// 这是value---6</span></span><br><span class="line"><span class="comment">// 这是index---5</span></span><br></pre></td></tr></table></figure>
<h3 id="【3】三个参数的时候">【3】三个参数的时候</h3>
<ul>
<li>value：代表数组中的每个值</li>
<li>index：代表数组中每个值的索引值</li>
<li>attr：整个原始的数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value,index,attr</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是value---<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是index---<span class="subst">$&#123;index&#125;</span>`</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是attr---<span class="subst">$&#123;attr&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 这是value---1</span></span><br><span class="line"><span class="comment">// 这是index---0</span></span><br><span class="line"><span class="comment">// 这是attr---1,2,3,4,5,6</span></span><br><span class="line"><span class="comment">// 这是value---2</span></span><br><span class="line"><span class="comment">// 这是index---1</span></span><br><span class="line"><span class="comment">// 这是attr---1,2,3,4,5,6</span></span><br><span class="line"><span class="comment">// 这是value---3</span></span><br><span class="line"><span class="comment">// 这是index---2</span></span><br><span class="line"><span class="comment">// 这是attr---1,2,3,4,5,6</span></span><br><span class="line"><span class="comment">// 这是value---4</span></span><br><span class="line"><span class="comment">// 这是index---3</span></span><br><span class="line"><span class="comment">// 这是attr---1,2,3,4,5,6</span></span><br><span class="line"><span class="comment">// 这是value---5</span></span><br><span class="line"><span class="comment">// 这是index---4</span></span><br><span class="line"><span class="comment">// 这是attr---1,2,3,4,5,6</span></span><br><span class="line"><span class="comment">// 这是value---6</span></span><br><span class="line"><span class="comment">// 这是index---5</span></span><br><span class="line"><span class="comment">// 这是attr---1,2,3,4,5,6</span></span><br></pre></td></tr></table></figure>
<h2 id="【七】splice">【七】splice</h2>
<h3 id="【1】两个参数的时候">【1】两个参数的时候</h3>
<ul>
<li>splice：第一个是参数是，索引起始位置，第二个参数是删除的个数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">3</span>));</span><br><span class="line">[ <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">[ <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span> ]</span><br></pre></td></tr></table></figure>
<h3 id="【2】三个参数的时候">【2】三个参数的时候</h3>
<ul>
<li>splice：
<ul>
<li>第一个是参数是，索引起始位置</li>
<li>第二个参数是删除的元素个数</li>
<li>第三个参数是插入数据，插入都你删除元素的位置,可以插入多个</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>));</span><br><span class="line">[ <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">[ <span class="number">1</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">6</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="【八】map">【八】map</h2>
<ul>
<li>类似于forEach方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrOne= arr.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">value,index</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span><br><span class="line">    <span class="keyword">return</span> value <span class="comment">// 可以返回一些基于value的新值</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrOne)</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// [ 1, 2, 3, 4, 5, 6 ]</span></span><br></pre></td></tr></table></figure>
<h2 id="【补充】">【补充】</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">【补】Python中常用方法</span><br><span class="line">【<span class="number">1</span>】添加元素的方式</span><br><span class="line">append </span><br><span class="line">尾部追加</span><br><span class="line">extend </span><br><span class="line">扩展列表</span><br><span class="line">----（</span><br><span class="line"><span class="comment"># 原始列表  </span></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 要扩展的列表  </span></span><br><span class="line">list2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 使用extend方法扩展list1  </span></span><br><span class="line">list1.extend(list2)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 打印扩展后的list1  </span></span><br><span class="line"><span class="built_in">print</span>(list1)  <span class="comment"># 输出：[1, 2, 3, 4, 5, 6]</span></span><br><span class="line">）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">内部是 <span class="keyword">for</span>循环 + append</span><br><span class="line">======（<span class="comment"># 原始列表  </span></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 要扩展的列表  </span></span><br><span class="line">list2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 使用for循环和append方法扩展list1  </span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> list2:  </span><br><span class="line">    list1.append(item)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 打印扩展后的list1  </span></span><br><span class="line"><span class="built_in">print</span>(list1)  <span class="comment"># 输出：[1, 2, 3, 4, 5, 6]</span></span><br><span class="line">）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">insert </span><br><span class="line">指定位置插入元素</span><br><span class="line">【<span class="number">2</span>】删除元素的方式</span><br><span class="line">pop </span><br><span class="line">弹出元素（默认是最后一个元素）</span><br><span class="line"></span><br><span class="line">remove </span><br><span class="line">移除元素</span><br><span class="line">---------（<span class="comment"># 创建一个列表  </span></span><br><span class="line">my_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 使用remove()方法移除元素4（注意：只会移除第一个匹配的元素）  </span></span><br><span class="line">my_list.remove(<span class="number">4</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 打印修改后的列表  </span></span><br><span class="line"><span class="built_in">print</span>(my_list)  <span class="comment"># 输出：[1, 2, 3, 5, 4, 6]）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> </span><br><span class="line">删除元素通用方法</span><br><span class="line">【<span class="number">3</span>】常用的方法</span><br><span class="line"><span class="built_in">map</span> </span><br><span class="line">映射函数</span><br><span class="line"><span class="built_in">zip</span> </span><br><span class="line">拉链方法</span><br><span class="line">将两个列表中的元素两两拼接成元祖返回</span><br><span class="line"><span class="built_in">filter</span> </span><br><span class="line">过滤函数</span><br><span class="line">符合条件为真的元素被留下</span><br><span class="line">reduce </span><br><span class="line">多个进一个出</span><br></pre></td></tr></table></figure>
<h1></h1>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/8.4JavaScript%E4%B9%8B%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/8.4JavaScript%E4%B9%8B%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>JavaScript之函数</h1>
<h2 id="【一】函数">【一】函数</h2>
<ul>
<li>function函数，也叫做功能</li>
<li>函数将一段代码封装，可以重复利用，减少了代码量</li>
<li>在js中定义函数用function</li>
<li>python中定义函数用def</li>
</ul>
<h2 id="【二】声明函数">【二】声明函数</h2>
<h3 id="【1】语法">【1】语法</h3>
<ul>
<li>函数必须先声明，然后才能调用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 函数名(参数)&#123;代码体&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>可以放多个参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 函数名(参数<span class="number">1</span>，参数<span class="number">2.</span>..)&#123;代码体&#125;</span><br></pre></td></tr></table></figure>
<h2 id="【三】js函数的调用">【三】js函数的调用</h2>
<h3 id="【1】调用方法">【1】调用方法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数名（参数...）</span><br></pre></td></tr></table></figure>
<ul>
<li>函数调用时会立刻执行代码体里面的代码</li>
<li>可以多次调用，每个函数都是隔离的</li>
<li>执行函数跟定义的位置无关，只与调用的位置有关</li>
</ul>
<h3 id="【2】案例—》两个调用方式的解释">【2】案例—》两个调用方式的解释</h3>
<ul>
<li>函数<code>one</code>被声明并提升到作用域顶部（但实际上是在解析阶段，不是真正的运行时“执行”）。</li>
<li>调用<code>one(&quot;dream&quot;)</code>。此时，函数<code>one</code>已经存在，因此可以成功调用并打印出<code>&quot;dream&quot;</code>。</li>
<li>接下来，函数定义代码被执行（但在逻辑上这实际上在第一步就已经完成了）。</li>
<li>调用<code>one(&quot;tom&quot;)</code>。同样，函数<code>one</code>已经存在，因此可以成功调用并打印出<code>&quot;tom&quot;</code>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 调用成功</span></span><br><span class="line"><span class="title function_">one</span>(<span class="string">&quot;dream&quot;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">one</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">one</span>(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line"><span class="comment">// dream</span></span><br><span class="line"><span class="comment">// tom</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>one</code>是一个变量，它被赋予了一个函数作为值。由于变量提升，<code>var one</code>会被提升到作用域顶部，但它的初始值是<code>undefined</code>，而不是函数。因此，在尝试调用<code>one(&quot;dream&quot;)</code>时，会抛出一个错误，因为<code>one</code>不是一个函数。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="title function_">one</span>(<span class="string">&quot;jack&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> one=<span class="keyword">function</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">one</span>(<span class="string">&quot;tom&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="【四】函数的分类">【四】函数的分类</h2>
<h3 id="【1】无参函数">【1】无参函数</h3>
<ul>
<li>没有参数的函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 函数名()&#123;代码体&#125;</span><br></pre></td></tr></table></figure>
<h3 id="【2】有参函数">【2】有参函数</h3>
<ul>
<li>有参数的删除</li>
<li>在js中有一个bug，就是不管你的参数传多传少都不会报错
<ul>
<li>穿多了只会取得对应的数据</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 函数名(参数<span class="number">1</span>，参数<span class="number">2.</span>..)</span><br></pre></td></tr></table></figure>
<h2 id="【五】函数的参数">【五】函数的参数</h2>
<h3 id="【1】接口">【1】接口</h3>
<ul>
<li>
<p>接口指的就是函数的参数</p>
</li>
<li></li>
</ul>
<h3 id="【2】参数类型">【2】参数类型</h3>
<ul>
<li>函数的书写位置不同，名称也不同</li>
</ul>
<h4 id="（1）形式参数（也称为形参）">（1）<strong>形式参数</strong>（也称为<strong>形参</strong>）</h4>
<ul>
<li>是函数定义中列出的参数。它们定义了函数期望接收哪些值，但并不会实际存储这些值</li>
</ul>
<h4 id="（2）实际参数（也称为实参）">（2）实际参数（也称为实参）</h4>
<ul>
<li>再调用函数时传入的参数</li>
</ul>
<h3 id="【3】小结">【3】小结</h3>
<ul>
<li>形参和是参数的个数可以不同</li>
<li>实际参数跟形式参数会有一个参数传递的过程，这个过程通常叫做参数传递或参数赋值</li>
</ul>
<h2 id="【六】函数的返回值与应用">【六】函数的返回值与应用</h2>
<ul>
<li>
<p>在js中函数主要用于函数的传递和处理信息</p>
</li>
<li>
<p>用return可以把想要的数据返回给调用者</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addNumbers</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">addNumbers</span>(<span class="number">6</span>,<span class="number">5</span>))</span><br><span class="line"><span class="number">11</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrNum=<span class="title function_">addNumbers</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrNum)</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<ul>
<li>当执行到return时，函数就会立刻结束剩下没执行完的代码</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">stopExecution</span>(<span class="params">one</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">1</span>&gt;<span class="number">0</span>)&#123; <span class="comment">//条件为真时不会执行log里面的信息</span></span><br><span class="line">        <span class="keyword">return</span> one;</span><br><span class="line">    &#125;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;this line will not be executed!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> one=<span class="title function_">stopExecution</span>(<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(one)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>空函数默认返回undefined
<ul>
<li>没有return值默认返回undefined</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">emptyFunction</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">emptyFunction</span>())</span><br><span class="line"><span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
<ul>
<li>函数返回值的应用
<ul>
<li>函数可以当作其他函数的参数传递</li>
</ul>
</li>
<li>empty：空的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">emptyFunction</span>(<span class="params">x, y</span>) &#123;  </span><br><span class="line">    <span class="keyword">return</span> x - y;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> num = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">8.9</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span>];  </span><br><span class="line">num.<span class="title function_">sort</span>(emptyFunction);  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num); <span class="comment">// 输出: [1, 3, 4, 5, 6, 7, 8, 8.9]</span></span><br></pre></td></tr></table></figure>
<h2 id="【七】函数的表达式">【七】函数的表达式</h2>
<h3 id="【1】概括">【1】概括</h3>
<ul>
<li>将函数的定义，匿名函数赋值给一个变量</li>
<li>可以使用变量名(),调用函数，不能使用函数名()</li>
</ul>
<h3 id="【2】案例">【2】案例</h3>
<ul>
<li>anony：匿名</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> incogFunction=<span class="keyword">function</span>(<span class="params">x</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">incogFunction</span>(<span class="number">3</span>));</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<ul>
<li>将函数赋值给变量 incogFunction后</li>
<li>通过该变量名 multiplyByTwo() 来调用这个匿名函数</li>
</ul>
<h2 id="【八】函数的数据类型">【八】函数的数据类型</h2>
<ul>
<li>函数是一种数据类型</li>
<li>可以把函数作为另一个函数的参数，也可以把函数作为返回值</li>
<li>赋值和传递</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">user</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is <span class="subst">$&#123;name&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name=user; <span class="comment">// name 变量现在引用了 user 函数</span></span><br><span class="line"><span class="title function_">name</span>(<span class="string">&quot;tom&quot;</span>) <span class="comment">// My name is tom</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将函数作为参数传递</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">username</span>(<span class="params">name,arg</span>)&#123;</span><br><span class="line">    <span class="title function_">name</span>(arg)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">username</span>(user,<span class="string">&quot;jack&quot;</span>); <span class="comment">// My name is jack</span></span><br></pre></td></tr></table></figure>
<ul>
<li>函数还可以作为其他函数的返回值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createAdder</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">x</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x + n;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> addFive = <span class="title function_">createAdder</span>(<span class="number">5</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">addFive</span>(<span class="number">3</span>)); <span class="comment">// 输出: 8</span></span><br></pre></td></tr></table></figure>
<h2 id="【九】arguments对象">【九】arguments对象</h2>
<h3 id="【1】概括-2">【1】概括</h3>
<ul>
<li>js中arguments对象是一个特殊的对象，实际上是当前函数的一个内置属性</li>
<li>arguments对象：会接收所有的实参</li>
<li>length属性：可以获取参数的个数</li>
</ul>
<h3 id="【2】案例-2">【2】案例</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">x,y,z</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y,z)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">func</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="comment">// Arguments(9) [1, 2, 3, 4, 5, 6, 7, 8, 9, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span></span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="【3】用途">【3】用途</h3>
<ul>
<li>配合length使用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func4</span>(<span class="params">a,b,c</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> &gt; <span class="number">3</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;传多了&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> &lt; <span class="number">3</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;传少了&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a,b,c)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">func4</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>);</span><br><span class="line"><span class="comment">// 传多了</span></span><br></pre></td></tr></table></figure>
<h2 id="【十】函数的递归">【十】函数的递归</h2>
<ul>
<li>函数的内部可以调用函数自己本身，这种做法称为递归</li>
<li>函数递归需要考虑好结束递归的条件，不然会出现死递归导致程序崩溃，内存溢出</li>
<li>递归一般是解决数学中的问题</li>
</ul>
<h2 id="【十一】参数和函数的作用域">【十一】参数和函数的作用域</h2>
<ul>
<li>函数的参数是局部作用域，只能在函数内部使用</li>
<li>函数本身就是一个独立的作用域</li>
</ul>
<h2 id="【十二】匿名函数">【十二】匿名函数</h2>
<h3 id="【1】介绍">【1】介绍</h3>
<ul>
<li>匿名函数又叫无名函数或lambda表达式，是没有名字的js函数定义形式</li>
</ul>
<h3 id="【2】语法">【2】语法</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>(<span class="params">参数</span>)&#123;代码体&#125;</span><br></pre></td></tr></table></figure>
<h3 id="【3】自动执行匿名函数">【3】自动执行匿名函数</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;this is anonymous function!&quot;</span>)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<h3 id="【4】将无名函数赋值给变量">【4】将无名函数赋值给变量</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Variable &#x27;a&#x27; holds an anonymous function&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">a</span>());</span><br><span class="line"><span class="title class_">Variable</span> <span class="string">&#x27;a&#x27;</span> holds an anonymous <span class="keyword">function</span></span><br></pre></td></tr></table></figure>
<h3 id="【5】立刻调用表达式">【5】立刻调用表达式</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Variable &#x27;a&#x27; holds an anonymous function&quot;</span>);</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="title class_">Variable</span> <span class="string">&#x27;a&#x27;</span> holds an anonymous <span class="keyword">function</span></span><br></pre></td></tr></table></figure>
<h2 id="【十三】箭头函数">【十三】箭头函数</h2>
<h3 id="【1】什么是箭头函数">【1】什么是箭头函数</h3>
<ul>
<li>箭头函数（Arrow Function）是JavaScript ES6引入的一种新的函数定义语法，相比于传统函数表达式，它具有更简洁和易读的特点。</li>
</ul>
<h3 id="【2】基本语法">【2】基本语法</h3>
<h4 id="（1）一个参数">（1）一个参数</h4>
<ul>
<li>箭头函数表示接受一个参数，直接返回该参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用=&gt;定义函数</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func1</span>=(<span class="params">v</span>)=&gt;v;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">var</span> func1=<span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="（2）多个参数">（2）多个参数</h4>
<ul>
<li>处理多个参数，括号()不能省略，参数之间用逗号,分隔，返回值后面同样跟=&gt;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处理两个参数</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func2</span> = (<span class="params">args1, args2</span>) =&gt; args1 + args2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">var</span> func2 = <span class="keyword">function</span>(<span class="params">args1, args2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> args1 + args2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="（3）没有参数">（3）没有参数</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 没有参数，返回 undefined</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func3</span> = (<span class="params"></span>) =&gt; &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有参数，返回一个简单的值</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">func4</span> = (<span class="params"></span>) =&gt; <span class="string">&quot;Hello World&quot;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="【3】this绑定">【3】this绑定</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 有名函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a,b,c,d,e</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_a</span>=a</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_b</span>=b</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_a</span> + <span class="variable language_">this</span>.<span class="property">_b</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>));</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<h1></h1>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/9.0selenium%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/9.0selenium%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>selenium介绍及安装</h1>
<h2 id="【一】selenium介绍">【一】selenium介绍</h2>
<h3 id="【1】web自动化">【1】web自动化</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">● 随着互联网的发展，前端技术也在不断变化，数据的加载方式也不再是单纯的服务端渲染了。 </span><br><span class="line">  ○ 现在你可以看到很多网站的数据可能都是通过接口的形式传输的，</span><br><span class="line">  ○ 或者即使不是接口那也是一些 JSON 的数据，然后经过 JavaScript 渲染得出来的。</span><br><span class="line">● 这时，如果你还用 requests 来爬取内容，那就不管用了。 </span><br><span class="line">  ○ 因为 requests 爬取下来的只能是服务器端网页的源码，这和浏览器渲染以后的页面内容是不一样的。</span><br><span class="line">  ○ 因为，真正的数据是经过 JavaScript 执行后，渲染出来的，数据来源可能是 Ajax，也可能是页面里的某些 Data，或者是一些 ifame 页面等。</span><br><span class="line">  ○ 不过，大多数情况下极有可能是 Ajax 接口获取的。</span><br><span class="line">● 所以，很多情况我们需要分析 Ajax请求，分析这些接口的调用方式，通过抓包工具或者浏览器的“开发者工具”，找到数据的请求链接，然后再用程序来模拟。 </span><br><span class="line">  ○ 但是，抓包分析流的方式，也存在一定的缺点。</span><br><span class="line">  ○ 因为有些接口带着加密参数，比如 token、sign 等等，模拟难度较大；</span><br><span class="line">● 那有没有一种简单粗暴的方法， </span><br><span class="line">  ○ 这时 Puppeteer、Pyppeteer、Selenium、Splash 等自动化框架出现了。</span><br><span class="line">  ○ 使用这些框架获取HTML源码，这样我们爬取到的源代码就是JavaScript 渲染以后的真正的网页代码，数据自然就好提取了。</span><br><span class="line">  ○ 同时，也就绕过分析 Ajax 和一些 JavaScript 逻辑的过程。</span><br><span class="line">  ○ 这种方式就做到了可见即可爬，难度也不大，同时适合大批量的采集。</span><br></pre></td></tr></table></figure>
<h3 id="【2】Selenium">【2】Selenium</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">● 作为一款知名的Web自动化测试框架，支持大部分主流浏览器，提供了功能丰富的API接口，常常被我们用作爬虫工具来使用。</span><br><span class="line">● 然而selenium的缺点也很明显</span><br><span class="line">  ○ 速度太慢</span><br><span class="line">  ○ 对版本配置要求严苛</span><br><span class="line">  ○ 最麻烦是经常要更新对应的驱动</span><br><span class="line">● selenium最初是一个自动化测试工具,</span><br><span class="line">  ○ 而爬虫中使用它主要是为了解决requests无法直接执行JavaScript代码的问题</span><br><span class="line">  ○ selenium本质是通过驱动浏览器，完全模拟浏览器的操作，</span><br><span class="line">  ○ 比如跳转、输入、点击、下拉等，来拿到网页渲染之后的结果，可支持多种浏览器</span><br></pre></td></tr></table></figure>
<h2 id="【二】安装selenium包">【二】安装selenium包</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure>
<ul>
<li>如果安装慢（默认连接官网），可以指定国内源</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium -i https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure>
<h2 id="【三】安装chrome驱动">【三】安装chrome驱动</h2>
<h3 id="【1】chrome驱动地址">【1】chrome驱动地址</h3>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://googlechromelabs.github.io/chrome-for-testing/#stable">https://googlechromelabs.github.io/chrome-for-testing/#stable</a></p>
</li>
<li>
<p>下载时要对应你的浏览器版本进行下载</p>
</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240719094946009.png" alt="image-20240719094946009"></p>
<ul>
<li>下载，找到你的浏览器，对应的版本，把地址复制下来，搜索就会自动化下载
<ul>
<li>下载好后解包，解包得到两个文件</li>
<li><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240719095247325.png" alt="image-20240719095247325"></li>
</ul>
</li>
</ul>
<h3 id="【2】使用">【2】使用</h3>
<ul>
<li>直接将chromedriver驱动放在python解释器所在的文件夹</li>
</ul>
<h3 id="【3】测试驱动">【3】测试驱动</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引入模块</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="comment"># 引入 Service</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 创建一个 service 对象</span></span><br><span class="line"><span class="comment"># Service(executable_path=&quot;驱动的地址&quot;)</span></span><br><span class="line">service = Service(executable_path=<span class="string">&quot;./chromedriver&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成浏览器对象</span></span><br><span class="line">browser = Chrome(</span><br><span class="line">    service=service</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 控制浏览器打开百度</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 睡一会</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h3 id="【4】案例">【4】案例</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 引入 selenium</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="comment"># 引入service</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个 浏览器对象</span></span><br><span class="line">browser = Chrome(service=Service(<span class="string">&#x27;./chromedriver&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打开一个网页</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找找指定标签的位置</span></span><br><span class="line">input_search = browser.find_element(By.ID, <span class="string">&quot;kw&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 向输入框内输入内容</span></span><br><span class="line">input_search.send_keys(<span class="string">&#x27;Python&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点搜索 ---&gt; 先获取到搜索按钮</span></span><br><span class="line">btn_search = browser.find_element(By.ID, <span class="string">&quot;su&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 让搜索标签回车或者点一下</span></span><br><span class="line">btn_search.click()</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 截屏</span></span><br><span class="line">browser.save_screenshot(<span class="string">&#x27;./baidu.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/ATM--SHOPPING%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/ATM--SHOPPING%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>项目开发流程</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 三层架构</span></span><br><span class="line"><span class="comment"># 【在公司中如何开发一个成品的项目】</span></span><br><span class="line"><span class="comment"># 分为五个步骤</span></span><br><span class="line"><span class="comment"># 需求分析</span></span><br><span class="line"><span class="comment"># 架构设计</span></span><br><span class="line"><span class="comment"># 分组开发</span></span><br><span class="line"><span class="comment"># 项目测试</span></span><br><span class="line"><span class="comment"># 交付上线</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【一】需求分析</span></span><br><span class="line"><span class="comment"># 【1】人员构成</span></span><br><span class="line"><span class="comment"># 架构师 + 产品经理 + 开发组长</span></span><br><span class="line"><span class="comment"># 【2】任务</span></span><br><span class="line"><span class="comment"># 产品经理 带着 架构师  + 开发组长 去跟客户进行沟通和交流</span></span><br><span class="line"><span class="comment"># 从客户哪里了解到客户的需求，我们要做什么事</span></span><br><span class="line"><span class="comment"># 开发一个商城系统 =---&gt;</span></span><br><span class="line"><span class="comment"># 【3】</span></span><br><span class="line"><span class="comment"># 在去跟客户沟通之前 ， 已经从客户那里了解到了大致的需求</span></span><br><span class="line"><span class="comment"># 架构师  + 开发组长 两个人要协商 ---&gt; 做一个初稿</span></span><br><span class="line"><span class="comment"># 去跟客户进行详细沟通的时候带着 初稿 ，尽量跟客户沟通需求的时候向我们的初稿上靠</span></span><br><span class="line"><span class="comment"># 做不出来别强求</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【二】架构设计</span></span><br><span class="line"><span class="comment"># 【1】回到公司</span></span><br><span class="line"><span class="comment"># 架构师 负责对整体的业务需求进行定制和研发</span></span><br><span class="line"><span class="comment"># 给大家一个参考，我某方面需要用到哪些工具</span></span><br><span class="line"><span class="comment"># 使用的编程语言：Python</span></span><br><span class="line"><span class="comment"># 做后端用哪个框架：django、flask、fastapi ...</span></span><br><span class="line"><span class="comment"># 数据库：MySQL。postgresql、redis。mongdb ...</span></span><br><span class="line"><span class="comment"># 前端页面：Vue、react、antdesign ....</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【2】对整体的价格进行评估</span></span><br><span class="line"><span class="comment"># 开发这个项目的周期：大致的开发周期</span></span><br><span class="line"><span class="comment"># 确定开发人数：每个人薪资要有一个大概的评估 日新 或者 月薪</span></span><br><span class="line"><span class="comment">#  1500 一个人人头 ---&gt; 大致算</span></span><br><span class="line"><span class="comment"># ----》 大致的开发成本</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【3】额外的成本</span></span><br><span class="line"><span class="comment"># 产品经理的成本 公司的成本 ....</span></span><br><span class="line"><span class="comment"># 【4】对所有成本进行总结</span></span><br><span class="line"><span class="comment"># 产品经理报给财务 ---&gt; 财务进行评估</span></span><br><span class="line"><span class="comment"># 【5】报给老板</span></span><br><span class="line"><span class="comment"># 老板看完以后 确认签字</span></span><br><span class="line"><span class="comment"># 【6】产品经理去和客户沟通</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【三】分组开发</span></span><br><span class="line"><span class="comment"># 【1】开发组长负责切分任务</span></span><br><span class="line"><span class="comment"># 从架构师哪里获取到架构设计</span></span><br><span class="line"><span class="comment"># 结合客户需求 ---&gt; 对每一个功能进行划分和切割</span></span><br><span class="line"><span class="comment"># 去分配给每一个小组的成员</span></span><br><span class="line"><span class="comment"># 每一个人根据自己的需求个任务要求进行开发</span></span><br><span class="line"><span class="comment"># 降低了复杂度，提高了效率，开发周期大大缩短</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【2】组长负责总结</span></span><br><span class="line"><span class="comment"># 将所有的分功能总结成一个主功能</span></span><br><span class="line"><span class="comment"># 负责简答的测试</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【四】测试</span></span><br><span class="line"><span class="comment"># 扔给测试部门进行测试</span></span><br><span class="line"><span class="comment"># 测试负责对代码进行测试 ---&gt; 压力测试 、 bug 测试、并发测试 ...</span></span><br><span class="line"><span class="comment"># 测试私下提醒你</span></span><br><span class="line"><span class="comment"># 测试 --&gt; 提交给组长 可能会扣钱</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【五】交付上线</span></span><br><span class="line"><span class="comment"># 【1】交付给客户，客户负责自己上线</span></span><br><span class="line"><span class="comment"># 交给你公司里面的运维或者公司里面的开发</span></span><br><span class="line"><span class="comment"># 上传道自己的服务器上</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【2】再交钱，我负责帮你维护</span></span><br><span class="line"><span class="comment"># 上线到我的服务器上，如果出现bug，我负责帮你调试和维护</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【去大公司好还是小公司好】</span></span><br><span class="line"><span class="comment"># 去华为好</span></span><br><span class="line"><span class="comment"># 大公司人多 ---&gt; 开发项目的时候我只负责我负责的部分</span></span><br><span class="line"><span class="comment"># 福利可能也多</span></span><br><span class="line"><span class="comment"># 进去的门槛高</span></span><br><span class="line"><span class="comment"># 一丁点实例进去就是牛马</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 还是去普通的小公司好</span></span><br><span class="line"><span class="comment"># 小公司人少 ---&gt; 就你一个负责开发，所有的东西都是你的</span></span><br><span class="line"><span class="comment"># 福利可能也还可以</span></span><br><span class="line"><span class="comment"># 进去的门槛相对较低</span></span><br><span class="line"><span class="comment"># 一丁点实力进去就是让他知道便宜没好货</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果想成长的更快 ---&gt; 建议小公司 ---&gt; 再去大公司就是强一点</span></span><br><span class="line"><span class="comment"># 就像躺着摆烂 ---&gt; 大公司试试 ---&gt; 就是牛马</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 落后就要挨打 ---》 进了公司以后不要天天摆烂 能多学就多学</span></span><br></pre></td></tr></table></figure>
<h1>软件开发目录规范的大概</h1>
<p>创建一个根目录：ATM_shopping</p>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="http://README.md">README.md</a>:项目说明书</p>
</li>
<li>
<p>（<strong>解释</strong>：存放项目的说明，包括但不限于，程序运行展示，存放一些对程序的解释型介绍）</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://start.py">start.py</a>:项目启动</p>
</li>
<li>
<p>（<strong>解释</strong>：ATM和购物车项目的启动入口）</p>
</li>
<li>
<p>bin：启动文件目录（存放启动文件的方式）</p>
</li>
<li>
<p>（<strong>解释</strong>：总项目的总功能整合）</p>
<ul>
<li><strong>init</strong>.py:包出口</li>
<li>（<strong>解释</strong>：作为 bin 包的出口文件）</li>
<li><a target="_blank" rel="noopener" href="http://main.py">main.py</a>:存放核心代码 （统合主逻辑）</li>
<li>（<strong>解释</strong>：作为用户视图层的整合代码入口）</li>
</ul>
</li>
<li>
<p>core：用户视图层（存放用户视图层代码文件）</p>
</li>
<li>
<p>（<strong>解释</strong>：存放用户视图层代码文件、主要负责参数的读入、输入层反馈的状态的信息的展示）</p>
<ul>
<li><strong>init</strong>.py：包出口</li>
<li>（<strong>解释</strong>：作为 core 包的出口文件）</li>
<li>user_src.py:用户功能代码</li>
<li>（<strong>解释</strong>：用户功能的视图代码<br>
负责用户数据的输入<br>
将用户数据传给接口层<br>
接口层反馈结果，将接口层返回的结果进行展示<br>
例如注册功能<br>
输入用户名和密码<br>
将用户名和密码传递给接口层<br>
接口层处理完成后反馈结果<br>
注册成功 返回 True<br>
打印登陆成功<br>
注册失败 返回 False<br>
打印登陆失败）</li>
<li><a target="_blank" rel="noopener" href="http://admin.py">admin.py</a>：管理员功能代码</li>
<li>（<strong>解释</strong>：管理员功能的视图代码<br>
负责管理员数据的输入<br>
将管理员数据传给接口层<br>
接口层反馈结果，将接口层返回的结果进行展示）</li>
<li>shop_src.py:购物车功能代码</li>
<li>（<strong>解释</strong>：购物功能的视图代码<br>
负责购物数据的输入<br>
将购物数据传给接口层<br>
接口层反馈结果，将接口层返回的结果进行展示</li>
<li>）</li>
</ul>
</li>
<li>
<p>interface：逻辑接口层</p>
</li>
<li>
<p>（<strong>解释</strong>：存放核心业务逻辑代码）</p>
<ul>
<li>
<p><strong>init</strong>.py:包出口</p>
</li>
<li>
<p>（<strong>解释</strong>：作为interface 包的出口文件）</p>
</li>
<li>
<p>user_interface.py:用户功能相关接口</p>
</li>
<li>
<p>（<strong>解释</strong>：用户功能的逻辑代码<br>
负责对视图层传入的数据进行处理、清洗或加密<br>
负责调用数据处理层进行数据的保存和读取<br>
将用户视图传入的参数进行清洗处理后向视图层反馈结果<br>
例如注册功能<br>
接收到视图层传入的用户名和密码<br>
对原始密码进行加密<br>
构建好存储到数据库的数据格式<br>
调用数据处理层的函数进行数据的写入<br>
获取到数据处理层反馈的结果<br>
写入成功<br>
返回 True 返回 写入成功<br>
写入失败<br>
返回 False 返回 写入失败<br>
将数据处理层的结果处理后反馈给视图层二次处理）</p>
</li>
<li>
<p>admin_interface.py:管理员功能相关接口</p>
</li>
<li>
<p>（<strong>解释</strong>：管理员功能的逻辑代码</p>
<p>负责对视图层传入的数据进行处理、清洗或加密</p>
<p>负责调用数据处理层进行数据的保存和读取</p>
<p>将用户视图传入的参数进行清洗处理后向视图层反馈结果）</p>
</li>
<li>
<p>bank_interface:银行核心逻辑接口</p>
</li>
<li>
<p>（<strong>解释</strong>：银行业务相关功能的逻辑代码</p>
<p>负责对视图层传入的数据进行处理、清洗或加密</p>
<p>负责调用数据处理层进行数据的保存和读取</p>
<p>将视图传入的参数进行清洗处理后向视图层反馈结果）</p>
</li>
<li>
<p>shop_interface.py:购物车功能相关接口</p>
</li>
<li>
<p>（<strong>解释</strong>：购物业务相关功能的逻辑代码</p>
<p>负责对视图层传入的数据进行处理、清洗或加密</p>
<p>负责调用数据处理层进行数据的保存和读取</p>
<p>将视图传入的参数进行清洗处理后向视图层反馈结果）</p>
</li>
</ul>
</li>
<li>
<p>db:数据处理层（存放数据与数据处理层代码）</p>
<ul>
<li><strong>init</strong>.py:包出口</li>
<li>（<strong>解释</strong>：作为 db 包的出口文件）</li>
<li>db_handler.py:数据处理层代码</li>
<li>（<strong>解释</strong>：用来处理有关数据的存储<br>
处理有关数据的读取和清理）</li>
<li>user_data:用户数据处理文件夹
<ul>
<li>user_data.json</li>
<li>（<strong>解释</strong>：存储所有用户的数据的json文件）</li>
</ul>
</li>
</ul>
</li>
<li>
<p>conf:配置文件文件夹</p>
</li>
<li>
<p>（<strong>解释</strong>：存放配置文件）</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://settings.py">settings.py</a>:配置参数代码</li>
<li>（<strong>解释</strong>：存放设置相关的代码、比如根目录、日志配置字典参数）</li>
</ul>
</li>
<li>
<p>lib:公共方法文件夹</p>
<ul>
<li><strong>init</strong>.py:包出口</li>
<li>（<strong>解释</strong>：作为 lib 包的出口文件）</li>
<li><a target="_blank" rel="noopener" href="http://common.py">common.py</a>:公共方法代码</li>
<li>（<strong>解释</strong>：放所有函数或者部分函数公用的函数代码或逻辑）</li>
</ul>
</li>
<li>
<p>log:日志文件层</p>
</li>
<li>
<p>（<strong>解释</strong>：用来存放生成的log日志文件）</p>
<ul>
<li>User:用户日志文件夹
<ul>
<li>username.log:某个用户的日志文件</li>
</ul>
</li>
<li>Admin:管理员日志文件夹
<ul>
<li>username.log:某个用户的日志文件夹</li>
</ul>
</li>
<li>Shop：购物日志
<ul>
<li>username.log:每个用户的购物日志文件夹</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5Cimage-20240505202146874.png" alt="image-20240505202146874"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/9.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E6%A8%A1%E6%9D%BF%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/9.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E6%A8%A1%E6%9D%BF%E5%B1%82/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>Django���֮ģ���</h1>
<ul>
<li>ģ����ֳ�ǰ��</li>
</ul>
<h2 id="��һ��g���﷨��ֵ��ȡֵ">��һ��ģ���﷨��ֵ��ȡֵ</h2>
<h3 id="��1��-swig￼68-���������">��1��<code>\\\&#123;&#123; \\\&#125;&#125;</code>���������</h3>
<ul>
<li>ֱ����Ⱦ��˴������ı���������</li>
</ul>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">logout</span>(<span class="params">request</span>):</span><br><span class="line">    data_dict = &#123;<span class="string">&quot;username&quot;</span>: <span class="string">&quot;jack&quot;</span>, <span class="string">&quot;password&quot;</span>: <span class="string">&quot;912&quot;</span>&#125;</span><br><span class="line">    data_float = <span class="number">1.233</span></span><br><span class="line">    data_int = <span class="number">12</span></span><br><span class="line">    data_str = <span class="string">&quot;logout&quot;</span></span><br><span class="line">    data_tuple = (<span class="string">&quot;logout&quot;</span>, <span class="string">&quot;12&quot;</span>)</span><br><span class="line">    data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="string">&quot;logout&quot;</span>]</span><br><span class="line">    data_bool = <span class="literal">False</span></span><br><span class="line">    data_set = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;û�з���ֵ&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">one</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">func1</span>(<span class="params">self</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;class,func&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">func2</span>(<span class="params">self</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;class,func2&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># �󶨸���ķ���</span></span><br><span class="line"><span class="meta">        @classmethod</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">func3</span>(<span class="params">cls</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;class,func3&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ��̬����</span></span><br><span class="line"><span class="meta">        @staticmethod</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">func4</span>():</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;class,func4&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;__str__����&quot;</span></span><br><span class="line"></span><br><span class="line">    one_obj = one()</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>�˴���������<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_dict \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# &#123;&#x27;username&#x27;: &#x27;jack&#x27;, &#x27;password&#x27;: &#x27;912&#x27;&#125; #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_dict.username \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# jack #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_dict.password \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# 912 #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_dict.items \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# dict_items([(&#x27;username&#x27;, &#x27;jack&#x27;), (&#x27;password&#x27;, &#x27;912&#x27;)]) #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_dict.values \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# dict_values([&#x27;jack&#x27;, &#x27;912&#x27;]) #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_dict.keys \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# dict_keys([&#x27;username&#x27;, &#x27;password&#x27;]) #&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_bool \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# False #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_float \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# 1.233 #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_str \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# logout #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_list \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# [1, 2, 3, 4, 5, 6, &#x27;logout&#x27;] #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_int \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# 12 #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_tuple \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# (&#x27;logout&#x27;, &#x27;12&#x27;) #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_set \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# &#123;1, 2, 3, 4, 5, 6&#125; #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>��������<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> `\\\&#123;&#123; func \\\&#125;&#125;` <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# None #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>�෽��<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one_obj \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# __str__���� #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# __str__���� #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one_obj.func1 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one_obj.func2 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func2 #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one.func1 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one.func2 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func2 #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one_obj.func3 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func3 #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one.func3 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func3 #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one_obj.func4 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func4 #&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; one.func4 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# class,func4 #&#125;</span><br></pre></td></tr></table></figure>
<p>·��</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">&#x27;logout/&#x27;</span>, logout, name=<span class="string">&quot;logout&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>�����ҳ��չʾ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">�˴���������</span><br><span class="line">&#123;&#x27;username&#x27;: &#x27;jack&#x27;, &#x27;password&#x27;: &#x27;912&#x27;&#125;</span><br><span class="line"></span><br><span class="line">jack</span><br><span class="line"></span><br><span class="line">912</span><br><span class="line"></span><br><span class="line">dict_items([(&#x27;username&#x27;, &#x27;jack&#x27;), (&#x27;password&#x27;, &#x27;912&#x27;)])</span><br><span class="line"></span><br><span class="line">dict_values([&#x27;jack&#x27;, &#x27;912&#x27;])</span><br><span class="line"></span><br><span class="line">dict_keys([&#x27;username&#x27;, &#x27;password&#x27;])</span><br><span class="line"></span><br><span class="line">False</span><br><span class="line"></span><br><span class="line">1.233</span><br><span class="line"></span><br><span class="line">logout</span><br><span class="line"></span><br><span class="line">[1, 2, 3, 4, 5, 6, &#x27;logout&#x27;]</span><br><span class="line"></span><br><span class="line">12</span><br><span class="line"></span><br><span class="line">(&#x27;logout&#x27;, &#x27;12&#x27;)</span><br><span class="line"></span><br><span class="line">&#123;1, 2, 3, 4, 5, 6&#125;</span><br><span class="line"></span><br><span class="line">��������</span><br><span class="line">None</span><br><span class="line"></span><br><span class="line">�෽��</span><br><span class="line">__str__����</span><br><span class="line"></span><br><span class="line">__str__����</span><br><span class="line"></span><br><span class="line">class,func</span><br><span class="line"></span><br><span class="line">class,func2</span><br><span class="line"></span><br><span class="line">class,func</span><br><span class="line"></span><br><span class="line">class,func2</span><br><span class="line"></span><br><span class="line">class,func3</span><br><span class="line"></span><br><span class="line">class,func3</span><br><span class="line"></span><br><span class="line">class,func4</span><br><span class="line"></span><br><span class="line">class,func4</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ע�⵱ǰ��ʹ�ú��������û�з���ֵʱ������None���з���ֵ�Ļ�����Ⱦ����ֵ</strong></li>
<li><strong>��������ǰ�˵�<code>\\\&#123;&#123; ������ \\\&#125;&#125;</code>�ڣ��������Զ�����</strong></li>
<li><strong>���ǲ�֧�ָ��������ݲ���</strong></li>
<li><strong>��İ󶨷���</strong></li>
<li><strong>ע�⣺ǰ��ȡֵʱ�����Ǹ��б��ʱ�����<code>\\\&#123;&#123;�б�.����ֵȡֵ\\\&#125;&#125;</code></strong></li>
</ul>
<h3 id="��2��-swig￼71-���߼����">��2��<code>\\\&#123;% \\\%&#125;</code>���߼����</h3>
<ul>
<li>
<p><code>\\\&#123;% \\\%&#125;</code> ��ǩ����ִ���߼���صĲ�������Щ����ͨ������ֱ�����ɿɼ������ݣ����ǿ���ģ�����Ⱦ���̡���������ģ���ǩ�����ñ�����</p>
</li>
<li>
<p>�߼���صı�ǩ�ṩ����ģ���н��������жϡ�ѭ����������������ģ��Ƭ�εȹ���</p>
</li>
<li>
<p><strong>�����ж�</strong> (<code>\\\&#123;% if \\\%&#125;`, `\\\&#123;% elif \\\%&#125;`, `\\\&#123;% else \\\%&#125;`, `\\\&#123;% endif \\\%&#125;</code>��</p>
<ul>
<li>������ģ���н��������жϣ����������Ľ����Ⱦ��ͬ�����ݡ�</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% if user.is_authenticated \\\%&#125;`  </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Welcome, `\\\&#123;&#123; user.username \\\&#125;&#125;`.<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line">`\\\&#123;% else \\\%&#125;`  </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Please log in.<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line">`\\\&#123;% endif \\\%&#125;`</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ѭ������</strong> (<code>\\\&#123;% for \\\%&#125;`, `\\\&#123;% empty \\\%&#125;`, `\\\&#123;% endfor \\\%&#125;</code>)
<ul>
<li>���ڱ����б��Ԫ�顢�ֵ�ȿɵ������󣬲���ÿ�ε�������Ⱦģ�����ݡ�</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% for item in item_list \\\%&#125;`  </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; item \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line">`\\\&#123;% empty \\\%&#125;`  </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>No items found.<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line">`\\\&#123;% endfor \\\%&#125;`</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģ�����</strong> (<code>\\\&#123;% include \\\%&#125;</code>)
<ul>
<li>������ģ���а�����һ��ģ������ݡ�</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% include &#x27;includes/header.html&#x27; \\\%&#125;`</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ģ��̳�</strong> (<code>\\\&#123;% extends \\\%&#125;</code>, <code>\\\&#123;% block \\\%&#125;`, `\\\&#123;% endblock \\\%&#125;</code>)
<ul>
<li>����һ��ģ��̳���һ��ģ������ݣ�������Ҫ�ĵط����ǻ�������ݡ�</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% extends &#x27;base.html&#x27; \\\%&#125;`  </span><br><span class="line"></span><br><span class="line">`\\\&#123;% block content \\\%&#125;`  </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is my content.<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line">`\\\&#123;% endblock \\\%&#125;`</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>ע��</strong> (<code>\\\&#123;% comment \\\%&#125;`, `\\\&#123;% endcomment \\\%&#125;</code>)
<ul>
<li>������ģ�������ע�ͣ���Щע�Ͳ�������Ⱦ���HTML����ʾ��</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% comment \\\%&#125;`  </span><br><span class="line">    This is a comment that will not be rendered.  </span><br><span class="line">`\\\&#123;% endcomment \\\%&#125;`</span><br></pre></td></tr></table></figure>
<ul>
<li><code>\\\&#123;% \\\%&#125;</code> ��ǩ�е��߼��������ڷ������˽��еģ��������ڿͻ��˵�������С�</li>
<li>��Django���������յ�һ�����󲢾���ʹ��ĳ��ģ������Ⱦ��Ӧʱ���������ģ���е� <code>\\\&#123;% \\\%&#125;</code> ��ǩ�������ݱ�ǩ�е��߼�ִ����Ӧ�Ĳ�����Ȼ����Ⱦ���HTML���͸��ͻ���</li>
</ul>
<h2 id="������������">������������</h2>
<h3 id="��1��ʲo�n�����">��1��ʲô�ǹ�����</h3>
<ul>
<li>��Django��ģ�������У�ͨ��ʹ�ù��������ı��������ʾ</li>
</ul>
<h3 id="��2���������﷨">��2���������﷨</h3>
<ul>
<li>
<p><code>\\\&#123;&#123;value|����������:Ĭ��ֵ\\\&#125;&#125;</code></p>
</li>
<li>
<p>ʹ��’|'��Ӧ�� ������</p>
</li>
</ul>
<p>����</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;&#123;name|lower\\\&#125;&#125;`</span><br><span class="line"><span class="comment"># �Ὣname������Ӧ��ֵ�����Сд</span></span><br></pre></td></tr></table></figure>
<h3 id="��3�����������﷨">��3�����������﷨</h3>
<h4 id="��1�����㳤��–-length">��1�����㳤��–(length)</h4>
<ul>
<li>Ӧ�����ַ������б�</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>���㳤�ȣ�`\\\&#123;&#123; data|length \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# ���㳤�ȣ�4 #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="string">&quot;���㳤��&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-I��ֵ–��default��">(2)Ĭ��ֵ–��default��</h4>
<ul>
<li>Ĭ��ֵ���ǵ���Ҫ�Ľ��������ʱ(��ֵ����Falseʱ)����Ĭ��ֵ</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Ĭ��ֵ��`\\\&#123;&#123; data_bool|default:&quot;Ĭ��ֵ&quot; \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# Ĭ��ֵ��Ĭ��ֵ #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_bool = <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h4 id="��3�����ڸ�ʽ–-date">��3�����ڸ�ʽ–(date)</h4>
<ul>
<li>
<p>���ڸ�ʽ��</p>
</li>
<li>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;&#123; value|date:&quot;Y-m-d H:i:s&quot;\\\&#125;&#125;`</span><br></pre></td></tr></table></figure>
</li>
<li></li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>���ڸ�ʽ����`\\\&#123;&#123; data_time|date:&quot;Y-m-d H:i:s&quot; \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# ���ڸ�ʽ����2024-06-24 18:46:32 #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_time = datetime.datetime.now()</span><br></pre></td></tr></table></figure>
<h4 id="4-��T����–��slice��">(4)��Ƭ����–��slice��</h4>
<ul>
<li>֧�ֲ�����Ƭ����ͷ����β��</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;# ��ѭ��ͷ����β #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_english|slice:&#x27;0:6:2&#x27; \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# jcd #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_english = <span class="string">&quot;jackdreamtom&quot;</span></span><br></pre></td></tr></table></figure>
<p>�����Ƭ����</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data_english = <span class="string">&quot;jackdreamtom&quot;</span></span><br><span class="line">data_english[��ʼ��������������������]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type_slice = <span class="built_in">slice</span>(��ʼ��������������������)</span><br><span class="line">data_english[type_slice]</span><br></pre></td></tr></table></figure>
<h4 id="5-��ȡժҪ–��truncatechars��">(5)��ȡժҪ–��truncatechars��</h4>
<ul>
<li><code>truncatechars</code>�������ı�̫���������ֻչʾ�����õ��ַ����ȸ��û�</li>
<li>�ַ��Ὣ…Ҳ��һ���ַ�</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;# ժҪ�㷨 #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_truncatechars|truncatechars:10 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# # Nginx�ǡ� #&#125;</span><br><span class="line">&#123;# ֻ��ʾ9���ı���Ϣ������ʡ�Ժ�ʡ�ԣ���Ϊ...Ҳ��һ���ַ� #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_truncatechars = (<span class="string">&quot;# Nginx��ʲô�� Nginx (engine x) ��һ�������ܵ�HTTP�ͷ������web������ ��ͬʱҲ�ṩ��IMAP/POP3/SMTP����Nginx���������������Ү��Ϊ����˹�������ڶ���Rambler.ruվ�㿪���ģ��������ȶ��ԡ��ḻ�Ĺ��ܼ����򵥵������ļ��͵�ϵͳ��Դ�����Ķ����� ...&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>���ʲ���.���ȥ</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;# ֻ��ʾ5���ı���Ϣ������ʡ�Ժ�ʡ�� #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_cut|truncatewords:5 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# I just need someone who �� #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_cut = <span class="string">&quot;I just need someone who will never abandon me&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="6-�Y�ָ���ַ�–��cut��">(6)�Ƴ�ָ���ַ�–��cut��</h4>
<ul>
<li><code>\\\&#123;&#123; value|cut:'�ַ�' \\\&#125;&#125;</code>���ַ���ʲô���Ƴ�ʲô</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;# ȥ������ֻ���ַ� #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_cut|cut:&#x27; &#x27; \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# Ijustneedsomeonewhowillneverabandonme #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_cut = <span class="string">&quot;I just need someone who will never abandon me&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="7-y���ַ�–��join��">(7)ƴ���ַ�–��join��</h4>
<ul>
<li><code>\\\&#123;&#123; value|join:"�ַ�" \\\&#125;&#125;</code>���ַ���ʲô�Ͱ���ʲôƴ��</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_join|join:&quot;$&quot; \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# ��$��$�� #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_join = [<span class="string">&quot;��&quot;</span>, <span class="string">&quot;��&quot;</span>, <span class="string">&quot;��&quot;</span>]</span><br></pre></td></tr></table></figure>
<h4 id="8-�ӷ�–��add��">(8)�ӷ�–��add��</h4>
<ul>
<li>����˵����ּ�����add�������ֵ</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_add|add:100 \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# 122 #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_add = <span class="number">22</span></span><br></pre></td></tr></table></figure>
<h4 id="9-ȡ��ת�壨mark-safe��safe��">(9)ȡ��ת�壨mark_safe��safe��</h4>
<ul>
<li>ת��–safe</li>
</ul>
<p>?	ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;# ȡ��ת�� #&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_safe|safe \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# ����p��ǩ #&#125; &#123;# ����p��ǩ�Ѿ���h1��ǩ #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_safe = <span class="string">&quot;&lt;h1&gt;����p��ǩ&lt;/h1&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ת��–mark_safe</li>
<li>��Ҫ����һ������<code>from django.utils.safestring import mark_safe</code></li>
<li>�ں�˴����ֱ����ǰ����Ⱦ</li>
</ul>
<p>ǰ��</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;`\\\&#123;&#123; data_mark_safe \\\&#125;&#125;`&lt;/p&gt;</span><br><span class="line">&#123;<span class="comment">#����p��ǩ#&#125;&#123;# ����p��ǩ�Ѿ������ת���h1��ǩ�� #&#125;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ���ȡ��ת����Ҫ���뷽��</span></span><br><span class="line"><span class="keyword">from</span> django.utils.safestring <span class="keyword">import</span> mark_safe</span><br><span class="line"></span><br><span class="line">data_safe = <span class="string">&quot;&lt;h1&gt;����p��ǩ&lt;/h1&gt;&quot;</span></span><br><span class="line"></span><br><span class="line">data_mark_safe = mark_safe(data_safe)</span><br></pre></td></tr></table></figure>
<h4 id="10-��һ���Զ���ʱ�䣬��������ʱ���z�˶��–��timesince��">(10)��һ���Զ���ʱ�䣬��������ʱ���ȥ�˶��–��timesince��</h4>
<ul>
<li>��timeuntil���</li>
<li>���д�����ʱ��ֻ��д�Ƚ����ʱ��Ҫ�����Ȼֻ����ʾ<code>0 minutes</code></li>
<li>����������ʱ���ȥ�˶��</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_time_since|timesince \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# 1 year, 5 months #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_time_since = datetime.date(<span class="number">2023</span>, <span class="number">1</span>, <span class="number">9</span>)</span><br></pre></td></tr></table></figure>
<h4 id="11-����Ҳ���Զ���ʱ�䣬����������ʱ�仹�ж��–��timeuntil��">(11)����Ҳ���Զ���ʱ�䣬����������ʱ�仹�ж��–��timeuntil��</h4>
<ul>
<li>��timesince���</li>
<li>���д�����ʱ��ֻ��д�Ƚ����ʱ��Ҫ�磬��Ȼֻ����ʾ<code>0 minutes</code></li>
<li>������Ǿ������ʱ�仹�ж��</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; data_time_until|timeuntil \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;# 11 months #&#125;</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_time_until = datetime.date(<span class="number">2025</span>, <span class="number">5</span>, <span class="number">24</span>)</span><br></pre></td></tr></table></figure>
<h2 id="��������k�﷨–��Tags��">��������ǩ�﷨–��Tags��</h2>
<h3 id="��1��forѭ��">��1��forѭ��</h3>
<h4 id="��1��forѭ�������o��﷨">��1��forѭ�������õ��﷨</h4>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>forloop.counter</td>
<td>��ǰѭ��������ֵ����1��ʼ��</td>
</tr>
<tr>
<td>forloop.counter0</td>
<td>��ǰѭ��������ֵ����0��ʼ��</td>
</tr>
<tr>
<td>forloop.revcounter</td>
<td>��ǰѭ���ĵ�������ֵ����1��ʼ��</td>
</tr>
<tr>
<td>forloop.revcounter0</td>
<td>��ǰѭ���ĵ�������ֵ����0��ʼ��</td>
</tr>
<tr>
<td>forloop.first</td>
<td>��ǰѭ���ǲ��ǵ�һ��ѭ��������ֵ��</td>
</tr>
<tr>
<td>forloop.last</td>
<td>��ǰѭ���ǲ������һ��ѭ��������ֵ��</td>
</tr>
<tr>
<td>forloop.parentloop</td>
<td>����ѭ�������ѭ��</td>
</tr>
</tbody>
</table>
<h4 id="��2��forѭ�����﷨ʹ��">��2��forѭ�����﷨ʹ��</h4>
<h5 id="1-��jѭ��������ֵ����1��ʼ��–forloop-counter">[1]��ǰѭ��������ֵ����1��ʼ��–forloop.counter</h5>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>forѭ�������б��forloop.counter������������������1��ʼ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    `\\\&#123;% for data in data_list \\\%&#125;`</span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;&#123; forloop.counter \\\&#125;&#125;`:`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;% empty \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>�Ѿ�������<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    `\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="comment">&lt;!-- forѭ�������б��forloop.counter������������������1��ʼ</span></span><br><span class="line"><span class="comment">1:1</span></span><br><span class="line"><span class="comment">2:2</span></span><br><span class="line"><span class="comment">3:3</span></span><br><span class="line"><span class="comment">4:4</span></span><br><span class="line"><span class="comment">5:5</span></span><br><span class="line"><span class="comment">6:6</span></span><br><span class="line"><span class="comment">7:7</span></span><br><span class="line"><span class="comment">8:8</span></span><br><span class="line"><span class="comment">9:9</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">request</span>):</span><br><span class="line">    data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;register.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h5 id="2-��jѭ��������ֵ����0��ʼ��–forloop-counter0">[2]��ǰѭ��������ֵ����0��ʼ��–forloop.counter0</h5>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>forѭ�������б��forloop.counter0�õ���������ֵ����0��ʼ����<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    `\\\&#123;% for data in data_list \\\%&#125;`</span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;&#123; forloop.counter0 \\\&#125;&#125;`:`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;% empty \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>�Ѿ�������<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    `\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--forѭ�������б��forloop.counter0�õ���������ֵ����0��ʼ����</span></span><br><span class="line"><span class="comment">0:1</span></span><br><span class="line"><span class="comment">1:2</span></span><br><span class="line"><span class="comment">2:3</span></span><br><span class="line"><span class="comment">3:4</span></span><br><span class="line"><span class="comment">4:5</span></span><br><span class="line"><span class="comment">5:6</span></span><br><span class="line"><span class="comment">6:7</span></span><br><span class="line"><span class="comment">7:8</span></span><br><span class="line"><span class="comment">8:9--&gt;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">request</span>):</span><br><span class="line">    data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;register.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h5 id="3-��jѭ���j�������ֵ����1��ʼ��–forloop-revcounter">[3]��ǰѭ���ĵ�������ֵ����1��ʼ��–forloop.revcounter</h5>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>forѭ�������б��forloop.revcounter�õ����ǵ��������ֵ����1��ʼ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    `\\\&#123;% for data in data_list \\\%&#125;`</span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;&#123; forloop.revcounter \\\&#125;&#125;`:`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;% empty \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>�Ѿ�������<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    `\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="comment">&lt;!--forѭ�������б��forloop.revcounter�õ����ǵ��������ֵ����1��ʼ</span></span><br><span class="line"><span class="comment">9:1</span></span><br><span class="line"><span class="comment">8:2</span></span><br><span class="line"><span class="comment">7:3</span></span><br><span class="line"><span class="comment">6:4</span></span><br><span class="line"><span class="comment">5:5</span></span><br><span class="line"><span class="comment">4:6</span></span><br><span class="line"><span class="comment">3:7</span></span><br><span class="line"><span class="comment">2:8</span></span><br><span class="line"><span class="comment">1:9--&gt;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">request</span>):</span><br><span class="line">    data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;register.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h5 id="4-��jѭ���j�������ֵ����0��ʼ��–forloop-revcounter0">[4]��ǰѭ���ĵ�������ֵ����0��ʼ��–forloop.revcounter0</h5>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>forѭ�������б��forloop.revcounter0�õ����ǵ��������ֵ��������0��ʼ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    `\\\&#123;% for data in data_list \\\%&#125;`</span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;&#123; forloop.revcounter0 \\\&#125;&#125;`:`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;% empty \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>�Ѿ�������<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    `\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="comment">&lt;!--forѭ�������б��forloop.revcounter0�õ����ǵ��������ֵ��������0��ʼ</span></span><br><span class="line"><span class="comment">8:1</span></span><br><span class="line"><span class="comment">7:2</span></span><br><span class="line"><span class="comment">6:3</span></span><br><span class="line"><span class="comment">5:4</span></span><br><span class="line"><span class="comment">4:5</span></span><br><span class="line"><span class="comment">3:6</span></span><br><span class="line"><span class="comment">2:7</span></span><br><span class="line"><span class="comment">1:8</span></span><br><span class="line"><span class="comment">0:9--&gt;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">request</span>):</span><br><span class="line">    data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;register.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h5 id="5-��jѭ���Dz��g�һ��ѭ��������ֵ��–forloop-first">[5]��ǰѭ���ǲ��ǵ�һ��ѭ��������ֵ��–forloop.first</h5>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>forѭ�������б��forloop.first�ж��Ǹ�ֵ�ǵ�һ��ѭ��,�õ����ǲ���ֵ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    `\\\&#123;% for data in data_list \\\%&#125;`</span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;&#123; forloop.first \\\&#125;&#125;`:`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;% empty \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>�Ѿ�������<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    `\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="comment">&lt;!--forѭ�������б��forloop.first�жϵ�ǰѭ���ǲ��ǵ�һ��ѭ��,�õ����ǲ���ֵ</span></span><br><span class="line"><span class="comment">True:1</span></span><br><span class="line"><span class="comment">False:2</span></span><br><span class="line"><span class="comment">False:3</span></span><br><span class="line"><span class="comment">False:4</span></span><br><span class="line"><span class="comment">False:5</span></span><br><span class="line"><span class="comment">False:6</span></span><br><span class="line"><span class="comment">False:7</span></span><br><span class="line"><span class="comment">False:8</span></span><br><span class="line"><span class="comment">False:9--&gt;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">request</span>):</span><br><span class="line">    data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;register.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h5 id="6-��jѭ���Dz������һ��ѭ��������ֵ��–forloop-last">[6]��ǰѭ���ǲ������һ��ѭ��������ֵ��–forloop.last</h5>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>forѭ�������б��forloop.last�ж��Ǹ�ֵ�����һ��ѭ�����õ����ǲ���ֵ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    `\\\&#123;% for data in data_list \\\%&#125;`</span><br><span class="line">    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;&#123; forloop.last \\\&#125;&#125;`:`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        `\\\&#123;% empty \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>�Ѿ�������<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    `\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="comment">&lt;!--forѭ�������б��forloop.last�жϵ�ǰ�ǲ������һ��ѭ�����õ����ǲ���ֵ</span></span><br><span class="line"><span class="comment">False:1</span></span><br><span class="line"><span class="comment">False:2</span></span><br><span class="line"><span class="comment">False:3</span></span><br><span class="line"><span class="comment">False:4</span></span><br><span class="line"><span class="comment">False:5</span></span><br><span class="line"><span class="comment">False:6</span></span><br><span class="line"><span class="comment">False:7</span></span><br><span class="line"><span class="comment">False:8</span></span><br><span class="line"><span class="comment">True:9--&gt;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">request</span>):</span><br><span class="line">    data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;register.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h5 id="7-����ѭ�������ѭ��–forloop-parentloop">[7]����ѭ�������ѭ��–forloop.parentloop</h5>
<p>…</p>
<h4 id="��3��for…empty�﷨">��3��for…empty�﷨</h4>
<ul>
<li>empty�﷨�ǵ�ǰ����������Ϊ��ʱ���Ż��ߵ��﷨</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% for data in data_false \\\%&#125;`</span><br><span class="line">	`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line">    `\\\&#123;% empty \\\%&#125;`</span><br><span class="line">     &#x27;data_falseû��ֵ&#x27;</span><br><span class="line">    &#123;# &#x27;data_falseû��ֵ&#x27; #&#125;</span><br><span class="line">`\\\&#123;% endfor \\\%&#125;`</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_false = <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="��2��if…elif…else�﷨���÷�">��2��if…elif…else�﷨���÷�</h3>
<ul>
<li>��if����data_list�������ǣ������ټ��������ߣ�ǰ�˻���Ⱦif���</li>
<li>��data_listû������ʱ������elif�������жϣ�data_list_one�����ݲ����������ߣ�ǰ�˻���Ⱦelse���</li>
<li>��data_list_oneҲû������ʱ���ͻ���������else��ǰ�˻���Ⱦelse���</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% if data_list \\\%&#125;`</span><br><span class="line">    �����б���ܳ��ȣ�`\\\&#123;&#123; data_list|length \\\&#125;&#125;`</span><br><span class="line">	`\\\&#123;% elif data_list_one\\\%&#125;`</span><br><span class="line">    ��Ƭ��`\\\&#123;&#123; data_list_one|slice:&#x27;1:6:2&#x27;\\\&#125;&#125;`</span><br><span class="line">    `\\\&#123;% else \\\%&#125;`</span><br><span class="line">    û������</span><br><span class="line">`\\\&#123;% endif \\\%&#125;`</span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">   data_list_one = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>Ҳ����ֻ��if��else</li>
<li>if���֧��and ��or��==��&gt;��&lt;��!=��&lt;=��&gt;=��in��not in��is��is not�ж�</li>
</ul>
<h3 id="��3��with���">��3��with���</h3>
<ul>
<li>�����</li>
</ul>
<h3 id="��4���o����е�for����–forloop">��4���õ����е�for����–forloop</h3>
<ul>
<li>�õ���������for��䷽���Ľ��</li>
</ul>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% for new in data_new \\\%&#125;`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>`\\\&#123;&#123; forloop \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">`\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="comment">&lt;!--&#123;&#x27;parentloop&#x27;: &#123;&#125;, &#x27;counter0&#x27;: 0, &#x27;counter&#x27;: 1, &#x27;revcounter&#x27;: 3, &#x27;revcounter0&#x27;: 2, &#x27;first&#x27;: True, &#x27;last&#x27;: False&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;&#x27;parentloop&#x27;: &#123;&#125;, &#x27;counter0&#x27;: 1, &#x27;counter&#x27;: 2, &#x27;revcounter&#x27;: 2, &#x27;revcounter0&#x27;: 1, &#x27;first&#x27;: False, &#x27;last&#x27;: False&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;&#x27;parentloop&#x27;: &#123;&#125;, &#x27;counter0&#x27;: 2, &#x27;counter&#x27;: 3, &#x27;revcounter&#x27;: 1, &#x27;revcounter0&#x27;: 0, &#x27;first&#x27;: False, &#x27;last&#x27;: True&#125;--&gt;</span></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data_new = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<h3 id="��5��forloop����-��if������">��5��forloop���� ��if������</h3>
<p>ǰ��</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% for x in data \\\%&#125;`</span><br><span class="line">	`\\\&#123;% if forloop.first \\\%&#125;`</span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>��ǰҪ�ǵ�һ��ѭ���Ļ������`\\\&#123;&#123; x \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;#        ��ǰҪ�ǵ�һ��ѭ���Ļ������jack#&#125;</span><br><span class="line">        `\\\&#123;% elif forloop.last \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>��ǰҪ�����һ��ѭ�������`\\\&#123;&#123; x \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;#      ��ǰҪ�����һ��ѭ�������dream  #&#125;</span><br><span class="line">        `\\\&#123;% else \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>����ÿһ��ֵ��`\\\&#123;&#123; x \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;#        ����ÿһ��ֵ��tom#&#125;</span><br><span class="line">&#123;#          ����ÿһ��ֵ��opp    #&#125;</span><br><span class="line">	`\\\&#123;% endif \\\%&#125;`</span><br><span class="line">`\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">��ǰҪ�ǵ�һ��ѭ���Ļ������jack</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">����ÿһ��ֵ��tom</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">����ÿһ��ֵ��opp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">��ǰҪ�����һ��ѭ�������dream</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>���</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="string">&quot;jack&quot;</span>, <span class="string">&quot;tom&quot;</span>, <span class="string">&quot;opp&quot;</span>, <span class="string">&quot;dream&quot;</span>]</span><br></pre></td></tr></table></figure>
<h2 id="���g��Զ����������k-inclusion-tag-������k">���ġ��Զ����������ǩ/inclusion_tag(������ǩ)</h2>
<h3 id="��1��������">��1��������</h3>
<ul>
<li>��Django��APP�´�����һ�����ֱ���Ϊtemplatetags�ļ���</li>
<li>�ڸ��ļ����´���һ������������py�ļ���</li>
<li>�ڸ��ļ����±���д����Ĵ���</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> template</span><br><span class="line"></span><br><span class="line">register = template.Library()</span><br></pre></td></tr></table></figure>
<h3 id="��2���Զ��������">��2���Զ��������</h3>
<ul>
<li>���������ֻ������������</li>
</ul>
<h4 id="��1��ʹ�u�����">��1��ʹ�ù�����</h4>
<ul>
<li>��APP�´���һ��templatetags�ļ��У������涨��һ��py�ļ����������</li>
</ul>
<p>templatetags/one.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> template</span><br><span class="line"></span><br><span class="line"><span class="comment"># template��ģ����ģ�����</span></span><br><span class="line"><span class="comment"># Library��ͼ���</span></span><br><span class="line"><span class="comment"># template.Library()��ģ����ͼ���</span></span><br><span class="line">register = template.Library()</span><br><span class="line"><span class="comment"># register�õ�һ������</span></span><br><span class="line"><span class="built_in">print</span>(register)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;django.template.library.Library object at 0x0000012B4320AD40&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># дһ���󶨷�����������������Լ���ǰ���Լ������html�ļ�</span></span><br><span class="line"><span class="meta">@register.inclusion_tag(<span class="params"><span class="string">&quot;login.html&quot;</span></span>)</span></span><br><span class="line"><span class="comment"># one����������Ҳ���Դ�ֵ�����ֻ�ܴ�����</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">one</span>():</span><br><span class="line">    data = <span class="string">&quot;����ģ���one����&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">locals</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@register.inclusion_tag(<span class="params"><span class="string">&quot;right_menu.html&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">two</span>(<span class="params">n</span>):</span><br><span class="line">    data_o = <span class="string">&#x27;������ģ����two����&#x27;</span></span><br><span class="line">    data = [<span class="string">f&quot;��<span class="subst">&#123;i&#125;</span>λ&quot;</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">locals</span>()</span><br></pre></td></tr></table></figure>
<ul>
<li>�ڴ���һ��html�ļ�����<code>@register.inclusion_tag(&quot;html�ļ�&quot;)</code>�̳У��м��������ʹ�������html�ļ�</li>
<li>Ȼ�����㴴����html����д����</li>
</ul>
<p>login.html</p>
<ul>
<li>��Ϊ����one��װ������ֱ��ʹ��data����</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>������loginע�ắ��<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">`\\\&#123;&#123; data \\\&#125;&#125;`</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>right_menu.html</p>
<ul>
<li>ӦΪ����two������װ������ֱ��ʹ��data���ݺ�data_o����</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>������right_menu�ļ�<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    `\\\&#123;% for datum in data \\\%&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>`\\\&#123;&#123; datum \\\&#125;&#125;`<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    `\\\&#123;% endfor \\\%&#125;`</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">`\\\&#123;&#123; data_o \\\&#125;&#125;`</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>������html�ļ������ݶ�����index.html�ļ���
<ul>
<li>��һ���ǽ��㴴����one.py�ļ�����<code>\\\&#123;% load one \\\%&#125;</code></li>
<li>�ڶ����ǽ�one.py�ļ��е�one��������<code>\\\&#123;% one \\\%&#125;</code>,��Ҫ�����Ļ��ͰѲ���д�ں���������<code>\\\&#123;% two 10\\\%&#125;</code></li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">`\\\&#123;% load one \\\%&#125;`</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>���Ǳ�װ����װ�ε�html�ļ�<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">`\\\&#123;% one \\\%&#125;`</span><br><span class="line">`\\\&#123;% two 10\\\%&#125;`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="http://urls.py">urls.py</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> user.views <span class="keyword">import</span> index</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&quot;&quot;</span>, index, name=<span class="string">&quot;index&quot;</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ul>
<li>�����ҳ����ʾ</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240625184653583.png" alt="image-20240625184653583"></p>
<h2 id="���塿g��l̳�">���塿ģ��ļ̳�</h2>
<ul>
<li>���Ǵ���һ��ĸ�棬������д�ù̶��ĸ�ʽ���ڸ�ʽ���涨��һ������<code>\\\&#123;% block ���� \\\%&#125;`������طž�������Ը�����Ϣ�ĵط�

- ��˼�������������ط����õ�ʱ�򣬾�ֱ�Ӱ�HTML�ĵ��������Ϣ���

- ֱ��ʹ�÷���`\\\&#123;% extends "home.html" \\\%&#125;`

- home.html�����㶨���ĸģ��

- ֱ������д

- <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% extends &quot;home.html&quot; \\\%&#125;`</span><br><span class="line"></span><br><span class="line">`\\\&#123;% block main_content \\\%&#125;`</span><br><span class="line">	���м������Ҫ��ӵ�����</span><br><span class="line">`\\\&#123;% endblock \\\%&#125;`</span><br></pre></td></tr></table></figure>

- �����Ϳ��Ժ�ĸģ��ʹ��ͨ��һ��ģ�壬�����м�����ݲ�ͬ

��һ��ģ��ҳ��

����һ��home.htmlĸģ��

- ������Ӿ��ǰ�����ҳ��ֳ������ݣ������˷ָ��������ҳ��Ҳ��������ʹ��

- �������Ǹ���������������,`main_content`���������֣�����Ҫʹ�õĻ���ֱ�Ӱ��������ݻ���ͺ���

  - ```html
     `\\\&#123;% block main_content \\\%&#125;`
                	��������
                `\\\&#123;% endblock \\\%&#125;</code>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;link href=&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    `\\\&#123;% load one \\\%&#125;`</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;nav class=&quot;navbar navbar-default&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;container-fluid&quot;&gt;</span><br><span class="line">    &lt;!-- Brand and toggle get grouped for better mobile display --&gt;</span><br><span class="line">    &lt;div class=&quot;navbar-header&quot;&gt;</span><br><span class="line">      &lt;button type=&quot;button&quot; class=&quot;navbar-toggle collapsed&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#bs-example-navbar-collapse-1&quot; aria-expanded=&quot;false&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;</span><br><span class="line">        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;</span><br><span class="line">        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;</span><br><span class="line">        &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">      &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;Brand&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Collect the nav links, forms, and other content for toggling --&gt;</span><br><span class="line">    &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;bs-example-navbar-collapse-1&quot;&gt;</span><br><span class="line">      &lt;ul class=&quot;nav navbar-nav&quot;&gt;</span><br><span class="line">        &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot;&gt;Link &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Link&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li class=&quot;dropdown&quot;&gt;</span><br><span class="line">          &lt;a href=&quot;#&quot; class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; role=&quot;button&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;Dropdown &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;&lt;/a&gt;</span><br><span class="line">          &lt;ul class=&quot;dropdown-menu&quot;&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Action&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Another action&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Something else here&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li role=&quot;separator&quot; class=&quot;divider&quot;&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Separated link&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li role=&quot;separator&quot; class=&quot;divider&quot;&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;One more separated link&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">          &lt;/ul&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;form class=&quot;navbar-form navbar-left&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">          &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Search&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">      &lt;ul class=&quot;nav navbar-nav navbar-right&quot;&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Link&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li class=&quot;dropdown&quot;&gt;</span><br><span class="line">          &lt;a href=&quot;#&quot; class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; role=&quot;button&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;Dropdown &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;&lt;/a&gt;</span><br><span class="line">          &lt;ul class=&quot;dropdown-menu&quot;&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Action&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Another action&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Something else here&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li role=&quot;separator&quot; class=&quot;divider&quot;&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Separated link&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">          &lt;/ul&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line">  &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;container-fluid&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;col-md-2&quot;&gt;</span><br><span class="line">            &lt;p&gt;���&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;col-md-8&quot;&gt;</span><br><span class="line">            `\\\&#123;% block main_content \\\%&#125;`</span><br><span class="line">            	��������</span><br><span class="line">            `\\\&#123;% endblock \\\%&#125;`</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;col-md-2&quot;&gt;</span><br><span class="line">            �ұ�</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240625194847089.png" alt="image-20240625194847089"></p>
<ul>
<li>��ģ���Ī��ط���һ���������</li>
</ul>
<p>index.html</p>
<ul>
<li>
<p>ֱ�Ӱ�ԭ����index.html������գ�ֱ�ӵ���<code>\\\&#123;% extends "home.html" \\\%&#125;</code></p>
</li>
<li>
<p>�ڵ�������home.html�ļ�����Ҫ�����ݺͷ���</p>
<ul>
<li>
<p>����Ҫչʾ������д��ȥ���ɣ���ӵ��������ݲ��ּ���</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% block main_content \\\%&#125;`</span><br><span class="line">            	��������</span><br><span class="line">            `\\\&#123;% endblock \\\%&#125;`</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>��ҳ����ֱ��д<code>\\\&#123;% extends "home.html" \\\%&#125;</code>,�������м�д����Ҫ����Ϣ</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">`\\\&#123;% extends &quot;home.html&quot; \\\%&#125;`</span><br><span class="line"></span><br><span class="line">`\\\&#123;% block main_content \\\%&#125;`</span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>���������ݻ�����index.html����<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">`\\\&#123;% endblock \\\%&#125;`</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240625194811230.png" alt="image-20240625194811230"></p>
<ul>
<li>����һ��ҳ��ֱ�ӽ����������ݽ����滻����</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/CSRF%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E5%92%8CAuth%E6%A8%A1%E5%9D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/CSRF%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E5%92%8CAuth%E6%A8%A1%E5%9D%97/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:35" itemprop="dateModified" datetime="2025-10-11T18:31:35+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>Django���֮CSRF��վ����</h1>
<h2 id="��һ������">��һ������</h2>
<ul>
<li>��ô��ÿ��ע�͵���м��<code>django.middleware.csrf.CsrfViewMiddleware</code></li>
<li>Django �� <code>CsrfViewMiddleware</code> �м�����������վ���� CSRF ����</li>
<li>�м���������� Django Ӧ���д����վ����α�죨Cross-Site Request Forgery, CSRF�����м��</li>
</ul>
<h2 id="������ʲo��CSRF">������ʲô��CSRF</h2>
<ul>
<li>
<p>CSRF��վ����αװ��һ�ֳ��������繥����ʽ</p>
</li>
<li>
<p>������ͨ���յ��ܺ��߷��ʶ�����վ������������</p>
</li>
<li>
<ul>
<li>�����������͵�Ŀ����վ��</li>
<li>�����ܺ�����Ŀ����վ���ѵ�¼�������ִ��ĳЩ����</li>
<li>�Ӷ��ﵽ������Ŀ��</li>
</ul>
</li>
</ul>
<h2 id="������������ʩ">������������ʩ</h2>
<h3 id="��1��ʹ��CSRF����">��1��ʹ��CSRF����</h3>
<ul>
<li>���û������������������ɵ����ƣ����������Ʊ��浽�û��Ự��</li>
<li>ÿ���ύ����ʱ������֤�����ƣ�ȷ�������ǺϷ���</li>
</ul>
<h3 id="��2���ϸ���֤�������Դ">��2���ϸ���֤�������Դ</h3>
<ul>
<li>����˿�����֤�������Դ�Ƿ���Դ��Ԥ�ڵ���վ����</li>
<li>������HTTP Refererͷ��</li>
</ul>
<h3 id="��3��ʹ����֤��">��3��ʹ����֤��</h3>
<ul>
<li>����еĲ�����ʹ���ֻ���֤���</li>
<li>�����û������֤�ķ���</li>
</ul>
<h2 id="���g�CSRF������֤">���ġ�CSRF������֤</h2>
<h3 id="��1������">��1������</h3>
<ul>
<li>csrfУ����һ�����ڷ�ֹ��վ����α�죨Cross-Site Request Forgery�������İ�ȫ��ʩ</li>
</ul>
<h3 id="��2��k������">��2��ǩ������</h3>
<ul>
<li>��ǰ��html�����<code>\\\&#123;% csrf_token \\\%&#125;</code> --��������ǰ���Զ�����һ��<code>csrfmiddlewaretoken</code> ��input��ǩ</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    `\\\&#123;% csrf_token \\\%&#125;`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240703212520474.png" alt="image-20240703212520474"></p>
<h3 id="��3��from�����֤����">��3��from�����֤����</h3>
<ul>
<li>
<p>csrfmiddlewaretoken����������Я�������ݷ��͹���������username,password��</p>
</li>
<li>
<p>������ݾͻᱻ<code>django.middleware.csrf.CsrfViewMiddleware</code>�м������</p>
</li>
<li>
<p>��֤��������ȥ�����ǲ��������ص�</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        username = request.POST.get(<span class="string">&#x27;username&#x27;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;�û�<span class="subst">&#123;username&#125;</span>��������<span class="subst">&#123;password&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="comment"># �û�tom��������710</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;login.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    `\\\&#123;% csrf_token \\\%&#125;`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>����ķ������ǰ��м��<code>CsrfViewMiddleware</code>ע�͵��Ҳ������������Ӧ</li>
</ul>
<h3 id="��4��Ajax��֤����">��4��Ajax��֤����</h3>
<h4 id="��1����ʽһ">��1����ʽһ</h4>
<ul>
<li>��form�������ÿһ����ǩ��ȡ�� ����ֵƴ�ӵ���������</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>����������ת��ҳ��<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;transform_form&quot;</span>&gt;</span></span><br><span class="line">    `\\\&#123;% csrf_token \\\%&#125;`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>password</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>to_bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;to_bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>money</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;money&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;����ת��&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn_click&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#btn_click&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> data = &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#transform_form&quot;</span>).<span class="title function_">serializeArray</span>().<span class="title function_">forEach</span>(</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// ��һ������ �ǵ�ǰ��ǩ��name �� value</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// �ڶ������� ��ǰԪ�ص�����</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// ���������� ԭ��������</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">function</span> (<span class="params">a</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    data[a.<span class="property">name</span>] = a.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">                &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: data,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(response.<span class="property">msg</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    )</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-��ʽ��">(2)��ʽ��</h4>
<ul>
<li>��ȡ���ƶ��� input ��ǩ ��ȡ val</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>����������ת��ҳ��<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;transform_form&quot;</span>&gt;</span></span><br><span class="line">    `\\\&#123;% csrf_token \\\%&#125;`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>password</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>to_bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;to_bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>money</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;money&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;����ת��&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn_click&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#btn_click&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> data = &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">						data[<span class="string">&quot;csrfmiddlewaretoken&quot;</span>]= $(<span class="string">&quot;input[name=&#x27;csrfmiddlewaretoken&#x27;]&quot;</span>).<span class="title function_">val</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: data,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(response.<span class="property">msg</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    )</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-��ʽ��">(3)��ʽ��</h4>
<ul>
<li>Django��ģ���﷨ϵͳ�Զ�����</li>
<li><code>\\\&#123;% csrf_token \\\%&#125;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>����������ת��ҳ��<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;transform_form&quot;</span>&gt;</span></span><br><span class="line">    `\\\&#123;% csrf_token \\\%&#125;`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>password</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>to_bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;to_bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>money</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;money&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;����ת��&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn_click&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#btn_click&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> data = &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">						data[<span class="string">&quot;csrfmiddlewaretoken&quot;</span>] = <span class="string">&quot;`\\\&#123;&#123; csrf_token \\\&#125;&#125;`&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: data,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(response.<span class="property">msg</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    )</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-��ʽ��">(4)��ʽ��</h4>
<ul>
<li>
<p>���� js �ű���� csrf ��֤</p>
</li>
<li>
<p><code>static/csrf.js</code></p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getCookie</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> cookieValue = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">cookie</span> &amp;&amp; <span class="variable language_">document</span>.<span class="property">cookie</span> !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> cookies = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">split</span>(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cookies.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> cookie = jQuery.<span class="title function_">trim</span>(cookies[i]);</span><br><span class="line">            <span class="comment">// Does this cookie string begin with the name we want?</span></span><br><span class="line">            <span class="keyword">if</span> (cookie.<span class="title function_">substring</span>(<span class="number">0</span>, name.<span class="property">length</span> + <span class="number">1</span>) === (name + <span class="string">&#x27;=&#x27;</span>)) &#123;</span><br><span class="line">                cookieValue = <span class="built_in">decodeURIComponent</span>(cookie.<span class="title function_">substring</span>(name.<span class="property">length</span> + <span class="number">1</span>));</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cookieValue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> csrftoken = <span class="title function_">getCookie</span>(<span class="string">&#x27;csrftoken&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">csrfSafeMethod</span>(<span class="params">method</span>) &#123;</span><br><span class="line">  <span class="comment">// these HTTP methods do not require CSRF protection</span></span><br><span class="line">  <span class="keyword">return</span> (<span class="regexp">/^(GET|HEAD|OPTIONS|TRACE)$/</span>.<span class="title function_">test</span>(method));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.<span class="title function_">ajaxSetup</span>(&#123;</span><br><span class="line">  <span class="attr">beforeSend</span>: <span class="keyword">function</span> (<span class="params">xhr, settings</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_">csrfSafeMethod</span>(settings.<span class="property">type</span>) &amp;&amp; !<span class="variable language_">this</span>.<span class="property">crossDomain</span>) &#123;</span><br><span class="line">      xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;X-CSRFToken&quot;</span>, csrftoken);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>����������ת��ҳ��<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;transform_form&quot;</span>&gt;</span></span><br><span class="line">    `\\\&#123;% csrf_token \\\%&#125;`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>password</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>to_bank_card</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;to_bank_card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>money</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;money&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;����ת��&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn_click&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;`\\\&#123;% static &#x27;csrf.js&#x27; \\\%&#125;`&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#btn_click&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> data = &#123;&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ��ʽ�� �� jQuery �ٷ��ĵ� ͨ��������һ���������</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// �����ǿ��Խ��� �ٷ��ṩ�� js �ű��ļ��� csrf ���ȥ</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: data,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(response.<span class="property">msg</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    )</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="5-���">(5)���</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">transform</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.is_ajax():</span><br><span class="line">        <span class="built_in">print</span>(request.POST)</span><br><span class="line">        <span class="comment"># �Լ����˻���ȡ������</span></span><br><span class="line">        bank_card = request.POST.get(<span class="string">&quot;bank_card&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="comment"># Ŀ���˻�</span></span><br><span class="line">        to_bank_card = request.POST.get(<span class="string">&quot;to_bank_card&quot;</span>)</span><br><span class="line">        money = request.POST.get(<span class="string">&quot;money&quot;</span>)</span><br><span class="line">        message = <span class="string">f&quot;��ǰ�˻� <span class="subst">&#123;bank_card&#125;</span> ��Ŀ���˻� <span class="subst">&#123;to_bank_card&#125;</span> ת���� <span class="subst">&#123;money&#125;</span>&quot;</span></span><br><span class="line">        back_dict = &#123;</span><br><span class="line">            <span class="string">&quot;code&quot;</span>: <span class="number">200</span>,</span><br><span class="line">            <span class="string">&quot;msg&quot;</span>: message</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(back_dict)</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;transform.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h2 id="���塿CSRFװ����">���塿CSRFװ����</h2>
<h3 id="��1��o�ֿ�����ֲ�����">��1��ȫ�ֿ�����ֲ�����</h3>
<ul>
<li>
<p>ֻ���� CBV ��ͼ�е� dispatch ��Ч ��������Ч</p>
<ul>
<li>
<p>�����Ķ�����Ч</p>
</li>
<li>
<pre><code class="language-python"># csrf_protect ���� csrf ��֤����
# csrf_exempt ȡ�� csrf ��֤����
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">from django.views import View</span><br><span class="line">from django.views.decorators.csrf import csrf_protect, csrf_exempt</span><br><span class="line"></span><br><span class="line"># csrf_protect ���� csrf ��֤����</span><br><span class="line"># csrf_exempt ȡ�� csrf ��֤����</span><br><span class="line">from django.utils.decorators import method_decorator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ��ʽ�� ������������ --- ����Ч</span><br><span class="line"># @method_decorator(csrf_protect, name=&#x27;post&#x27;)</span><br><span class="line">class CSRFView(View):</span><br><span class="line">    def get(self, request):</span><br><span class="line">        return render(request, &quot;csrf_index.html&quot;, locals())</span><br><span class="line"></span><br><span class="line">    # ��ʽһ �� �ֲ�����װ���� ȡ����֤ --- ����Ч</span><br><span class="line">    # @method_decorator(csrf_exempt)</span><br><span class="line">    def post(self, request):</span><br><span class="line">        return HttpResponse(&quot;post&quot;)</span><br><span class="line"></span><br><span class="line">    @method_decorator(csrf_exempt) # --- ����ȡ��</span><br><span class="line">    def dispatch(self, request, *args, **kwargs):</span><br><span class="line">        # Try to dispatch to the right method; if a method doesn&#x27;t exist,</span><br><span class="line">        # defer to the error handler. Also defer to the error handler if the</span><br><span class="line">        # request method isn&#x27;t on the approved list.</span><br><span class="line">        if request.method.lower() in self.http_method_names:</span><br><span class="line">            handler = getattr(self, request.method.lower(), self.http_method_not_allowed)</span><br><span class="line">        else:</span><br><span class="line">            handler = self.http_method_not_allowed</span><br><span class="line">        return handler(request, *args, **kwargs)</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="��2��o�ֹرգ��ֲ�����">��2��ȫ�ֹرգ��ֲ�����</h3>
<ul>
<li>
<p>ÿһ������������Ч</p>
</li>
<li>
<p>ȫ�ֹر�</p>
<ul>
<li>
<pre><code class="language-python">django.middleware.csrf.CsrfViewMiddleware
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">from django.views import View</span><br><span class="line">from django.views.decorators.csrf import csrf_protect, csrf_exempt</span><br><span class="line"></span><br><span class="line"># csrf_protect ���� csrf ��֤����</span><br><span class="line"># csrf_exempt ȡ�� csrf ��֤����</span><br><span class="line">from django.utils.decorators import method_decorator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ��ʽ�� ������������ --- ��Ч</span><br><span class="line"># @method_decorator(csrf_protect, name=&#x27;post&#x27;)</span><br><span class="line">class CSRFView(View):</span><br><span class="line">    def get(self, request):</span><br><span class="line">        return render(request, &quot;csrf_index.html&quot;, locals())</span><br><span class="line"></span><br><span class="line">    # ��ʽһ �� �ֲ�����װ���� ȡ����֤ --- ��Ч</span><br><span class="line">    # @method_decorator(csrf_protect)</span><br><span class="line">    def post(self, request):</span><br><span class="line">        return HttpResponse(&quot;post&quot;)</span><br><span class="line"></span><br><span class="line">    @method_decorator(csrf_protect) # --- ��Ч</span><br><span class="line">    def dispatch(self, request, *args, **kwargs):</span><br><span class="line">        # Try to dispatch to the right method; if a method doesn&#x27;t exist,</span><br><span class="line">        # defer to the error handler. Also defer to the error handler if the</span><br><span class="line">        # request method isn&#x27;t on the approved list.</span><br><span class="line">        if request.method.lower() in self.http_method_names:</span><br><span class="line">            handler = getattr(self, request.method.lower(), self.http_method_not_allowed)</span><br><span class="line">        else:</span><br><span class="line">            handler = self.http_method_not_allowed</span><br><span class="line">        return handler(request, *args, **kwargs)</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="���ߡ�Authg��">���ߡ�Authģ��</h2>
<ul>
<li>
<p>Authģ������Django�ṩ��Ĭ�ϵ��û�ģ��</p>
</li>
<li>
<p>�������Ǻ�� Django��admin ��̨���û�У�鶼�Ǵ� auth ģ��������֤��</p>
</li>
</ul>
<h3 id="��1��������������Ա">��1��������������Ա</h3>
<ul>
<li>�նˣ�python <a target="_blank" rel="noopener" href="http://manage.py">manage.py</a> createsuperuser</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> auth</span><br><span class="line"><span class="comment"># Django�� auth ģ���ģ�ͱ�</span></span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br></pre></td></tr></table></figure>
<h3 id="��2����֤ע��">��2����֤ע��</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RegisterView</span>(<span class="title class_ inherited__">View</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;register.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self, request</span>):</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="comment"># �û�ע�� ��</span></span><br><span class="line">        <span class="comment"># ���ݿ������������ĵ����� ��֪�����ܷ�ʽ</span></span><br><span class="line">        <span class="comment"># �������ݿ�ģ�ͱ���Ҫģ�ͱ� û��ģ�ͱ�</span></span><br><span class="line">        <span class="comment"># ����ֱ�Ӵ����û� ��Ϊ��������û���Ϣ�� �û����������������ݶ�������������</span></span><br><span class="line">        <span class="comment"># User.objects.create(username=username, password=password)</span></span><br><span class="line">        User.objects.create_user(username=username, password=password)</span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="��3����֤��¼�������½״̬">��3����֤��¼�������½״̬</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LoginView</span>(<span class="title class_ inherited__">View</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self, request</span>):</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="comment"># �û���½</span></span><br><span class="line">        <span class="comment"># ��֤��ǰ�û����û���������</span></span><br><span class="line">        <span class="comment"># ��֤�û���û����</span></span><br><span class="line">        <span class="comment"># ���������ĵ� ���ݿ�������</span></span><br><span class="line">        user_obj = auth.authenticate(username=username, password=password)</span><br><span class="line">        <span class="comment"># print(user_obj, type(user_obj))  # dream1 &lt;class &#x27;django.contrib.auth.models.User&#x27;&gt;</span></span><br><span class="line">        <span class="comment"># print(user_obj.username) # dream1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">dir</span>(request))</span><br><span class="line">        <span class="built_in">print</span>(request.user)  <span class="comment"># AnonymousUser �����û�</span></span><br><span class="line">        <span class="comment"># �����û��ĵ�½״̬</span></span><br><span class="line">        <span class="comment"># ��ǰ��ʹ��Cookie�� session</span></span><br><span class="line">        <span class="keyword">if</span> user_obj:</span><br><span class="line">            auth.login(request, user_obj)  <span class="comment"># ��ʼ���ǽ�request ����� user �����滻�ɵ�ǰ��֤�����û�����</span></span><br><span class="line">            <span class="comment"># print(request.user,type(request.user))</span></span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;login&quot;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="��4���޸�����">��4���޸�����</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UpdateView</span>(<span class="title class_ inherited__">View</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;update.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self, request</span>):</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        old_password = request.POST.get(<span class="string">&quot;old_password&quot;</span>)</span><br><span class="line">        new_password = request.POST.get(<span class="string">&quot;new_password&quot;</span>)</span><br><span class="line">        <span class="comment"># �û��޸�����</span></span><br><span class="line">        <span class="comment"># ���ĵ����� ������ת��������</span></span><br><span class="line">        <span class="comment"># У��ԭ���������Ƿ���ȷ</span></span><br><span class="line">        <span class="keyword">if</span> request.user.check_password(old_password):</span><br><span class="line">            <span class="comment"># ��������ȷ�޸�������</span></span><br><span class="line">            request.user.set_password(new_password)</span><br><span class="line">            <span class="comment"># û�д�������</span></span><br><span class="line">            request.user.save()</span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;update&quot;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="��5��ע����¼">��5��ע����¼</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">logout</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># ע����¼</span></span><br><span class="line">    auth.logout(request)</span><br><span class="line">    <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="��6��У���½">��6��У���½</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># У���½</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># У�鵱ǰ�û��Ƿ��¼</span></span><br><span class="line">    <span class="keyword">if</span> request.user.is_authenticated:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;index.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="��7����½��֤װ����">��7����½��֤װ����</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ��½��֤װ����</span></span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.decorators <span class="keyword">import</span> login_required</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Decorator for views that checks that the user is logged in, redirecting</span></span><br><span class="line"><span class="string">    to the log-in page if necessary.</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ������һ����ֱ����װ�������� login_url</span></span><br><span class="line"><span class="comment"># û�е�½�����û�����ĳ��ҳ�� ---&gt; ��ת����½ҳ�����û�ȥ��¼</span></span><br><span class="line"><span class="comment"># @login_required(login_url=&quot;/login/&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ��������������ȫ�ֵ� settings �������ò���</span></span><br><span class="line"><span class="comment"># LOGIN_URL = &#x27;/login/&#x27;</span></span><br><span class="line"><span class="meta">@login_required</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index_decorators</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># У�鵱ǰ�û��Ƿ��¼</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;index.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h3 id="��8����չAuth��">��8����չAuth��</h3>
<ul>
<li>��չAuth����Ҫ��settings��������<code>AUTH_USER_MODEL = 'user.UserInfo'</code>��д����</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User,AbstractUser</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ��չ authģ��� User��</span></span><br><span class="line"><span class="comment"># ��ʽһ �� �̳� AbstractUser ��д�ֶ�</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(<span class="title class_ inherited__">AbstractUser</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ԭ���кܶ��ֶ� ԭ�����ֶ��Ҳ������ģ�</span></span><br><span class="line"><span class="string">    ����ԭ�����ֶν�������</span></span><br><span class="line"><span class="string">    �����ֶ� �ֻ��� ��ַ</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    phone = models.CharField(max_length=<span class="number">11</span>, null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br><span class="line">    addr = models.CharField(max_length=<span class="number">100</span>, null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ���ò��� ��settings ���� ��һ��������</span></span><br><span class="line"><span class="comment"># AUTH_USER_MODEL = &#x27;user.UserInfo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ��ʽ�� �� ���±��й����ɱ�</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserDetail</span>(models.Model):</span><br><span class="line">    phone = models.CharField(max_length=<span class="number">11</span>, null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br><span class="line">    user = models.OneToOneField(</span><br><span class="line">        to=<span class="string">&quot;User&quot;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/14/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/16/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">坤</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要，但是你不努力，选择就只是空谈</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">196</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">坤</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">lsk-0912</a> & <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
