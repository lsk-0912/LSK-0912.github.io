<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aurora-lsk.asia","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:type" content="website">
<meta property="og:title" content="坤博客">
<meta property="og:url" content="https://aurora-lsk.asia/page/4/index.html">
<meta property="og:site_name" content="坤博客">
<meta property="og:description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="坤">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://aurora-lsk.asia/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>坤博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">坤博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/10.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E6%A8%A1%E5%9E%8B%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/10.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E6%A8%A1%E5%9E%8B%E5%B1%82/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-10-0Django���֮g�Ͳ�date-2023-01-01categories-Blogtags-Blog">title: 10.0Django���֮ģ�Ͳ�<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Django框架之模型层</h1>
<h2 id="【一】模型层引入（测试环境搭建）">【一】模型层引入（测试环境搭建）</h2>
<ul>
<li>Django的orm框架必须是在Django的启动状态下才能使用</li>
<li>Django为我们提供了测试环境</li>
<li>这个测试环境只是临时启动而不是持久化活动</li>
</ul>
<p>创建测试环境</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 在main入口下面复制manage.py文件中main入口下面的第一行代码每一个Django项目都要自己去找 自己去复�?</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;Django_two.settings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 导入模块</span></span><br><span class="line">    <span class="keyword">import</span> django</span><br><span class="line">    <span class="comment"># 启动方式只是临时启动，不是持久化</span></span><br><span class="line">    django.setup()</span><br></pre></td></tr></table></figure>
<h2 id="【二】Django的ORM的单表操�">【二】Django的ORM的单表操�?</h2>
<h3 id="�-】数据库配置">�?】数据库配置</h3>
<ul>
<li>在setting.py文件中配�?
<ul>
<li>将原来django自带的删�?</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="comment"># 手动创建一个新的数据库</span></span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&quot;django_two&quot;</span>,</span><br><span class="line">        <span class="string">&quot;USER&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">        <span class="string">&quot;PASSWORD&quot;</span>: <span class="string">&quot;1234567&quot;</span>,</span><br><span class="line">        <span class="string">&quot;HOST&quot;</span>: <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;PORT&quot;</span>: <span class="number">3306</span>,</span><br><span class="line">        <span class="string">&quot;CHARSET&quot;</span>: <span class="string">&quot;utf8mb4&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>启动项目可能会报�?</li>
<li>原因是没有下载mysqlclient</li>
</ul>
<p>解决方法一</p>
<ul>
<li>
<p>打猴子补�?</p>
</li>
<li>
<p>随便找一个文件，一般都会选择<code>__init__.py</code>文件</p>
</li>
<li>
<p>把下面的数据复制进去即可</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line">pymysql.install_as_MySQLdb()</span><br></pre></td></tr></table></figure>
<p>方法�?</p>
<ul>
<li>下载mysqlclient</li>
</ul>
<h3 id="�-】在APP下的models-py文件中定义模型表">�?】在APP下的models.py文件中定义模型表</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(models.Model):</span><br><span class="line">    <span class="comment"># 名字</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&quot;名字&quot;</span>)</span><br><span class="line">    <span class="comment"># 年龄</span></span><br><span class="line">    age = models.IntegerField(verbose_name=<span class="string">&quot;年龄&quot;</span>)</span><br><span class="line">    <span class="comment"># 显示注册时间</span></span><br><span class="line">    <span class="comment"># auto_now_add=True</span></span><br><span class="line">    <span class="comment"># Django会在对象第一次被创建时自动设置该字段的值为当前的日期和时间。之后，无论对象如何被保存或修改，这个字段的值都不会再自动更�?</span></span><br><span class="line">    <span class="comment"># DateTimeField类型</span></span><br><span class="line">    <span class="comment"># 用于在数据库中存储日期和时间</span></span><br><span class="line">    register_time = models.DateTimeField(auto_now_add=<span class="literal">True</span>,</span><br><span class="line">                                         verbose_name=<span class="string">&quot;注册时间&quot;</span>)</span><br><span class="line">    <span class="comment"># auto_now：在创建数据库的时候会自动新增时间，每次修改都会刷�?</span></span><br><span class="line">    update_time = models.DateTimeField(auto_now=<span class="literal">True</span>,</span><br><span class="line">                                       verbose_name=<span class="string">&quot;更新时间&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>迁移数据�?</p>
<ul>
<li>执行两句�?</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line"></span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>
<ul>
<li>执行完后就迁移成功了</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240625202154249.png" alt="image-20240625202154249"></p>
</li>
</ul>
<h3 id="�-】对数据库的增删改查（必会N条）">�?】对数据库的增删改查（必会N条）</h3>
<ul>
<li>在你的测试环境下面写</li>
</ul>
<h4 id="�-）增">�?）增</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 在main入口下面复制manage.py文件中main入口下面的第一行代码每一个Django项目都要自己去找 自己去复�?</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;Django_two.settings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 导入模块</span></span><br><span class="line">    <span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动方式只是临时启动，不是持久化</span></span><br><span class="line">    django.setup()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> UserInfo</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 记住在django中pk就是mysql中的id</span></span><br><span class="line">    <span class="comment"># �?】对数据库增�?</span></span><br><span class="line">    <span class="comment"># 方式一 create()</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.create(name=&quot;jack&quot;, age=22)</span></span><br><span class="line">    <span class="comment"># print(data) # UserInfo object (1)</span></span><br><span class="line">    <span class="comment"># 方法�?先生成一个对象，然后在提交事�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo(name=&quot;tom&quot;, age=710)</span></span><br><span class="line">    <span class="comment"># print(data) # UserInfo object (None)</span></span><br><span class="line">    <span class="comment"># 提交事务，不提交事务不会添加数据</span></span><br><span class="line">    <span class="comment"># data.save()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="�-）删">�?）删</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 在main入口下面复制manage.py文件中main入口下面的第一行代码每一个Django项目都要自己去找 自己去复�?</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;Django_two.settings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 导入模块</span></span><br><span class="line">    <span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动方式只是临时启动，不是持久化</span></span><br><span class="line">    django.setup()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> UserInfo</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 记住在django中pk就是mysql中的id</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># �?】删除数�?</span></span><br><span class="line">    <span class="comment"># 方法一 获取到筛选的结果，然后对结果进行删除.delete()</span></span><br><span class="line">    <span class="comment"># 会把符合条件的全部删�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(name=&quot;tom&quot;).delete()</span></span><br><span class="line">    <span class="comment"># print(data) # (2, &#123;&#x27;user.UserInfo&#x27;: 2&#125;)# 删除了两条数�?</span></span><br><span class="line">    <span class="comment"># 方法�?直接删除对象</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.get(name=&quot;dream&quot;).delete()</span></span><br><span class="line">    <span class="comment"># print(data)  # (1, &#123;&#x27;user.UserInfo&#x27;: 1&#125;) #删除了一条数�?</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）改">�?）改</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 在main入口下面复制manage.py文件中main入口下面的第一行代码每一个Django项目都要自己去找 自己去复�?</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;Django_two.settings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 导入模块</span></span><br><span class="line">    <span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动方式只是临时启动，不是持久化</span></span><br><span class="line">    django.setup()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> UserInfo</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 记住在django中pk就是mysql中的id</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># �?】对数据库修改数�?</span></span><br><span class="line">    <span class="comment"># 方法一 查完后直接修�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(name=&quot;jack&quot;).update(name=&quot;dream&quot;)</span></span><br><span class="line">    <span class="comment"># print(data) # 2 # 代表修改了两条数�?</span></span><br><span class="line">    <span class="comment"># 方法�?先查对象，然后对�?属性名改�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.get(pk=1)</span></span><br><span class="line">    <span class="comment"># data.name = &quot;tom&quot;</span></span><br><span class="line">    <span class="comment"># print(data)  # UserInfo object (1)</span></span><br><span class="line">    <span class="comment"># # 一定要提交数据</span></span><br><span class="line">    <span class="comment"># data.save()</span></span><br><span class="line">    <span class="comment"># # 修改成功</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）查">�?）查</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 在main入口下面复制manage.py文件中main入口下面的第一行代码每一个Django项目都要自己去找 自己去复�?</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;Django_two.settings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 导入模块</span></span><br><span class="line">    <span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动方式只是临时启动，不是持久化</span></span><br><span class="line">    django.setup()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> UserInfo</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 记住在django中pk就是mysql中的id</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># �?】查询数据库里面的数�?</span></span><br><span class="line">    <span class="comment"># 方式一 get和values取出所有符合条件的值，all取出所有的数据对象</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.all()</span></span><br><span class="line">    <span class="comment"># # 得到的是所有数据的对象</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet [&lt;UserInfo: UserInfo object (1)&gt;, &lt;UserInfo: UserInfo object (2)&gt;, &lt;UserInfo: UserInfo object (3)&gt;]&gt;</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.all().values(&quot;name&quot;)</span></span><br><span class="line">    <span class="comment"># # 取出所有人的名�?</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># # &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;jack&#x27;&#125;, &#123;&#x27;name&#x27;: &#x27;jack&#x27;&#125;, &#123;&#x27;name&#x27;: &#x27;tom&#x27;&#125;]&gt;</span></span><br><span class="line">    <span class="comment"># # 得到id�?的user对象</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.get(pk=1)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># # UserInfo object (1)</span></span><br><span class="line">    <span class="comment"># # 得到数据</span></span><br><span class="line">    <span class="comment"># data = data.name</span></span><br><span class="line">    <span class="comment"># print(data)  # jack</span></span><br><span class="line">    <span class="comment"># 方法�?fileter过滤结果 结果是queryset对象</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(pk=1)</span></span><br><span class="line">    <span class="comment"># print(data)  # &lt;QuerySet [&lt;UserInfo: UserInfo object (1)&gt;]&gt;</span></span><br><span class="line">    <span class="comment"># 获得结果集的第一个结�?</span></span><br><span class="line">    <span class="comment"># 因为就一个结果，都可以获�?</span></span><br><span class="line">    <span class="comment"># data = data.first()</span></span><br><span class="line">    <span class="comment"># print(data) # UserInfo object (1)</span></span><br><span class="line">    <span class="comment"># 获得结果集的最后一个结�?</span></span><br><span class="line">    <span class="comment"># 因为就一个结果，都可以获�?</span></span><br><span class="line">    <span class="comment"># data = data.last()</span></span><br><span class="line">    <span class="comment"># print(data)  # UserInfo object (1)</span></span><br><span class="line">    <span class="comment"># 获得结果集中的所有符合条件的结果</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(name=&quot;jack&quot;)</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet [&lt;UserInfo: UserInfo object (1)&gt;, &lt;UserInfo: UserInfo object (2)&gt;]&gt;</span></span><br><span class="line">    <span class="comment"># data = data.all()</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet [&lt;UserInfo: UserInfo object (1)&gt;, &lt;UserInfo: UserInfo object (2)&gt;]&gt;</span></span><br><span class="line">    <span class="comment"># 获取结果集中的对应字段对应的数据,values得到的是字典</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age=22).values(&quot;name&quot;, &quot;age&quot;)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;jack&#x27;, &#x27;age&#x27;: 22&#125;, &#123;&#x27;name&#x27;: &#x27;jack&#x27;, &#x27;age&#x27;: 22&#125;]&gt;</span></span><br><span class="line">    <span class="comment"># 获取结果集中的对应字段对应的数据,values_list得到的是字典</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age=22).values_list(&quot;name&quot;, &quot;age&quot;)</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet [(&#x27;jack&#x27;, 22), (&#x27;jack&#x27;, 22)]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）其它方�">�?）其它方�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 在main入口下面复制manage.py文件中main入口下面的第一行代码每一个Django项目都要自己去找 自己去复�?</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;Django_two.settings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 导入模块</span></span><br><span class="line">    <span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动方式只是临时启动，不是持久化</span></span><br><span class="line">    django.setup()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> UserInfo</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 记住在django中pk就是mysql中的id</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># �?】去�?</span></span><br><span class="line">	<span class="comment"># 筛选数的第一条数�?</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.values(&quot;age&quot;).distinct().first()</span></span><br><span class="line">    <span class="comment"># print(user, type(user))</span></span><br><span class="line">    <span class="comment"># &#123;&#x27;age&#x27;: 18&#125; &lt;class &#x27;dict&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �?】知道数据的结果�?</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.count()</span></span><br><span class="line">    <span class="comment"># print(user)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �?】排�?</span></span><br><span class="line">    <span class="comment"># 正序�?MySQL正序�?asc</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.order_by(&quot;age&quot;)</span></span><br><span class="line">    <span class="comment"># print(user)</span></span><br><span class="line">    <span class="comment"># 倒序�?MySQL倒序�?desc</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.order_by(&quot;-age&quot;)</span></span><br><span class="line">    <span class="comment"># print(user)</span></span><br><span class="line">    <span class="comment"># 将排序后的结果翻�?</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.order_by(&quot;age&quot;).reverse()</span></span><br><span class="line">    <span class="comment"># print(user)</span></span><br><span class="line">    <span class="comment"># 在Django的ORM语句中只要不是确切的某个对象 就可以一�?. 触发其他方法</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.order_by(&quot;age&quot;).count()</span></span><br><span class="line">    <span class="comment"># print(user)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �?】对某个条件以外的结果进行剔�?</span></span><br><span class="line">    <span class="comment"># 不会提出到你指定的这个年龄的结果</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.exclude(age=18)</span></span><br><span class="line">    <span class="comment"># print(user)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �?】判断当前筛选到的结果是否存�?</span></span><br><span class="line">    <span class="comment"># user = UserInfo.objects.filter(name=&quot;dream_1&quot;).exists()</span></span><br><span class="line">    <span class="comment"># print(user)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 【必知必会N条�?</span></span><br><span class="line">	<span class="comment"># model是models.py文件中定义模型表的类名，需要提前导�?</span></span><br><span class="line">    <span class="comment"># �?】增�?</span></span><br><span class="line">    <span class="comment"># �?）model.objects.create(filed=value)</span></span><br><span class="line">    <span class="comment"># �?）model(filed=value).save()</span></span><br><span class="line">    <span class="comment"># �?】删�?</span></span><br><span class="line">    <span class="comment"># �?）model.objects.filter(filed=value).delete()</span></span><br><span class="line">    <span class="comment"># �?）model.objects.get(filed=value).delete()</span></span><br><span class="line">    <span class="comment"># �?】修�?</span></span><br><span class="line">    <span class="comment"># �?）model.objects.filter(filed=value).update(filed=new_value)</span></span><br><span class="line">    <span class="comment"># �?）obj = model.objects.get(filed=value)</span></span><br><span class="line">    <span class="comment"># obj.filed_name = value </span></span><br><span class="line">    <span class="comment"># obj.save()</span></span><br><span class="line">    <span class="comment"># �?】查�?</span></span><br><span class="line">    <span class="comment"># (7) model.objects.filter(field=value)</span></span><br><span class="line">    <span class="comment"># (8) model.objects.filter(field=value).first()</span></span><br><span class="line">    <span class="comment"># (9) model.objects.filter(field=value).last()</span></span><br><span class="line">    <span class="comment"># (10) model.objects.all() </span></span><br><span class="line">    <span class="comment"># (11) model.objects.get(filed=value)</span></span><br><span class="line">    <span class="comment"># �?】扩展方�?</span></span><br><span class="line">    <span class="comment"># (12) model.objects.filter(field=value).count() 计数</span></span><br><span class="line">    <span class="comment"># (13) model.objects.filter(field=value).values() 获取键值对结果</span></span><br><span class="line">    <span class="comment"># (14) model.objects.filter(field=value).values_list() 获取值结�?</span></span><br><span class="line">    <span class="comment"># (15) model.objects.values(&quot;field&quot;).distinct() 对结果进行去�?</span></span><br><span class="line">    <span class="comment"># (16) model.objects.filter(field=value).order_by(&quot;-filed&quot;) 降序</span></span><br><span class="line">    <span class="comment"># (17) model.objects.filter(field=value).order_by(&quot;filed&quot;) 升序</span></span><br><span class="line">    <span class="comment"># (18) model.objects.filter(field=value).exists() 判断结果是否存在</span></span><br><span class="line">    <span class="comment"># (19) model.objects.exclude(filed=value) 排除指定条件的数�?</span></span><br></pre></td></tr></table></figure>
<ul>
<li>数据库信�?</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">4	jack	22	2024-06-25 13:02:38.766847	2024-06-25 13:02:38.766847</span><br><span class="line">5	jack	22	2024-06-25 13:02:43.551628	2024-06-25 13:02:43.551628</span><br><span class="line">6	tom	710	2024-06-25 13:03:09.526967	2024-06-25 13:03:09.526967</span><br><span class="line">7	tom	710	2024-06-25 13:03:11.030100	2024-06-25 13:03:11.030100</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240625213204352.png" alt="image-20240625213204352"></p>
<h2 id="【三】神奇的双下划线查询">【三】神奇的双下划线查询</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 在main入口下面复制manage.py文件中main入口下面的第一行代码每一个Django项目都要自己去找 自己去复�?</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;Django_two.settings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 导入模块</span></span><br><span class="line">    <span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动方式只是临时启动，不是持久化</span></span><br><span class="line">    django.setup()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> UserInfo</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 神奇的双下划�?</span></span><br><span class="line">    <span class="comment"># 大于</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age__gt=22)</span></span><br><span class="line">    <span class="comment"># # 两条数据符合</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet [&lt;UserInfo: UserInfo object (6)&gt;, &lt;UserInfo: UserInfo object (7)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 小于</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age__lt=22)</span></span><br><span class="line">    <span class="comment"># # 没有符合条件�?</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet []&gt;</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># # 大于等于</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age__gte=22)</span></span><br><span class="line">    <span class="comment"># # 四条符合的数�?</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># &lt;QuerySet [&lt;UserInfo: UserInfo object (4)&gt;, &lt;UserInfo: UserInfo object (5)&gt;, &lt;UserInfo: UserInfo object (6)&gt;, &lt;UserInfo: UserInfo object (7)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 小于等于</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age__lte=22)</span></span><br><span class="line">    <span class="comment"># 两条条符合的数据</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet [&lt;UserInfo: UserInfo object (4)&gt;, &lt;UserInfo: UserInfo object (5)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 或条�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age__in=(18, 22))</span></span><br><span class="line">    <span class="comment"># # 两条条符合的数据</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet [&lt;UserInfo: UserInfo object (4)&gt;, &lt;UserInfo: UserInfo object (5)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 两个条件之间</span></span><br><span class="line">    <span class="comment"># 也包�?8�?2</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(age__range=(18, 22))</span></span><br><span class="line">    <span class="comment"># #两条条符合的数据</span></span><br><span class="line">    <span class="comment"># print(data)  # &lt;QuerySet [&lt;UserInfo: UserInfo object (4)&gt;, &lt;UserInfo: UserInfo object (5)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 模糊查询</span></span><br><span class="line">    <span class="comment"># 查人名中带有 m 的人的名�?</span></span><br><span class="line">    <span class="comment"># 强约�?区分大小�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(name__contains=&quot;m&quot;)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># &lt;QuerySet [&lt;UserInfo: UserInfo object (6)&gt;, &lt;UserInfo: UserInfo object (7)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 弱约�?不区分大小写</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(name__icontains=&quot;M&quot;)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># &lt;QuerySet [&lt;UserInfo: UserInfo object (6)&gt;, &lt;UserInfo: UserInfo object (7)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 以指定条件开�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(name__startswith=&quot;t&quot;)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># &lt;QuerySet [&lt;UserInfo: UserInfo object (6)&gt;, &lt;UserInfo: UserInfo object (7)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 以指定条件结�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(name__endswith=&quot;m&quot;)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># &lt;QuerySet [&lt;UserInfo: UserInfo object (6)&gt;, &lt;UserInfo: UserInfo object (7)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 查询指定那一�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(register_time__day=&quot;20&quot;)</span></span><br><span class="line">    <span class="comment"># print(data) # &lt;QuerySet []&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#  查询指定那一�?</span></span><br><span class="line">    <span class="comment"># data = UserInfo.objects.filter(register_time__year=&quot;2024&quot;)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># &lt;QuerySet [&lt;UserInfo: UserInfo object (4)&gt;, &lt;UserInfo: UserInfo object (5)&gt;, &lt;UserInfo: UserInfo object (6)&gt;, &lt;UserInfo: UserInfo object (7)&gt;]&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 查询指定那一�?</span></span><br><span class="line">    data = UserInfo.objects.<span class="built_in">filter</span>(register_time__month=<span class="string">&quot;5&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(data) <span class="comment"># &lt;QuerySet []&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>数据库信�?</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">4	jack	22	2024-06-25 13:02:38.766847	2024-06-25 13:02:38.766847</span><br><span class="line">5	jack	22	2024-06-25 13:02:43.551628	2024-06-25 13:02:43.551628</span><br><span class="line">6	tom	710	2024-06-25 13:03:09.526967	2024-06-25 13:03:09.526967</span><br><span class="line">7	tom	710	2024-06-25 13:03:11.030100	2024-06-25 13:03:11.030100</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240625213204352.png" alt="image-20240625213204352"></p>
<h2 id="【四】创建多表关�">【四】创建多表关�?</h2>
<ul>
<li>既然是多表查询，那就是不止一个表</li>
<li>在models.py文件中创建多个表</li>
<li>我们学过的表查询�?
<ul>
<li>一对一查询</li>
<li>一对多查询</li>
<li>多对多查�?</li>
</ul>
</li>
</ul>
<h3 id="�-】一对多的表">�?】一对多的表</h3>
<ul>
<li>ForeignKey方法创建一对多关系</li>
</ul>
<p>创建图书�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建的是图书�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(models.Model):</span><br><span class="line">    <span class="comment"># 标题</span></span><br><span class="line">    title = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 价格</span></span><br><span class="line">    <span class="comment"># max_digits：最多几�?</span></span><br><span class="line">    <span class="comment"># decimal_places：最多小数点后面几位</span></span><br><span class="line">    <span class="comment"># DecimalField：小数类�?</span></span><br><span class="line">    price = models.DecimalField(max_digits=<span class="number">8</span>, decimal_places=<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># 一对多关系，图书与出版�?</span></span><br><span class="line">    publisher = models.ForeignKey(</span><br><span class="line">        <span class="comment"># 目标建立关系的表</span></span><br><span class="line">        to=<span class="string">&quot;Publisher&quot;</span>,</span><br><span class="line">        <span class="comment"># 级联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<p>创建出版社表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建出版社表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Publisher</span>(models.Model):</span><br><span class="line">    <span class="comment"># 名字</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 地址</span></span><br><span class="line">    addr = models.CharField(max_length=<span class="number">32</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】一对一的表">�?】一对一的表</h3>
<ul>
<li>OneToOneField方法创建一对一关系</li>
</ul>
<p>创建作者表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # 创建作者表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Author</span>(models.Model):</span><br><span class="line">    <span class="comment"># 名字</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 年龄</span></span><br><span class="line">    age = models.IntegerField()</span><br><span class="line">    <span class="comment"># 作者和作者详情表进行关联，一对一关系，一个作者只能有一个详�?</span></span><br><span class="line">    <span class="comment"># 一个详情对应一个作�?</span></span><br><span class="line">    author_detail = models.OneToOneField(</span><br><span class="line">        <span class="comment"># 目标建立关系的表,作者详情表</span></span><br><span class="line">        to=<span class="string">&quot;AuthorDetail&quot;</span>,</span><br><span class="line">        <span class="comment"># 联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<p>创建作者详情表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建作者详情表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AuthorDetail</span>(models.Model):</span><br><span class="line">    <span class="comment"># 地址</span></span><br><span class="line">    addr = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 电话</span></span><br><span class="line">    phone = models.CharField(max_length=<span class="number">11</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】多对多的表">�?】多对多的表</h3>
<ul>
<li>
<p>ManyToManyField方法创建多对多关�?</p>
</li>
<li>
<p>需要第三张表存放两个表的关�?</p>
</li>
</ul>
<p>创建图书�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建的是图书�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(models.Model):</span><br><span class="line">    <span class="comment"># 标题</span></span><br><span class="line">    title = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 价格</span></span><br><span class="line">    <span class="comment"># max_digits：最多几�?</span></span><br><span class="line">    <span class="comment"># decimal_places：最多小数点后面几位</span></span><br><span class="line">    <span class="comment"># DecimalField：小数类�?</span></span><br><span class="line">    price = models.DecimalField(max_digits=<span class="number">8</span>, decimal_places=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 一对多关系，图书与出版�?</span></span><br><span class="line">    publisher = models.ForeignKey(</span><br><span class="line">        <span class="comment"># 目标建立关系的表</span></span><br><span class="line">        to=<span class="string">&quot;Publisher&quot;</span>,</span><br><span class="line">        <span class="comment"># 级联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 多对多的关系</span></span><br><span class="line">    auther = models.ManyToManyField(</span><br><span class="line">        <span class="comment"># 目标建立关系的表</span></span><br><span class="line">        to=<span class="string">&quot;Author&quot;</span>,</span><br><span class="line">        <span class="comment"># 级联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete = models.CASCADE</span><br><span class="line">    )</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>创建作者表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建作者表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Author</span>(models.Model):</span><br><span class="line">    <span class="comment"># 名字</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 年龄</span></span><br><span class="line">    age = models.IntegerField()</span><br><span class="line">    <span class="comment"># 作者和作者详情表进行关联，一对一关系，一个作者只能有一个详�?</span></span><br><span class="line">    <span class="comment"># 一个详情对应一个作�?</span></span><br><span class="line">    author_detail = models.OneToOneField(</span><br><span class="line">        <span class="comment"># 目标建立关系的表,作者详情表</span></span><br><span class="line">        to=<span class="string">&quot;AuthorDetail&quot;</span>,</span><br><span class="line">        <span class="comment"># 联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># 与作者建立的第三张表</span></span><br><span class="line">    book = models.ManyToManyField(</span><br><span class="line">        <span class="comment"># 跟那张表进行关联</span></span><br><span class="line">        to=<span class="string">&quot;Book&quot;</span>,</span><br><span class="line">        <span class="comment"># 联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>创建图书和作者表关系�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 作者和书的关系�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BookToAuthor</span>(models.Model):</span><br><span class="line">    <span class="comment"># 字段关联作者表</span></span><br><span class="line">    author = models.ForeignKey(</span><br><span class="line">        <span class="comment"># 关联作者的�?</span></span><br><span class="line">        to=<span class="string">&quot;Author&quot;</span>,</span><br><span class="line">        <span class="comment"># 级联更新和级联删�?</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># 字段关联图书的表</span></span><br><span class="line">    book = models.ForeignKey(</span><br><span class="line">        <span class="comment"># 关联图书的表</span></span><br><span class="line">        to=<span class="string">&quot;Book&quot;</span>,</span><br><span class="line">        <span class="comment"># 目标建立关系的表</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-】多对多的表方法�">�?】多对多的表方法�?</h3>
<ul>
<li>直接在这两张表的其中一张上建立第三张表</li>
</ul>
<p>比如我们在Book上建�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(models.Model):</span><br><span class="line">    <span class="comment"># 标题</span></span><br><span class="line">    title = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 价格</span></span><br><span class="line">    <span class="comment"># max_digits：最多几�?</span></span><br><span class="line">    <span class="comment"># decimal_places：最多小数点后面几位</span></span><br><span class="line">    <span class="comment"># DecimalField：小数类�?</span></span><br><span class="line">    price = models.DecimalField(max_digits=<span class="number">8</span>, decimal_places=<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># 一对多关系，图书与出版�?</span></span><br><span class="line">    publisher = models.ForeignKey(</span><br><span class="line">        <span class="comment"># 目标建立关系的表</span></span><br><span class="line">        to=<span class="string">&quot;Publisher&quot;</span>,</span><br><span class="line">        <span class="comment"># 级联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 多对多的关系</span></span><br><span class="line">    auther = models.ManyToManyField(</span><br><span class="line">        to=<span class="string">&quot;Author&quot;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多对多的关系</span></span><br><span class="line">  auther = models.ManyToManyField(</span><br><span class="line">      to=<span class="string">&quot;Author&quot;</span></span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
<ul>
<li>Django会自动创建第三张�?</li>
</ul>
<h3 id="�-】总的创建表代�">�?】总的创建表代�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建出版社表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Publisher</span>(models.Model):</span><br><span class="line">    <span class="comment"># 名字</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 地址</span></span><br><span class="line">    addr = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建的是图书�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(models.Model):</span><br><span class="line">    <span class="comment"># 标题</span></span><br><span class="line">    title = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 价格</span></span><br><span class="line">    <span class="comment"># max_digits：最多几�?</span></span><br><span class="line">    <span class="comment"># decimal_places：最多小数点后面几位</span></span><br><span class="line">    <span class="comment"># DecimalField：小数类�?</span></span><br><span class="line">    price = models.DecimalField(max_digits=<span class="number">8</span>, decimal_places=<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># 一对多关系，图书与出版�?</span></span><br><span class="line">    publisher = models.ForeignKey(</span><br><span class="line">        <span class="comment"># 目标建立关系的表</span></span><br><span class="line">        to=<span class="string">&quot;Publisher&quot;</span>,</span><br><span class="line">        <span class="comment"># 级联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 多对多的关系</span></span><br><span class="line">    auther = models.ManyToManyField(</span><br><span class="line">        to=<span class="string">&quot;Author&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建作者详情表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AuthorDetail</span>(models.Model):</span><br><span class="line">    <span class="comment"># 地址</span></span><br><span class="line">    addr = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 电话</span></span><br><span class="line">    phone = models.CharField(max_length=<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 创建作者表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Author</span>(models.Model):</span><br><span class="line">    <span class="comment"># 名字</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 年龄</span></span><br><span class="line">    age = models.IntegerField()</span><br><span class="line">    <span class="comment"># 作者和作者详情表进行关联，一对一关系，一个作者只能有一个详�?</span></span><br><span class="line">    <span class="comment"># 一个详情对应一个作�?</span></span><br><span class="line">    author_detail = models.OneToOneField(</span><br><span class="line">        <span class="comment"># 目标建立关系的表,作者详情表</span></span><br><span class="line">        to=<span class="string">&quot;AuthorDetail&quot;</span>,</span><br><span class="line">        <span class="comment"># 联更新和级联删除，和并在一起了</span></span><br><span class="line">        on_delete=models.CASCADE</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 记得迁移数据�?</span></span><br></pre></td></tr></table></figure>
<h2 id="【五】一对多的外键字�">【五】一对多的外键字�?</h2>
<h3 id="�-】添加�">�?】添加�?</h3>
<ul>
<li>create</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 【一】一对多表外键字�?</span></span><br><span class="line">   <span class="comment"># �?】添加数�? create</span></span><br><span class="line">   <span class="comment">#  Publish.objects.create(name=&quot;人民出版�?, addr=&quot;北京&quot;)</span></span><br><span class="line">   <span class="comment"># Publish.objects.create(name=&quot;上海出版�?, addr=&quot;上海&quot;)</span></span><br><span class="line">   <span class="comment"># Publish.objects.create(name=&quot;南京出版�?, addr=&quot;南京&quot;)</span></span><br><span class="line">   <span class="comment"># Publish.objects.create(name=&quot;东京出版�?, addr=&quot;东京&quot;)</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment"># 在创建图书数据的时候要进行出版社的关联</span></span><br><span class="line">   <span class="comment"># publish_obj = Publish.objects.get(pk=2)</span></span><br><span class="line">   <span class="comment"># 方式一 �?直接�?字段 publish_id 值是指定出版社的id</span></span><br><span class="line">   <span class="comment"># Book.objects.create(title=&quot;西游�?, price=&quot;99&quot;,publish_id=publish_obj.id)</span></span><br><span class="line">   <span class="comment"># 方式�?�?在模型表中定义的字段是叫 publish 所�?直接将对象扔进去</span></span><br><span class="line">   <span class="comment"># Book.objects.create(title=&quot;红楼�?, price=&quot;88&quot;, publish=publish_obj)</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】删除数�">�?】删除数�?</h3>
<ul>
<li>delete</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># �?】删除数�?-删除外键关系  delete</span></span><br><span class="line">    <span class="comment"># book中的publisher字段</span></span><br><span class="line">    <span class="comment"># 因为你在创建的时候已经添加了级联更新和级联删除所以你删除信息和修改信息都会发生变�?</span></span><br><span class="line">    <span class="comment"># Book.objects.get(pk=&quot;1&quot;).delete()# 删除了book id�?的数�?</span></span><br><span class="line">    <span class="comment"># Publisher.objects.get(pk=&quot;1&quot;).delete()# 删除了出版社的id，对应的图书也一并被删掉�?</span></span><br><span class="line">    <span class="comment"># 删除外键数据 出版社表中的数据 在图书表�?预支相关联的数据也会被删�?</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-】修改外键字�">�?】修改外键字�?</h3>
<ul>
<li>update</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># �?】修改外键字�?update</span></span><br><span class="line">   <span class="comment"># 我们将红楼梦�?出版社转�?出版社该怎么�?</span></span><br><span class="line">   <span class="comment"># 方法一</span></span><br><span class="line">   <span class="comment"># 我们先获得出版社的一个id</span></span><br><span class="line">   <span class="comment"># publisher_obj = Publisher.objects.get(pk=&quot;4&quot;)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># Book.objects.filter(title=&quot;红楼�?).update(publisher=publisher_obj)</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment"># 方法�?</span></span><br><span class="line">   <span class="comment"># 直接替换,指定书的id，替换指定印刷厂的id</span></span><br><span class="line">   <span class="comment"># id不存在就会报�?</span></span><br><span class="line">   <span class="comment"># books = Book.objects.filter(pk=6).update(publisher_id=6)</span></span><br><span class="line"><span class="comment"># 也可以放对象</span></span><br></pre></td></tr></table></figure>
<h2 id="【六】多对多的外键字�">【六】多对多的外键字�?</h2>
<h3 id="�-】添加数�">�?】添加数�?</h3>
<ul>
<li>一定要保证两个表里面有�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图书和作者表</span></span><br><span class="line">    <span class="comment"># for i in range(1, 6):</span></span><br><span class="line">    <span class="comment">#     detail_obj = AuthorDetail.objects.create(addr=f&quot;上海_&#123;i&#125;&quot;, phone=f&quot;1&#123;i&#125;0&quot;)</span></span><br><span class="line">    <span class="comment">#     # print(detail_obj) # AuthorDetail object (1)</span></span><br><span class="line">    <span class="comment">#     Author.objects.create(name=f&quot;dream_&#123;i&#125;&quot;, age=18 * i, author_detail=detail_obj)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># for i in range(1, 6):</span></span><br><span class="line">    <span class="comment">#     Book.objects.create(</span></span><br><span class="line">    <span class="comment">#         title=f&quot;�?&#123;i&#125; 本书&quot;,</span></span><br><span class="line">    <span class="comment">#         price=str(60 * i),</span></span><br><span class="line">    <span class="comment">#         publish_id=random.randint(2, 6)</span></span><br><span class="line">    <span class="comment">#     )</span></span><br></pre></td></tr></table></figure>
<ul>
<li>要使用Django自带的机制自动生成的第三张表，models不会有第三张�?</li>
<li>需要跨表建立关�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得书籍对象</span></span><br><span class="line">    data = book_obj = Book.objects.get(pk=<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获得作者对�?</span></span><br><span class="line">    data = auther_obj = Author.objects.get(pk=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment"># �?】添加多对多外键关系---关键字add</span></span><br><span class="line">    <span class="comment"># 方式一</span></span><br><span class="line">    <span class="comment"># 给book_obj书籍添加一个作�?</span></span><br><span class="line">    <span class="comment"># 获得书籍对象，在获得作者对象，书籍对象在跨到作者身�?</span></span><br><span class="line">    <span class="comment"># 你的第三章表建立建立谁的身上了就得到谁的对象然后在把和你建立多对多关系的表添加进�?</span></span><br><span class="line">    <span class="comment"># data = book_obj.auther.add(auther_obj)</span></span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    <span class="comment"># 方式�?直接放作者的id�?</span></span><br><span class="line">    <span class="comment"># book_obj.auther.add(1, 3,6,4,5)</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】删除数�-2">�?】删除数�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得书籍对象</span></span><br><span class="line">    data = book_obj = Book.objects.get(pk=<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获得作者对�?</span></span><br><span class="line">    data = auther_obj = Author.objects.get(pk=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># �?】删除多对多外键关系 remove</span></span><br><span class="line">    <span class="comment"># book_obj.auther.remove(auther_obj)</span></span><br><span class="line">    <span class="comment"># 删除多个，直接给作者的id</span></span><br><span class="line">    <span class="comment"># book_obj.auther.remove(3, 1)</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】修改外键关�">�?】修改外键关�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得书籍对象</span></span><br><span class="line">   data = book_obj = Book.objects.get(pk=<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 获得作者对�?</span></span><br><span class="line">   data = auther_obj = Author.objects.get(pk=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># �?】修改外键关�?--》set</span></span><br><span class="line">   <span class="comment"># 方式一 用set方法，弊端就是会清空其他的外键关�?</span></span><br><span class="line">   <span class="comment"># set关键字是一个列�?</span></span><br><span class="line">   <span class="comment"># 修改了数据，保留了book_obj�?6对应�?，其他的book_obj对应的书籍被清空�?</span></span><br><span class="line">   <span class="comment"># book_obj.auther.set([3])</span></span><br><span class="line">   <span class="comment"># 方式�?先用 remove 移除外键关系 再用 add 添加外键关系</span></span><br><span class="line">   <span class="comment"># book_obj.auther.remove(auther_obj)</span></span><br><span class="line">   <span class="comment"># book_obj.auther.add(auther_obj)</span></span><br></pre></td></tr></table></figure>
<h1>多表查询（正反向查询�?</h1>
<h2 id="【一】什么是正反向查�">【一】什么是正反向查�?</h2>
<h3 id="�-】正向查�">�?】正向查�?</h3>
<ul>
<li>外键字段在自己身上就叫正向查�?
<ul>
<li>有外键关系的两张�?从有外检字段的表向另一张无外键字段的表查询数据的时候就是正�?</li>
</ul>
</li>
<li>正向查询的时候，直接按照字段查询</li>
</ul>
<h3 id="�-】反向查�">�?】反向查�?</h3>
<ul>
<li>外键字段不在自己身上，我查你就叫反向查询
<ul>
<li>有外键关系的两张�?从无外键字段的表向另一张有外键字段表查询数据的时候就是反�?</li>
</ul>
</li>
<li>反向查询的时候，要使用关键字_set</li>
</ul>
<h2 id="【二】多表查询案�">【二】多表查询案�?</h2>
<h3 id="�-】子查询（基于对象的跨表查询�">�?】子查询（基于对象的跨表查询�?</h3>
<h4 id="�-）查询书籍主键为14的出版社">�?）查询书籍主键为14的出版社</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查询书籍主键�?的出版社</span></span><br><span class="line">   <span class="comment">#得到图书对象</span></span><br><span class="line">   book_obj = Book.objects.get(pk=<span class="number">14</span>)</span><br><span class="line">   <span class="comment">#图书与出版社是一对多关系</span></span><br><span class="line">   <span class="built_in">print</span>(book_obj)  <span class="comment"># Book object (14)</span></span><br><span class="line">   <span class="comment">#不要带_id</span></span><br><span class="line">   publisher_id = book_obj.publisher_id</span><br><span class="line">   <span class="built_in">print</span>(publisher_id)  <span class="comment"># 6</span></span><br><span class="line">   <span class="comment">#得到出版社对�?</span></span><br><span class="line">   publisher_obj = book_obj.publisher</span><br><span class="line">   <span class="built_in">print</span>(publisher_obj)  <span class="comment"># Publisher object (6)</span></span><br><span class="line">   <span class="comment">#对象.name得到出版�?</span></span><br><span class="line">   publisher_name = book_obj.publisher.name</span><br><span class="line">   <span class="built_in">print</span>(publisher_name)  <span class="comment"># 4出版�?</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）查询数据主键为1的作�">�?）查询数据主键为1的作�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询书籍主键�?的作�?</span></span><br><span class="line">  <span class="comment"># 书籍与作者是多对多关�?</span></span><br><span class="line">  <span class="comment"># 得到主键id�?的对�?</span></span><br><span class="line">  book_obj = Book.objects.<span class="built_in">filter</span>(pk=<span class="number">1</span>).first()</span><br><span class="line">  <span class="built_in">print</span>(book_obj) <span class="comment"># Book object (1)</span></span><br><span class="line">  res = book_obj.auther</span><br><span class="line">  <span class="built_in">print</span>(res)  <span class="comment"># user.Author.None</span></span><br><span class="line">  auther_obj = book_obj.auther.<span class="built_in">all</span>()</span><br><span class="line">  <span class="built_in">print</span>(auther_obj)  <span class="comment"># &lt;QuerySet [&lt;Author: Author object (2)&gt;]&gt;</span></span><br><span class="line">  author_obj = book_obj.auther.<span class="built_in">all</span>().values(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span>(author_obj)  <span class="comment"># &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;tom2&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-查询作者主键为3的电话号�">(3)查询作者主键为3的电话号�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询作者主键为3的电话号�?</span></span><br><span class="line">   <span class="comment"># 得到作者对�?</span></span><br><span class="line">   <span class="comment"># 作者与作者详情是一对一关系</span></span><br><span class="line">   author_obj = Author.objects.<span class="built_in">filter</span>(pk=<span class="number">3</span>).first()</span><br><span class="line">   <span class="built_in">print</span>(author_obj)  <span class="comment"># Author object (3)</span></span><br><span class="line">   <span class="comment"># 得到作者详情对�?</span></span><br><span class="line">   author_detail_obj = author_obj.author_detail</span><br><span class="line">   <span class="built_in">print</span>(author_detail_obj)  <span class="comment"># AuthorDetail object (3)</span></span><br><span class="line">   <span class="comment"># 对象.字段</span></span><br><span class="line">   phone = author_detail_obj.phone</span><br><span class="line">   <span class="built_in">print</span>(phone)  <span class="comment"># 130</span></span><br></pre></td></tr></table></figure>
<h4 id="4-查询出版社是-1出版�-的书">(4)查询出版社是  1出版�? 的书</h4>
<ul>
<li>在下面<code>res</code>只是一个待执行的查询的“准备”状�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询出版社是  1出版�? 的书</span></span><br><span class="line">   <span class="comment"># 出版社与书是多对一关系</span></span><br><span class="line">   <span class="comment"># 没有外键关系的表要向有外键关系的表查，就是反向查询加_set</span></span><br><span class="line">   <span class="comment"># 得到出版社对�?</span></span><br><span class="line">   publisher_obj = Publisher.objects.<span class="built_in">filter</span>(name=<span class="string">&quot;1出版�?).first()</span></span><br><span class="line"><span class="string">   print(publisher_obj)  # Publisher object (2)</span></span><br><span class="line"><span class="string">   # 反向查询加_set</span></span><br><span class="line"><span class="string">   # 只是一个执行状态的准备，并没有进行查询</span></span><br><span class="line"><span class="string">   res = publisher_obj.book_set</span></span><br><span class="line"><span class="string">   print(res)  # user.Book.None</span></span><br><span class="line"><span class="string">   # 得到图书对象</span></span><br><span class="line"><span class="string">   book_obj = publisher_obj.book_set.all()</span></span><br><span class="line"><span class="string">   print(book_obj)  # &lt;QuerySet [&lt;Book: Book object (1)&gt;]&gt;</span></span><br><span class="line"><span class="string">   # values得到想要的数�?</span></span><br><span class="line"><span class="string">   publisher_name = publisher_obj.book_set.all().values(&quot;</span>title<span class="string">&quot;)</span></span><br><span class="line"><span class="string">   print(publisher_name)  # &lt;QuerySet [&#123;&#x27;title&#x27;: &#x27;�?本书&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）查询作者是tom1写过的书">�?）查询作者是tom1写过的书</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询作者是tom1写过的书</span></span><br><span class="line">   <span class="comment"># 作者和图书是多对多关系</span></span><br><span class="line">   <span class="comment"># 得到作者的对象</span></span><br><span class="line">   author_obj = Author.objects.<span class="built_in">filter</span>(name=<span class="string">&quot;tom1&quot;</span>).first()</span><br><span class="line">   <span class="built_in">print</span>(author_obj)  <span class="comment"># Author object (1)</span></span><br><span class="line">   <span class="comment"># 得到图书对象</span></span><br><span class="line">   book_obj = author_obj.book_set</span><br><span class="line">   <span class="built_in">print</span>(book_obj)  <span class="comment"># user.Book.None</span></span><br><span class="line">   <span class="comment"># 得到图书的名�?</span></span><br><span class="line">   book_name = author_obj.book_set.<span class="built_in">all</span>().values(<span class="string">&quot;title&quot;</span>)</span><br><span class="line">   <span class="built_in">print</span>(book_name)  <span class="comment"># &lt;QuerySet [&#123;&#x27;title&#x27;: &#x27;�?本书&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="6-查询手机号是110的作者姓�">(6)查询手机号是110的作者姓�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询手机号是110的作者姓�?</span></span><br><span class="line">    <span class="comment"># 作者和作者详情是一对一关系</span></span><br><span class="line">    <span class="comment"># 得到作者详情对�?</span></span><br><span class="line">    author_detail_obj = AuthorDetail.objects.<span class="built_in">filter</span>(phone=<span class="number">110</span>).first()</span><br><span class="line">    <span class="built_in">print</span>(author_detail_obj)</span><br><span class="line">    <span class="comment"># 主键在作者身上，反向查询，但是是一对一关系，不需要加_set</span></span><br><span class="line">    author_obj = author_detail_obj.author</span><br><span class="line">    <span class="built_in">print</span>(author_obj)  <span class="comment"># Author object (1)</span></span><br><span class="line">    <span class="comment"># 得到作者的名字</span></span><br><span class="line">    author_name = author_obj.name</span><br><span class="line">    <span class="built_in">print</span>(author_name)  <span class="comment"># tom1</span></span><br></pre></td></tr></table></figure>
<h4 id="7-小结">(7)小结</h4>
<ul>
<li>基于对象的反向查�?</li>
<li>什么时候需要加_set.all()
<ul>
<li>查询结果是多个的时候需要加</li>
</ul>
</li>
<li>一对一表关系不区分正反�?因为关系唯一</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正向查询：有外键字段向没有外键字段的表查 查询方式�?.字段�?</span></span><br><span class="line"><span class="comment"># 反向查询：没有外键字段向有外键字段的表查 查询方式�?.有外键字段的表明_set</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】联表查�">�?】联表查�?</h3>
<ul>
<li>基于双下划线的跨表查�?</li>
<li>联表查询就是将两张表合并在一起查询数�?</li>
</ul>
<h4 id="�-）查询tom1的手机号和作者的名字">�?）查询tom1的手机号和作者的名字</h4>
<ul>
<li>
<p>正向查询</p>
</li>
<li>
<p>使用双下划线（查询信息的表明__字段�?</p>
</li>
<li>
<p>查询到作者信息在.value.(需要查询信息的表__需要查询的字段,其他字段)</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询tom1的手机号和作者的名字</span></span><br><span class="line">   <span class="comment"># 正向查询</span></span><br><span class="line">   <span class="comment"># 作者和作者详情是一对一关系</span></span><br><span class="line">   name_phone = Author.objects.<span class="built_in">filter</span>(name=<span class="string">&quot;tom1&quot;</span>).values(</span><br><span class="line">       <span class="string">&quot;name&quot;</span>,</span><br><span class="line">       <span class="string">&quot;author_detail__phone&quot;</span></span><br><span class="line">   )</span><br><span class="line">   <span class="built_in">print</span>(name_phone)</span><br><span class="line">   <span class="comment"># &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;tom1&#x27;, &#x27;author_detail__phone&#x27;: &#x27;110&#x27;&#125;]&gt;</span></span><br><span class="line">   <span class="comment"># first：取到单个数�?</span></span><br><span class="line">   author_dict = name_phone.first()</span><br><span class="line">   <span class="built_in">print</span>(author_dict)  <span class="comment"># &#123;&#x27;name&#x27;: &#x27;tom1&#x27;, &#x27;author_detail__phone&#x27;: &#x27;110&#x27;&#125;</span></span><br><span class="line">   <span class="comment"># 取到名字</span></span><br><span class="line">   name = name_phone.first().get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">   <span class="built_in">print</span>(name)  <span class="comment"># tom1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>反向查询</li>
<li>先拿到详情，再用作者详情关联作者表，通过 __字段的方�?过滤出我们想要的指定数据</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询tom1的手机号和作者的名字</span></span><br><span class="line">    <span class="comment"># 反向查询</span></span><br><span class="line">    phone_name = AuthorDetail.objects.<span class="built_in">filter</span>(author__name=<span class="string">&quot;tom1&quot;</span>).values(</span><br><span class="line">        <span class="string">&quot;phone&quot;</span>,</span><br><span class="line">        <span class="string">&quot;author__name&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(phone_name)</span><br><span class="line">    <span class="comment"># &lt;QuerySet [&#123;&#x27;phone&#x27;: &#x27;110&#x27;, &#x27;author__name&#x27;: &#x27;tom1&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）查询书籍主键为1的出版社的名字和书的名字">�?）查询书籍主键为1的出版社的名字和书的名字</h4>
<ul>
<li>正向查询</li>
<li>先过滤出书籍ID�?的书籍对象，再去关联出版者表，利用__字段取�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询书籍主键�?的出版社的名字和书的名字</span></span><br><span class="line">    <span class="comment"># 正向查询</span></span><br><span class="line">    data = Book.objects.<span class="built_in">filter</span>(pk=<span class="number">1</span>).values(</span><br><span class="line">        <span class="string">&quot;title&quot;</span>,</span><br><span class="line">        <span class="string">&quot;publisher__name&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br><span class="line">    <span class="comment"># &lt;QuerySet [&#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;publisher__name&#x27;: &#x27;1出版�?&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>反向查询</li>
<li>先查询到指定出版社，再从出版社反向找到书籍名�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询书籍主键�?的出版社的名字和书的名字</span></span><br><span class="line">    <span class="comment"># 反向查询</span></span><br><span class="line">    data = Publisher.objects.<span class="built_in">filter</span>(book__id=<span class="number">1</span>).values(</span><br><span class="line">        <span class="string">&quot;name&quot;</span>,</span><br><span class="line">        <span class="string">&quot;book__title&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br><span class="line">    <span class="comment"># &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;1出版�?, &#x27;book__title&#x27;: &#x27;�?本书&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-查询书籍主键�-的作者的名字">(3)查询书籍主键�?的作者的名字</h4>
<ul>
<li>正向</li>
<li>先拿�?书籍主键ID�?的对象，再关联作者信息表，通过__字段取�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询书籍主键�?的作者的名字</span></span><br><span class="line">    data = Book.objects.<span class="built_in">filter</span>(pk=<span class="number">1</span>).values(</span><br><span class="line">        <span class="string">&quot;auther__name&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&#123;&#x27;auther__name&#x27;: &#x27;tom2&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>反向</li>
<li>先拿�?书籍ID�?的作者数据再去取作者的名字</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询书籍主键�?的作者的名字</span></span><br><span class="line">    data = Author.objects.<span class="built_in">filter</span>(book__id=<span class="number">1</span>).values(</span><br><span class="line">        <span class="string">&quot;name&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;tom2&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-查询书籍主键�-的作者的手机�">(4)查询书籍主键�?的作者的手机�?</h4>
<ul>
<li>跨越了三个表</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询书籍主键�?的作者的手机�?</span></span><br><span class="line">    data = Author.objects.<span class="built_in">filter</span>(book__id=<span class="number">1</span>).values(</span><br><span class="line">        <span class="string">&quot;author_detail__phone&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&#123;&#x27;author_detail__phone&#x27;: &#x27;120&#x27;&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）小�">�?）小�?</h4>
<ul>
<li>掌握了双下划线和正反向可以无限跨�?</li>
</ul>
<h2 id="【三】聚合函数（aggregate�">【三】聚合函数（aggregate�?</h2>
<ul>
<li>
<p>正常情况下我们需要进行分组才能进行聚合函数的运算</p>
</li>
<li>
<p>使用聚合函数时：利用关键字aggregate可以不分组进行某个字段的聚合函数</p>
</li>
</ul>
<h3 id="�-】引入聚合函�">�?】引入聚合函�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Max, Min, Sum, Count, Avg</span><br></pre></td></tr></table></figure>
<h3 id="�-】聚合函数案�">�?】聚合函数案�?</h3>
<ul>
<li>第一步需要先导入聚合函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Max, Min, Sum, Count, Avg</span><br></pre></td></tr></table></figure>
<h4 id="1-求所有书的平均价�">(1)求所有书的平均价�?</h4>
<ul>
<li>利用聚合函数不用分组就可以的到的结果的方法：aggregate</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 求所有书的平均数</span></span><br><span class="line">    <span class="keyword">from</span> django.db.models <span class="keyword">import</span> Sum, Avg</span><br><span class="line">    book_avg_price = Book.objects.aggregate(Avg(<span class="string">&quot;price&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(book_avg_price)</span><br><span class="line">    <span class="comment"># &#123;&#x27;price__avg&#x27;: Decimal(&#x27;60.000000&#x27;)&#125;</span></span><br><span class="line">    <span class="keyword">from</span> django.db.models <span class="keyword">import</span> Sum, Avg</span><br><span class="line">    book_avg_price = Book.objects.aggregate(Avg(<span class="string">&quot;price&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(book_avg_price)</span><br><span class="line">    <span class="comment"># &#123;&#x27;price__avg&#x27;: Decimal(&#x27;60.000000&#x27;)&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-一次性用很多方法">(2)一次性用很多方法</h4>
<ul>
<li>利用聚合函数不用分组就可以的到的结果的方法：aggregate</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Sum, Avg, Max, Min, Count</span><br><span class="line"></span><br><span class="line">    book_avg_price = Book.objects.aggregate(Avg(<span class="string">&quot;price&quot;</span>), Max(<span class="string">&quot;price&quot;</span>), Min(<span class="string">&quot;price&quot;</span>), Sum(<span class="string">&quot;price&quot;</span>), Count(<span class="string">&quot;price&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(book_avg_price)</span><br><span class="line">    <span class="comment"># &#123;&#x27;price__avg&#x27;: Decimal(&#x27;60.000000&#x27;), &#x27;price__max&#x27;: Decimal(&#x27;100.00&#x27;), &#x27;price__min&#x27;: Decimal(&#x27;20.00&#x27;), &#x27;price__sum&#x27;: Decimal(&#x27;300.00&#x27;), &#x27;price__count&#x27;: 5&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="【四】分组查询（关键字：annotate�">【四】分组查询（关键字：annotate�?</h2>
<h3 id="�-】引�">�?】引�?</h3>
<ul>
<li>按照指定条件对数据进行分�?</li>
</ul>
<h3 id="�-】分组查询语�">�?】分组查询语�?</h3>
<ul>
<li>models 后面跟的是什么，就是按什么分�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = models.Book.objects.annotate()</span><br></pre></td></tr></table></figure>
<h3 id="�-】案�">�?】案�?</h3>
<h4 id="�-）统计每一本书的作者个�">�?）统计每一本书的作者个�?</h4>
<ul>
<li>Book分组，然后计算作者的个数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Count, Avg, Max, Min, Sum</span><br><span class="line"><span class="keyword">from</span> user.models <span class="keyword">import</span> Book</span><br><span class="line">   <span class="comment"># 统计每一本书的作者个�?</span></span><br><span class="line">   <span class="comment"># 一定要看你的字段名写错了没，错了就会找不到数据</span></span><br><span class="line">   <span class="comment"># 获得分组后的对象</span></span><br><span class="line">   data = Book.objects.annotate(author_number=Count(<span class="string">&quot;auther&quot;</span>))</span><br><span class="line">   <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&lt;Book: Book object (1)&gt;, &lt;Book: Book object (2)&gt;, &lt;Book: Book object (15)&gt;, &lt;Book: Book object (16)&gt;, &lt;Book: Book object (17)&gt;]&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment"># 获得分组后的数据</span></span><br><span class="line">   data = Book.objects.annotate(author_number=Count(<span class="string">&quot;auther&quot;</span>)).values(</span><br><span class="line">       <span class="string">&quot;title&quot;</span>,</span><br><span class="line">       <span class="string">&quot;author_number&quot;</span></span><br><span class="line">   )</span><br><span class="line">   <span class="built_in">print</span>(data)</span><br><span class="line">   <span class="comment"># &lt;QuerySet [&#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 1&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 0&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 4&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 1&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 0&#125;]&gt;</span></span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   <span class="comment"># 等价�?</span></span><br><span class="line">    data = Book.objects.annotate(author_number=Count(<span class="string">&quot;auther__pk&quot;</span>)).values(</span><br><span class="line">       <span class="string">&quot;title&quot;</span>,</span><br><span class="line">       <span class="string">&quot;author_number&quot;</span></span><br><span class="line">   )</span><br><span class="line">   <span class="built_in">print</span>(data)</span><br><span class="line">   <span class="comment"># &lt;QuerySet [&#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 1&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 0&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 4&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 1&#125;, &#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;author_number&#x27;: 0&#125;]&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="�-）统计每个出版社最便宜的书的价�">�?）统计每个出版社最便宜的书的价�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Count, Avg, Max, Min, Sum</span><br><span class="line"><span class="keyword">from</span> user.models <span class="keyword">import</span>  Publisher</span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计每个出版社最便宜的书的价�?</span></span><br><span class="line">data = Publisher.objects.annotate(min_book_price=Min(<span class="string">&#x27;book__price&#x27;</span>)).values(</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">    <span class="string">&quot;min_book_price&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="comment"># &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;1出版�?, &#x27;min_book_price&#x27;: Decimal(&#x27;20.00&#x27;)&#125;, &#123;&#x27;name&#x27;: &#x27;4出版�?, &#x27;min_book_price&#x27;: Decimal(&#x27;40.00&#x27;)&#125;, &#123;&#x27;name&#x27;: &#x27;2出版�?, &#x27;min_book_price&#x27;: Decimal(&#x27;80.00&#x27;)&#125;, &#123;&#x27;name&#x27;: &#x27;3出版�?, &#x27;min_book_price&#x27;: Decimal(&#x27;100.00&#x27;)&#125;, &#123;&#x27;name&#x27;: &#x27;5出版�?, &#x27;min_book_price&#x27;: None&#125;]&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="�-）统计不止一个作者的图书">�?）统计不止一个作者的图书</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Count, Avg, Max, Min, Sum</span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> Book</span><br><span class="line">    <span class="comment"># 统计不止一个作者的图书</span></span><br><span class="line">    <span class="comment"># 先按图书分组</span></span><br><span class="line">    <span class="comment"># 再筛选不止一个作者的图书</span></span><br><span class="line">    data = Book.objects.annotate(one_author=Count(<span class="string">&quot;auther&quot;</span>)).<span class="built_in">filter</span>(one_author__gt=<span class="number">1</span>).values(</span><br><span class="line">        <span class="string">&quot;title&quot;</span>,</span><br><span class="line">        <span class="string">&quot;one_author&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&#123;&#x27;title&#x27;: &#x27;�?本书&#x27;, &#x27;one_author&#x27;: 4&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4-查询每个作者出的书总价�">(4)查询每个作者出的书总价�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Count, Avg, Max, Min, Sum</span><br><span class="line">    <span class="keyword">from</span> user.models <span class="keyword">import</span> Author</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 查询每个作者出的书总价�?</span></span><br><span class="line">    data = Author.objects.annotate(sum_book_price=Sum(<span class="string">&quot;book__price&quot;</span>)).values(</span><br><span class="line">        <span class="string">&quot;name&quot;</span>,</span><br><span class="line">        <span class="string">&quot;sum_book_price&quot;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br><span class="line">    <span class="comment"># &lt;QuerySet [&#123;&#x27;name&#x27;: &#x27;tom2&#x27;, &#x27;sum_book_price&#x27;: Decimal(&#x27;80.00&#x27;)&#125;, &#123;&#x27;name&#x27;: &#x27;tom1&#x27;, &#x27;sum_book_price&#x27;: Decimal(&#x27;60.00&#x27;)&#125;, &#123;&#x27;name&#x27;: &#x27;tom3&#x27;, &#x27;sum_book_price&#x27;: Decimal(&#x27;140.00&#x27;)&#125;, &#123;&#x27;name&#x27;: &#x27;tom4&#x27;, &#x27;sum_book_price&#x27;: Decimal(&#x27;60.00&#x27;)&#125;]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="5-小结">(5)小结</h4>
<ul>
<li>
<p>下面这个语法</p>
</li>
<li>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Book.objects.values(<span class="string">&#x27;price&#x27;</span>).annotate()</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如果annotate前面没东西，则会按照Book进行分组,如果前面有参数就会按照前面的参数’price’进行分组</p>
</li>
</ul>
<h2 id="【五】F和Q查询">【五】F和Q查询</h2>
<h3 id="�-】引�-2">�?】引�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> <span class="keyword">from</span> django.db.models <span class="keyword">import</span> F, Q</span><br></pre></td></tr></table></figure>
<h3 id="�-】F查询">�?】F查询</h3>
<ul>
<li>能够帮你获取到列表中的某个字段对应的数据</li>
<li>注意：在操作字符串类型的时候，F查询不能够直接做到字符串的拼�?</li>
</ul>
<h4 id="�-）查询库存数大于销量的书籍">�?）查询库存数大于销量的书籍</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># F 查询 : 帮助我们直接获取到表中的某个字段对应的数�?</span></span><br><span class="line">res = models.Book.objects.<span class="built_in">filter</span>(sales__gt=F(<span class="string">&#x27;stock&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(res)  <span class="comment"># &lt;QuerySet [&lt;Book: 水浒�?]&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）将所有的书籍价格提升100">�?）将所有的书籍价格提升100</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> user.models <span class="keyword">import</span> Book</span><br><span class="line">   <span class="keyword">from</span> django.db.models <span class="keyword">import</span> F</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 将所有的书籍价格提升100</span></span><br><span class="line">   data = Book.objects.update(price=F(<span class="string">&quot;price&quot;</span>) + <span class="number">100</span>)</span><br><span class="line">   <span class="built_in">print</span>(data)</span><br><span class="line">   <span class="comment"># 5</span></span><br><span class="line">   <span class="comment"># 代表更新�?条数�?</span></span><br></pre></td></tr></table></figure>
<h4 id="3-将所有的数据后面添加-nb">(3)将所有的数据后面添加_nb</h4>
<ul>
<li>
<p>Value 是一个用于在查询中插入静态值的类，这个值可以是任何Django支持的数据库数据类型</p>
<ul>
<li>
<pre><code class="language-python">from django.db.models import Value
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- Concat:在操作字符串的时候F查询不能直接操作字符串，需要引入这个方�?</span><br><span class="line"></span><br><span class="line">  - ````python</span><br><span class="line">    from django.db.models.functions import Concat</span><br><span class="line">    ````</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">from user.models import Book</span><br><span class="line">    from django.db.models import F</span><br><span class="line">    from django.db.models import Value</span><br><span class="line">    from django.db.models.functions import Concat</span><br><span class="line">    # 将所有的书籍后面添加_nb</span><br><span class="line">    # 在操作字符串的时候F查询不能直接操作字符串，需要引入一个方法，Concat</span><br><span class="line">    # Value：Value 是一个用于在查询中插入静态值的类，这个值可以是任何Django支持的数据库数据类型</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    data = Book.objects.update(title=Concat(F(&quot;title&quot;),Value(&#x27;_nb&#x27;)))</span><br><span class="line">    print(data)</span><br><span class="line">    # 5</span><br><span class="line">    # 更新�?条数�?</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="�-】Q查询">�?】Q查询</h3>
<ul>
<li>关键字filter()方法中的关键字参数查询都是一起进�?and’</li>
<li>如果你需要执行更复杂的查�?列如ORM语句)，你可以使用Q对象</li>
</ul>
<h4 id="1-查询卖出数大�-00或者价格小�-00的书�">(1)查询卖出数大�?00或者价格小�?00的书�?</h4>
<ul>
<li>直接使用 filter 查询数据，逗号隔开,里面放的参数�?and 关系</li>
<li>两个条件都必须符�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询卖出数大�?00或者价格小�?00的书�?</span></span><br><span class="line">    data = Book.objects.<span class="built_in">filter</span>(sales__gt=<span class="number">100</span>, price__lt=<span class="number">500</span>)</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br><span class="line">    <span class="comment"># &lt;QuerySet [&lt;Book: Book object (1)&gt;]&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>直接使用 Q 查询数据，逗号隔开,里面放的参数还是 and 关系
<ul>
<li>两个条件都必须成�?</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = Book.objects.<span class="built_in">filter</span>(Q(sales__gt=<span class="number">100</span>), Q(price__lt=<span class="number">500</span>))</span><br><span class="line">    <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&lt;Book: Book object (1)&gt;]&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>直接使用 Q 查询数据，逗号可以换成其他连接符达到效�?</p>
<ul>
<li>
<p>or：任一个条件符合即�?</p>
</li>
<li>
<p>关键字作为连接符，会阉割条件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = Book.objects.<span class="built_in">filter</span>(Q(sales__gt=<span class="number">100</span>) <span class="keyword">or</span> Q(price__lt=<span class="number">500</span>))</span><br><span class="line">    <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&lt;Book: Book object (1)&gt;]&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>|：或关系</p>
<ul>
<li>有一个成立就可以</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = Book.objects.<span class="built_in">filter</span>(Q(sales__gt=<span class="number">100</span>) | Q(price__lt=<span class="number">500</span>))</span><br><span class="line">    <span class="built_in">print</span>(data) <span class="comment"># &lt;QuerySet [&lt;Book: Book object (1)&gt;]&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="�-）Q的高阶用�">�?）Q的高阶用�?</h4>
<ul>
<li>
<p>能够将查询条件的左边也变�?字符串形�?</p>
</li>
<li>
<p>自己创造查询条�?</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Q</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 查询卖出数大�?00或者价格小�?00的书�?</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 生成Q对象</span></span><br><span class="line">    q = Q()</span><br><span class="line">    <span class="comment"># 创建Q对象的连接条�?</span></span><br><span class="line">    <span class="comment"># or：满足一个条件即�?</span></span><br><span class="line">    <span class="comment"># and: 两个条件都要满足</span></span><br><span class="line">    <span class="comment"># 默认是and关系</span></span><br><span class="line">    q.connector = <span class="string">&quot;or&quot;</span></span><br><span class="line">    <span class="comment"># 添加第一个加条件--&gt;左边</span></span><br><span class="line">    q.children.append((<span class="string">&quot;sales__gt&quot;</span>, <span class="number">100</span>))</span><br><span class="line">    <span class="comment"># 添加第二个加条件--&gt;右边</span></span><br><span class="line">    q.children.append((<span class="string">&quot;price__lt&quot;</span>, <span class="number">500</span>))</span><br><span class="line">    <span class="comment"># 查询</span></span><br><span class="line">    <span class="comment"># filter 除了可以放条�?还可以放对象</span></span><br><span class="line">    data = Book.objects.<span class="built_in">filter</span>(q)</span><br><span class="line">    <span class="built_in">print</span>(data)  <span class="comment"># &lt;QuerySet [&lt;Book: Book object (1)&gt;]&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>可以在去对象�?children里面 无限制的添加元素 添加元组，元组里两个元素</p>
</li>
<li>
<p>而且还支持修�?or 、and</p>
</li>
<li>
<p>默认是and</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 或查�?</span></span><br><span class="line">q = Q()</span><br><span class="line">q |= Q(条件一)</span><br><span class="line">q |= Q(条件�?</span><br><span class="line">qs = Model.objects.<span class="built_in">filter</span>(q)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 并查�?</span></span><br><span class="line">q = Q()</span><br><span class="line">q &amp;= Q(条件一)</span><br><span class="line">q &amp;= Q(条件�?</span><br><span class="line">qs = Model.objects.<span class="built_in">filter</span>(q)</span><br></pre></td></tr></table></figure>
<h1>Django中开启事�?</h1>
<h2 id="【一】ACID特�">【一】ACID特�?</h2>
<ul>
<li>原子性（Atomicity�?
<ul>
<li>事务被称为一个不可再分隔的原子操作单�?</li>
<li>要么全部操作成功并永久保存，要么全部操作失败并回滚到事务开始前的状态，不存在部分成功或部分失败的情�?</li>
</ul>
</li>
<li>一致性（Consistency�?
<ul>
<li>事务执行前后，数据库应保持一致的状�?</li>
<li>在事务开始之前和结束之后，数据库必须满足所有的完整性约束，如列级别的约束、外键关系等</li>
</ul>
</li>
<li>隔离性（Isolation�?
<ul>
<li>事务的执行结果对其他并发执行的事务是隔离�?</li>
<li>一个事务的执行不应受到其他事务的干扰，各个事务之间应该相互独立工作，从而避免数据的不一致�?</li>
</ul>
</li>
<li>持久性（Durability�?
<ul>
<li>一旦事务被提交，其结果应该永久保存在数据库中，并且可以被系统故障恢�?</li>
<li>即使系统发生宕机或崩溃，事务提交后的更改也应该是永久性的</li>
</ul>
</li>
</ul>
<h2 id="【二】事务名�">【二】事务名�?</h2>
<ul>
<li>开启事务：Start Transaction</li>
<li>事务结束：End Transaction</li>
<li>提交事务：Commit Transaction</li>
<li>回滚事务：Rollback Transaction</li>
</ul>
<h2 id="【三】默认事务行�">【三】默认事务行�?</h2>
<ul>
<li>Django是支持事务操作的，它的默认事务行为是自动提交</li>
<li>具体表现形式为：每次数据库操�?比如调用save()方法)会立即被提交到数据库�?</li>
<li>如果你希望把连续的SQL操作包裹在一个事务里，就需要手动开启事�?</li>
</ul>
<h2 id="【四】开启事�">【四】开启事�?</h2>
<h3 id="�-】开启全局事务">�?】开启全局事务</h3>
<ul>
<li>在settings.py中的数据库中配置</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="comment"># 手动创建数据�?</span></span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&quot;django_two&quot;</span>,</span><br><span class="line">        <span class="string">&quot;USER&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">        <span class="string">&quot;PASSWORD&quot;</span>: <span class="string">&quot;1234567&quot;</span>,</span><br><span class="line">        <span class="string">&quot;HOST&quot;</span>: <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;PORT&quot;</span>: <span class="number">3306</span>,</span><br><span class="line">        <span class="string">&quot;CHARSET&quot;</span>: <span class="string">&quot;utf8mb4&quot;</span>,</span><br><span class="line">        <span class="comment"># 开启全局事务，绑定的是http请求响应整个过程</span></span><br><span class="line">        <span class="string">&quot;ATOMIC_REQUESTS&quot;</span>: <span class="literal">True</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>解析
<ul>
<li>每当有请求过来时，Django会在调用视图方法前开启一个事务�?</li>
<li>如果完成了请求处理并正确返回了结果，Django就会提交该事务�?</li>
<li>否则，Django会回滚该事务</li>
</ul>
</li>
</ul>
<h3 id="�-】取消局部的事务">�?】取消局部的事务</h3>
<ul>
<li>方法就是，在你要取消事务的视图函数上写一个添加一个装饰器</li>
<li>首先导入一个方�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br></pre></td></tr></table></figure>
<ul>
<li>使用<code>@transactionnon_atomic_requests</code>装饰器让某些视图函数方法不受事务的控�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@transaction.non_atomic_requests</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">longin</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<ul>
<li>如有多个数据库，让使用otherdb的视图不受事务控�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@transaction.non_atomic_requests(<span class="params">using=<span class="string">&quot;otherdb&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">longin</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<ul>
<li>虽然全局开启事务很简单，但Django并不推荐开启全局事务�?</li>
<li>因为一旦将事务�?HTTP 请求绑定到一起时，每一个请求都会开启事务，当访问量增长到一定的时候会造成很大的性能损�?</li>
<li>推荐使用局部开启事�?</li>
</ul>
<h3 id="�-】局部开启事�">�?】局部开启事�?</h3>
<ul>
<li>借助一个方�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br></pre></td></tr></table></figure>
<ul>
<li>给视图函数添加装饰器</li>
</ul>
<h4 id="�-）在函数头上增加装饰�">�?）在函数头上增加装饰�?</h4>
<ul>
<li>第一步：引入Django内部的事务模�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br></pre></td></tr></table></figure>
<ul>
<li>第二部：在视图函数上添加装饰�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加局部开启事务装饰器</span></span><br><span class="line"><span class="meta">@transaction.non_atomic_requests</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">longin</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h4 id="�-）在类内部的函数头上增加装饰�">�?）在类内部的函数头上增加装饰�?</h4>
<ul>
<li>第一步：引入模块</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br></pre></td></tr></table></figure>
<ul>
<li>第二�?添加在类里面的函数头�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(<span class="title class_ inherited__">View</span>):</span><br><span class="line">    <span class="comment"># 添加局部开启事务装饰器</span></span><br><span class="line"><span class="meta">    @transaction.atomic</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request</span>):</span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self, request</span>):</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<h4 id="�-）自定义事务�-–-Savepoint回滚">�?）自定义事务�?–&gt;<strong>Savepoint回滚</strong></h4>
<ul>
<li>自己设定开启事务的�?</li>
<li>一旦发生异常或错误，我们使用savepoint_rollback方法让程序回滚到指定的保存点</li>
<li>如果没有问题，就使用savepoint_commit方法提交事务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">longin</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 开启事�?</span></span><br><span class="line">    <span class="keyword">with</span> transaction.atomic():</span><br><span class="line">        <span class="comment"># 记录事务起点</span></span><br><span class="line">        sid = transaction.savepoint()</span><br><span class="line">        <span class="comment"># 异常捕获</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment">#执行你的代码</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="comment"># 进行事务的回�?</span></span><br><span class="line">            transaction.savepoint_rollback(sid)</span><br><span class="line">        <span class="comment"># 没有发生错误就提交事�?</span></span><br><span class="line">        transaction.savepoint_commit(sid)</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h4 id="4-事务提交后回调函�">(4)事务提交后回调函�?</h4>
<ul>
<li>意思就是：当前事务提交后立即执行额外的任务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># �?</span></span><br><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_something</span>():</span><br><span class="line">  <span class="keyword">pass</span>  <span class="comment"># send a mail, invalidate a cache, fire off a Celery task, etc.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">transaction.on_commit(do_something)</span><br></pre></td></tr></table></figure>
<h1>字段及字段参数的补充</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># 【一】CharField 字符串类�?</span></span><br><span class="line"><span class="comment"># max_length 规定字符串的长度</span></span><br><span class="line"><span class="comment"># models.CharField(max_length=25)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【二】IntegerField 整数类型</span></span><br><span class="line"><span class="comment"># 只能放数字类�?</span></span><br><span class="line"><span class="comment"># 用数字表�?支付方式 微信 支付�?花呗 ...</span></span><br><span class="line"><span class="comment"># 用数字代表字符串</span></span><br><span class="line"><span class="comment"># models.IntegerField(choices=((1, &quot;微信&quot;), (2, &quot;支付�?), (3, &quot;花呗&quot;)))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【三】BooleanField 布尔值类�?</span></span><br><span class="line"><span class="comment"># 可以�?0 / 1 也可以放 True / False</span></span><br><span class="line"><span class="comment"># models.BooleanField()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【四】EmailField 邮箱</span></span><br><span class="line"><span class="comment"># 必须符合邮箱格式才能被存进去</span></span><br><span class="line"><span class="comment"># models.EmailField()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【五】TextField 大文本字�?</span></span><br><span class="line"><span class="comment"># 大量的文�?</span></span><br><span class="line"><span class="comment"># models.TextField()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【六】AutoField 自动生成id</span></span><br><span class="line"><span class="comment"># models.AutoField()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【七】DateTimeField 时间日期</span></span><br><span class="line"><span class="comment"># auto_now 第一次创建的时候的时间</span></span><br><span class="line"><span class="comment"># auto_now_add 以后每次更新的时候的时间</span></span><br><span class="line"><span class="comment"># models.DateTimeField(</span></span><br><span class="line"><span class="comment">#     auto_now=True,</span></span><br><span class="line"><span class="comment">#     auto_now_add=True</span></span><br><span class="line"><span class="comment"># )</span></span><br><span class="line"><span class="comment"># models.DateField()</span></span><br><span class="line"><span class="comment"># models.TimeField()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># �?】FileField 文件数据</span></span><br><span class="line"><span class="comment"># models.FileField()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># �?】ImageField 图片数据</span></span><br><span class="line"><span class="comment"># models.ImageField()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># �?0】外键关系字�?</span></span><br><span class="line"><span class="comment"># 一对多关系</span></span><br><span class="line"><span class="comment"># models.ForeignKey()</span></span><br><span class="line"><span class="comment"># 一对一关系</span></span><br><span class="line"><span class="comment"># models.OneToOneField()</span></span><br><span class="line"><span class="comment"># 多对多关�?</span></span><br><span class="line"><span class="comment"># models.ManyToManyField()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【二】字段参�?</span></span><br><span class="line"><span class="comment"># default 默认�?</span></span><br><span class="line"><span class="comment"># null 是否为空</span></span><br><span class="line"><span class="comment"># blank 是否为空 从admin后台插入数据逇时候是否可以为�?</span></span><br><span class="line"><span class="comment"># unique 是否唯一</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 【三】自己看 数据库字段优�?defer / only</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/14.0Django%E6%A1%86%E6%9E%B6%E4%B9%8BCookie%E5%92%8CSession.m/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/14.0Django%E6%A1%86%E6%9E%B6%E4%B9%8BCookie%E5%92%8CSession.m/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-14-0Django���֮Cookie��Session-mdate-2023-01-01categories-Blogtags-Blog">title: 14.0Django���֮Cookie��Session.m<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Django框架之Cookie和Session</h1>
<h2 id="【一】Cookie和Session的发展史">【一】Cookie和Session的发展史</h2>
<h3 id="�-】Cookie">�?】Cookie</h3>
<p>1994年，网景通信公司推出了第一个浏览器Cookie技�?</p>
<ul>
<li>Cookie是储存在用户计算机上的小型文本文件，用于跟踪在网站上的活�?</li>
<li>初始版的Cookie只能存储很少的数据，并且没有很强的加密机制，容易被人恶意修改和窃�?</li>
</ul>
<h3 id="�-】Session">�?】Session</h3>
<p>1997年，Sun Microsystems提出了基于服务器的会话管理方案，即Session</p>
<ul>
<li>Cookie存在的局限性，Web开发人员开始寻找更安全、可靠的替代方案</li>
<li>Session是服务器存储用户会话数据的一种技�?</li>
<li>每当访问数据时，服务器会为其创建一个唯一的Session标识符（Session ID），并将会话数据存储在服务器�?</li>
<li>Session ID一般通过Cookie或URL参数传递给客户端，用于识别用户的会话状�?</li>
</ul>
<h3 id="�-】Coookie和Session两者之间的关系">�?】Coookie和Session两者之间的关系</h3>
<ul>
<li>
<p>在实际应用中，Cookie和Session通常结合使用。当用户首次访问网站时，服务器会为其分配一个唯一的Session ID，并将其存储在Cookie中，发送给客户端保�?</p>
</li>
<li>
<p>随后，客户端在每次请求中都会携带该Cookie，服务器通过解析Cookie中的Session ID，读取对应的会话数据，实现用户状态的跟踪和管�?</p>
</li>
</ul>
<h3 id="�-】总结">�?】总结</h3>
<ul>
<li>Cookie和Session是Web应用程序中常用的用户会话跟踪技术�?</li>
<li>Cookie通过在客户端存储小型文本文件，并将会话标识符传递给服务器，实现会话状态的保持�?</li>
<li>而Session则是在服务器端存储会话数据，通过Session ID实现对用户会话的追踪�?</li>
<li>它们的发展历程与互联网的发展紧密相关，为开发人员提供了更多的选择，以保障安全性和用户体验的提�?</li>
</ul>
<h2 id="【二】Cookie和Session的介�">【二】Cookie和Session的介�?</h2>
<h3 id="�-】Cookie-2">�?】Cookie</h3>
<ul>
<li>服务端保存在客户端浏览器上的信息都可以称之为Cookie</li>
<li>指代服务端让客户端保存的数据(存储在客户端上与用户信息相关的数�?</li>
<li>表现格式一般为k:v键值对，可以有多个</li>
</ul>
<h3 id="�-】Session-2">�?】Session</h3>
<ul>
<li>
<p>保存在服务端上的数据都可以叫做Session</p>
</li>
<li>
<p>指代服务端保存的跟用户信息相关的数据</p>
</li>
<li>
<p>表现格式一般为k:v键值对，可以有多个</p>
</li>
</ul>
<h3 id="�-】token">�?】token</h3>
<ul>
<li>
<p>session虽然数据是保存在服务端的，但是挡不住数据量大</p>
</li>
<li>
<p>解决办法：服务端不再保存数据</p>
</li>
<li>
<ul>
<li>登陆成功之后，将一段信息加密处�?用自己独特的加密方式进行加密)</li>
</ul>
</li>
<li>
<p>将加密之后的结果拼接在信息后面，整体返回给浏览器保存</p>
</li>
<li>
<p>浏览器下次访问的时候带着该信息，服务端自动切取前面的一段信息再次使用自己的加密算法进行加密</p>
</li>
<li>
<p>然后用这段密文与携带过来的密文进行比�?</p>
</li>
</ul>
<h3 id="�-】总结-2">�?】总结</h3>
<ul>
<li>cookie就是保存在客户端浏览器上的信�?</li>
<li>session就是保存在服务端的数据库中的</li>
<li>session是基于cookie工作�?其实大部分的保存用户状态的操作都需要使用cookie)</li>
</ul>
<h2 id="【三】Django操作Cookie">【三】Django操作Cookie</h2>
<h3 id="�-】操作Cookie返回的三板斧对象有所改变">�?】操作Cookie返回的三板斧对象有所改变</h3>
<ul>
<li>返回的三板斧数据要被赋值返�?</li>
<li>操作Cookie就要</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">obj1 = render()</span><br><span class="line"><span class="keyword">return</span> obj1</span><br><span class="line"></span><br><span class="line">obj2 = HttpResponse()</span><br><span class="line"><span class="keyword">return</span> obj2</span><br><span class="line"></span><br><span class="line">obj3 = redirect()</span><br><span class="line"><span class="keyword">return</span> obj3</span><br></pre></td></tr></table></figure>
<h3 id="�-】设置Cookie">�?】设置Cookie</h3>
<h4 id="�-）案例：用户登入以后才可以进入浏览器页面">�?）案例：用户登入以后才可以进入浏览器页面</h4>
<ul>
<li>设置Cookie</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置coookie</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="comment"># 我们把值设置死�?</span></span><br><span class="line">        <span class="keyword">if</span> username != <span class="string">&quot;tom&quot;</span> <span class="keyword">or</span> password != <span class="string">&quot;710&quot;</span>:</span><br><span class="line">            <span class="comment"># 不对的话再次返回登入页面</span></span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">        <span class="comment"># 如果登入成功，保存登入的Cookie状�?</span></span><br><span class="line">        <span class="comment"># 创建三板斧对象并赋�?</span></span><br><span class="line">        login_obj = redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">        <span class="comment"># print(login_obj)</span></span><br><span class="line">        <span class="comment"># 设置Cookie信息</span></span><br><span class="line">        <span class="comment"># 里面的参数是k:v</span></span><br><span class="line">        <span class="comment"># login_obj.set_cookie(&#x27;sign&#x27;, &#x27;555&#x27;)</span></span><br><span class="line">        <span class="built_in">print</span>(login_obj.set_cookie(<span class="string">&#x27;sign&#x27;</span>, <span class="string">&#x27;555&#x27;</span>))</span><br><span class="line">        <span class="comment"># 最后记得返回的是你将三板斧赋值的对象</span></span><br><span class="line">        <span class="keyword">return</span> login_obj</span><br><span class="line">    obj = render(request, <span class="string">&#x27;login.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line">    <span class="keyword">return</span> obj</span><br></pre></td></tr></table></figure>
<ul>
<li>获取Cookie
<ul>
<li>能获得Cookie的信息，代表已经登入</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取cookie</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    cookie = request.COOKIES.get(<span class="string">&#x27;sign&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> cookie == <span class="string">&#x27;555&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&#x27;index.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>删除Cookie
<ul>
<li>�?点击退出按钮，进入到清除cookie的函数里，清除cookie信息</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除cookie</span></span><br><span class="line"><span class="comment"># 清除电脑上刚签发的Cookie</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">logout</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 退出之�?</span></span><br><span class="line">    obj = redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">    <span class="comment"># 删除Cookie,把你定义的cookie信息删除</span></span><br><span class="line">    obj.delete_cookie(<span class="string">&#x27;sign&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> obj</span><br></pre></td></tr></table></figure>
<ul>
<li>进入的主页面</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;home.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<ul>
<li>前端页面</li>
<li>主页面home.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;```(妯℃澘鏍囩)```&quot;</span>&gt;</span>点击登入<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;```(妯℃澘鏍囩)```&quot;</span>&gt;</span>登入之后进入首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;```(妯℃澘鏍囩)```&quot;</span>&gt;</span>点击退出登�?/a&gt;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>首页index.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是首页index<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>登入页面login.html</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=<span class="string">&quot;&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;p&gt;username:&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;password:&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;submit&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="http://xn--urls-u65j293j.py">路由urls.py</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> user.views <span class="keyword">import</span> index, login, home, logout</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&#x27;login/&#x27;</span>, login, name=<span class="string">&#x27;login&#x27;</span>),</span><br><span class="line">    path(<span class="string">&#x27;logout/&#x27;</span>, logout, name=<span class="string">&#x27;logout&#x27;</span>),</span><br><span class="line">    path(<span class="string">&#x27;index/&#x27;</span>, index, name=<span class="string">&#x27;index&#x27;</span>),</span><br><span class="line">    path(<span class="string">&#x27;&#x27;</span>, home, name=<span class="string">&#x27;home&#x27;</span>)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="�-】Cookie的方法介�">�?】Cookie的方法介�?</h3>
<h4 id="�-）key-设置Cookie的键">�?）key:设置Cookie的键</h4>
<ul>
<li>sign就是�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login_obj.set_cookie(<span class="string">&#x27;sign&#x27;</span>, <span class="string">&#x27;555&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="2-value：设置Cookie的�">(2)value：设置Cookie的�?</h4>
<ul>
<li>555就是�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login_obj.set_cookie(<span class="string">&#x27;sign&#x27;</span>, <span class="string">&#x27;555&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）max-age：Cookie设置的键值多久时间过�">�?）max_age：Cookie设置的键值多久时间过�?</h4>
<ul>
<li>max_age=5�?秒后过期�?秒后重新登入</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login_obj.set_cookie(<span class="string">&#x27;sign&#x27;</span>, <span class="string">&#x27;555&#x27;</span>, max_age=<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）expires：也是过期时�">�?）expires：也是过期时�?</h4>
<ul>
<li>针对于IE浏览�?</li>
<li>以秒为单�?</li>
</ul>
<h4 id="�-）domain：域�">�?）domain：域�?</h4>
<h4 id="�-）path：路�">�?）path：路�?</h4>
<h4 id="�-）secure：安全组策略">�?）secure：安全组策略</h4>
<h4 id="�-）httponly：只限制�-HTTP-请求">�?）httponly：只限制�?HTTP 请求</h4>
<h3 id="�-】增加装饰器">�?】增加装饰器</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="comment"># 我们把值设置死�?</span></span><br><span class="line">        <span class="keyword">if</span> username != <span class="string">&quot;tom&quot;</span> <span class="keyword">or</span> password != <span class="string">&quot;710&quot;</span>:</span><br><span class="line">            <span class="comment"># 不对的话再次返回登入页面</span></span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">        <span class="comment"># 如果登入成功，保存登入的Cookie状�?</span></span><br><span class="line">        <span class="comment"># 创建三板斧对象并赋�?</span></span><br><span class="line">        login_obj = redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">        <span class="comment"># print(login_obj)</span></span><br><span class="line">        <span class="comment"># 设置Cookie信息</span></span><br><span class="line">        <span class="comment"># 里面的参数是k:v</span></span><br><span class="line">        <span class="comment"># login_obj.set_cookie(&#x27;sign&#x27;, &#x27;555&#x27;)</span></span><br><span class="line">        <span class="built_in">print</span>(login_obj.set_cookie(<span class="string">&#x27;sign&#x27;</span>, <span class="string">&#x27;555&#x27;</span>))</span><br><span class="line">        <span class="comment"># 最后记得返回的是你将三板斧赋值的对象</span></span><br><span class="line">        <span class="keyword">return</span> login_obj</span><br><span class="line">    obj = render(request, <span class="string">&#x27;login.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outer</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">request, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># 校验是否已经的登入过</span></span><br><span class="line">        <span class="comment"># tag_url = request.get_full_path()</span></span><br><span class="line">        <span class="built_in">print</span>(request)  <span class="comment"># &lt;WSGIRequest: GET &#x27;/index/&#x27;&gt;</span></span><br><span class="line">        <span class="built_in">print</span>(func)  <span class="comment"># &lt;function index at 0x000002359ACA7910&gt;</span></span><br><span class="line">        <span class="comment"># print(f&#x27;outer装饰�?---》&#123;tag_url&#125;&#x27;)</span></span><br><span class="line">        <span class="comment"># outer装饰�?---�?index/</span></span><br><span class="line">        <span class="keyword">if</span> request.COOKIES.get(<span class="string">&#x27;sign&#x27;</span>) == <span class="string">&#x27;555&#x27;</span>:</span><br><span class="line">            res = func(request, *args, **kwargs)</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取cookie</span></span><br><span class="line"><span class="meta">@outer</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    obj = render(request, <span class="string">&#x27;index.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line">    <span class="keyword">return</span> obj</span><br></pre></td></tr></table></figure>
<h2 id="【四】Django操作Session">【四】Django操作Session</h2>
<ul>
<li>
<p>session数据是保存在服务端的，就是保存到数据库中，给客户端返回的是一个随机字符串</p>
</li>
<li>
<p>sessionid：随机字符串</p>
</li>
<li>
<p><strong>首先，操作Session的前提是要迁移数据库</strong></p>
</li>
</ul>
<h3 id="�-】设置Session，案�">�?】设置Session，案�?</h3>
<h4 id="1-案例：用户登入以后才可以进入浏览器页�">(1)案例：用户登入以后才可以进入浏览器页�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect, reverse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;home.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置coookie</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="comment"># 我们把值设置死�?</span></span><br><span class="line">        <span class="keyword">if</span> username != <span class="string">&quot;tom&quot;</span> <span class="keyword">or</span> password != <span class="string">&quot;710&quot;</span>:</span><br><span class="line">            <span class="comment"># 不对的话再次返回登入页面</span></span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">        <span class="comment"># 登入成功---》储存登入的状�?</span></span><br><span class="line">        request.session[<span class="string">&#x27;sign&#x27;</span>] = <span class="string">&#x27;555&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;login.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    session = request.session.get(<span class="string">&#x27;sign&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(session)  <span class="comment"># 555</span></span><br><span class="line">    <span class="keyword">if</span> session == <span class="string">&#x27;555&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&#x27;index.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除cookie</span></span><br><span class="line"><span class="comment"># 清除电脑上刚签发的Cookie</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">logout</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 完全退出浏览器--清除掉你刚才签发的session</span></span><br><span class="line">    <span class="comment"># Django会帮助你自动�?Django-session表中�?sessionid 对应的数据删除掉</span></span><br><span class="line">    <span class="comment"># 但是浏览器还会就看到 session �?但是那个串没有用</span></span><br><span class="line">    request.session.delete()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 实现服务端和客户端都删除</span></span><br><span class="line">    request.session.flush()</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;home.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-】session的方法介�">�?】session的方法介�?</h3>
<h4 id="�-）request-session-sign-555">�?）<code>request.session['sign'] = '555'</code></h4>
<ul>
<li>储存数据的状�?</li>
<li>并且数据库的session会多一条数据，保存的数据是一�?</li>
</ul>
<h4 id="�-）session-request-session-get-sign">�?）<code>session = request.session.get('sign')</code></h4>
<ul>
<li>获取到你签发的�?</li>
</ul>
<h4 id="�-）request-session-delete">�?）<code>request.session.delete()</code></h4>
<ul>
<li>
<p>完全退出浏览器–清除掉你刚才签发的session</p>
</li>
<li>
<p>删除签发数据，并将数据库里面的数据一并删�?</p>
</li>
</ul>
<h4 id="�-）request-session-flush">�?）<code>request.session.flush()</code></h4>
<ul>
<li>
<p>服务端和客户端都删除</p>
</li>
<li>
<p>该方法用于完全删除当前用户的Session，包括Session对象和所有相关数�?</p>
</li>
</ul>
<h4 id="�-）request-session-set-expiry-value">�?）<code>request.session.set_expiry(value)</code></h4>
<ul>
<li>
<p>设置过期时间</p>
</li>
<li>
<p>如果value是个整数，session会在些秒数后失效</p>
</li>
<li>
<p>如果value是个datatime或timedelta，session就会在这个时间后失效</p>
</li>
<li>
<p>如果value�?,用户关闭浏览器session就会失效</p>
</li>
<li>
<p>如果value是None,session会依赖全局session失效策略</p>
</li>
<li>
<p>参数</p>
</li>
<li>
<ul>
<li>整数</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>多少秒过�?</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>日期对象</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>到指定日期失�?</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>0</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>一旦退出当前浏览器窗口就失�?</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>不写</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>失效时间取决于Django内部全局session失效的时�?</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Django默认的session失效时间�?4�?</p>
<h3 id="【session的装饰器�">【session的装饰器�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect, reverse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">home</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;home.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_cookie</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> username == <span class="string">&quot;admin&quot;</span> <span class="keyword">and</span> password == <span class="string">&quot;123456&quot;</span>:</span><br><span class="line">            <span class="comment"># �?】获取三板斧对象</span></span><br><span class="line">            response = redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">            <span class="comment"># �?】向三板斧对象中设置 Cookie</span></span><br><span class="line">            <span class="comment"># max_age : 过期时间 s</span></span><br><span class="line">            response.set_cookie(<span class="string">&quot;sign&quot;</span>, <span class="string">f&quot;666&quot;</span>)</span><br><span class="line">            <span class="comment"># �?】将三板斧对象返�?</span></span><br><span class="line">            <span class="keyword">return</span> response</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login_cookie.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_session</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">        password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> username == <span class="string">&quot;admin&quot;</span> <span class="keyword">and</span> password == <span class="string">&quot;123456&quot;</span>:</span><br><span class="line">            <span class="comment"># 使用session的前提是先要迁移数据�?---&gt; django-session ---&gt; 存session</span></span><br><span class="line">            <span class="comment"># �?】设�?session</span></span><br><span class="line">            request.session[<span class="string">&quot;sign&quot;</span>] = <span class="string">f&quot;666&quot;</span></span><br><span class="line">            <span class="comment"># �?】重定向到首�?</span></span><br><span class="line">            <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;login_session.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">logout_cookie</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 删除cookie删除cookie</span></span><br><span class="line">    response = redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">    response.delete_cookie(<span class="string">&quot;sign&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">logout_session</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 删除session</span></span><br><span class="line">    request.session.delete()  <span class="comment"># 只能清除�?数据库中的session 清除不掉前端�?session</span></span><br><span class="line">    <span class="comment"># 删除客户端和服务端的session</span></span><br><span class="line">    request.session.flush()</span><br><span class="line">    <span class="keyword">return</span> redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 做一�?Cookie的登录认证装饰器</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decorator_login</span>(<span class="params">tag</span>):</span><br><span class="line">    <span class="keyword">if</span> tag == <span class="string">&quot;cookie&quot;</span>:</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">outer</span>(<span class="params">func</span>):</span><br><span class="line">            <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">request, *args, **kwargs</span>):</span><br><span class="line">                cookie_data = request.COOKIES.get(<span class="string">&quot;sign&quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> cookie_data == <span class="string">&quot;666&quot;</span>:</span><br><span class="line">                    response = func(request, *args, **kwargs)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    response = redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">                <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> outer</span><br><span class="line">    <span class="keyword">elif</span> tag == <span class="string">&quot;session&quot;</span>:</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">outer</span>(<span class="params">func</span>):</span><br><span class="line">            <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">request, *args, **kwargs</span>):</span><br><span class="line">                session_data = request.session.get(<span class="string">&quot;sign&quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> session_data == <span class="string">&quot;666&quot;</span>:</span><br><span class="line">                    response = func(request, *args, **kwargs)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    response = redirect(reverse(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">                <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> outer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@decorator_login(<span class="params">tag=<span class="string">&quot;cookie&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index_cookie</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;index_cookie.html&quot;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@decorator_login(<span class="params">tag=<span class="string">&quot;session&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index_session</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;index_session.html&quot;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h2 id="【源码解析�">【源码解析�?</h2>
<ul>
<li>
<p><em>request</em>.session[‘sign’] = &quot;555&quot;内部发生了哪些事</p>
<ul>
<li>Django内部会帮我们自动生成一个随机字符串</li>
<li>Django内部会将随机字符串和对应的数据存储到django_sessoin表中</li>
<li>
<ul>
<li>
<ul>
<li>先在内存中产生操作数据的内存</li>
<li>在响应经过Django中间件的时候才去操作数据数据库</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>将产生的随机字符串返回给和客户端浏览器保�?</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>request.session.get(“sign”)内部发生了哪些事</p>
</li>
<li>
<ul>
<li>自动从浏览器请求中获�?sessionid 对应的随机字符串</li>
<li>根据该随机字符串去django_session表中查找对应的数�?</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>如果匹配成功，则将对应的数据取出并以字典的形式封装到request.session�?</li>
<li>如果匹配不成功，则request.session中的数据为None</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="【注意�">【注意�?</h2>
<ul>
<li>
<p>使用session之前一定先迁移数据�?</p>
<ul>
<li>因为使用session,Django会讲数据自动保存到数据库的django_sessoin表中</li>
</ul>
</li>
<li>
<p>设置多个同名的session</p>
<ul>
<li>
<p>使用的是最后一个session</p>
</li>
<li>
<p>得到的也是最后一�?</p>
</li>
<li>
<pre><code class="language-python"># 设置很多同名�?session ---&gt; 拿到哪一个session
        # 拿到的是最后的一�?session�?
         request.session[&quot;sign&quot;] = &quot;888&quot;
         request.session[&quot;sign&quot;] = &quot;999&quot;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 设置不同名的多个 session  ---&gt; 拿到哪一个session</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">      # 获取指定键的时候能够获取到指定的�?</span><br><span class="line">       request.session[&quot;sign_one&quot;] = &quot;888&quot;</span><br><span class="line">       request.session[&quot;sign_two&quot;] = &quot;999&quot;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
<li>
<p>使用cookie�?</p>
<ul>
<li>return 出去的一定不能是三板斧，讲三板斧赋值返回出�</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/2.0Django%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/2.0Django%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-2-0Django��װdate-2023-01-01categories-Blogtags-Blog">title: 2.0Django��װ<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Django安装</h1>
<h2 id="【一】建�">【一】建�?</h2>
<ul>
<li>首先要知道自己的环境变量</li>
<li>区分我们现在的python版本
<ul>
<li>根据你在环境变量里面python解释器的定义顺序决定�?</li>
<li>那个解释器在上默认就是那个解释器</li>
</ul>
</li>
<li>默认是那个解释器pip安装<code>Django</code>就安装在那个解释器上</li>
<li><code>pip install django</code></li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617194848746.png" alt="image-20240617194848746"></p>
<h2 id="【二】安装Django注意事项">【二】安装Django注意事项</h2>
<ul>
<li>安装Django的时候，计算机名称不建议设置成中�?</li>
<li>python解释器不同可能会引起报错</li>
<li>Django项目名和路径名不能出现中�?—&gt;****</li>
<li>一个Django项目是一个单独的项目----&gt;****
<ul>
<li>不要出现其他无关紧要的文件或文件夹，都不可以</li>
</ul>
</li>
</ul>
<h2 id="【三】Django安装">【三】Django安装</h2>
<h3 id="�-】安装命�">�?】安装命�?</h3>
<ul>
<li>直接<code>insatall</code>回安装最新版本的<code>Django</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django</span><br></pre></td></tr></table></figure>
<ul>
<li>查看所有的<code>Django</code>版本信息</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django==</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617200314336.png" alt="image-20240617200314336"></p>
<ul>
<li>安装指定的<code>Django</code>的版�?</li>
<li>比如你安装的有<code>Django</code>它会自动把你的删掉，然后把你指定的下载上</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django==3.2.12</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617200330468.png" alt="image-20240617200330468"></p>
<ul>
<li>下载好以后会提示你安装到了那个python解释器身上了</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Requirement already satisfied: pytz in d:\pycharm\python310\lib\site-packages (from django==3.2.12) (2024.1)</span><br></pre></td></tr></table></figure>
<h2 id="【四】如何验�">【四】如何验�?</h2>
<ul>
<li>下面这句话代表安装成�?</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Successfully installed asgiref-3.8.1 django-3.2.12 pytz-2024.1 sqlparse-0.5.0 typing-extensions-4.12.2</span><br></pre></td></tr></table></figure>
<h3 id="�-】命令行">�?】命令行</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617201117322.png" alt="image-20240617201117322"></p>
<h3 id="�-】直接去指定的文件目录下�">�?】直接去指定的文件目录下�?</h3>
<ul>
<li>在python解释器下的Scripts文件夹下</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617201545725.png" alt="image-20240617201545725"></p>
<h2 id="【五】使用Django创建项目">【五】使用Django创建项目</h2>
<h3 id="�-】命令行创建">�?】命令行创建</h3>
<h4 id="�-）创建目�">�?）创建目�?</h4>
<ul>
<li>创建步骤看下�?</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject 项目�?</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">django-admin startproject first-django</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617202357023.png" alt="image-20240617202357023"></p>
<ul>
<li>弹出一个框，输入cmd，回�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617202440933.png" alt="image-20240617202440933"></p>
<ul>
<li>进入cmd命令窗口，然后输入<code>pip install  starproject fisrt_django</code></li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617202752116.png" alt="image-20240617202752116"></p>
<ul>
<li>创建成功</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617202814424.png" alt="image-20240617202814424"></p>
<h4 id="�-）解释创建的fisrt-django文件夹的解释">�?）解释创建的<code>fisrt_django</code>文件夹的解释</h4>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617203001706.png" alt="image-20240617203001706"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617203013755.png" alt="image-20240617203013755"></p>
<ul>
<li>用<code>pycharm</code>软件打开创建好的文件夹，新窗口打开</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617115555576-17186276759811.png" alt="image-20240617115555576"></p>
<h4 id="3-APP-应用">(3)APP(应用)</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Django框架就相当于一个大�? 大学</span><br><span class="line">在大学里面开设很多个专业  养猪</span><br><span class="line">专业下面又有很多单位和相应功�?老师 学生</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Django框架 电商平台的后�?</span><br><span class="line">商品业务 商品信息 添加商品 删除商品 修改商品 ...</span><br><span class="line">订单业务 订单信息 支付订单 订单超时 ...</span><br><span class="line">用户业务 用户自己的数据库信息 登陆/ 注册 / 下单 ...</span><br></pre></td></tr></table></figure>
<ul>
<li><code>cd</code>到你创建好的<code>django</code>文件夹里，首先你要在这个文件夹的终端里面</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd fisrt_django</span><br><span class="line"></span><br><span class="line">python manage.py startapp app名字</span><br><span class="line"></span><br><span class="line">python manage.py startapp user</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617204447523.png" alt="image-20240617204447523"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617120247458.png" alt="image-20240617120247458"></p>
<h4 id="�-）启动Django项目">�?）启动Django项目</h4>
<ul>
<li>前提是你要确保你在创建好的django文件夹下</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617204857698.png" alt="image-20240617204857698"></p>
<ul>
<li>代表启动成功</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617204847771.png" alt="image-20240617204847771"></p>
<h4 id="�-）指定IP和端�">�?）指定IP和端�?</h4>
<ul>
<li>直接指定端口</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver 127.0.0.1:9000</span><br></pre></td></tr></table></figure>
<h3 id="�-】通过pycharm创建">�?】通过pycharm创建</h3>
<h4 id="�-）创建项�">�?）创建项�?</h4>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617120941219.png" alt="image-20240617120941219"></p>
<ul>
<li>创建成功</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617205859056.png" alt="image-20240617205859056"></p>
<h4 id="2-创建APP">(2)创建APP</h4>
<ul>
<li>直接用命令行创建</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617210045846.png" alt="image-20240617210045846"></p>
<ul>
<li>方式�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617210206964.png" alt="image-20240617210206964"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617210239974.png" alt="image-20240617210239974"></p>
<h4 id="�-）指定启动IP">�?）指定启动IP</h4>
<ul>
<li>打开�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617210750051.png" alt="image-20240617210750051"></p>
<ul>
<li>输入ip</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240617121427129.png" alt="image-20240617121427129"></p>
<h4 id="�-）两个错�">�?）两个错�?</h4>
<ul>
<li>一个是没有启动Django支持</li>
<li>一个是没有选择Django项目根路径及配置文件</li>
</ul>
<h3 id="�-】注册APP使用APP">�?】注册<code>APP</code>使用<code>APP</code></h3>
<h4 id="�-）注册APP">�?）注册<code>APP</code></h4>
<ul>
<li><code>settings.py</code>
<ul>
<li>在<code>pycharm</code>里面创建的<code>app</code>自动注册<code>app</code></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="string">&quot;user1.apps.User1Config&quot;</span></span><br><span class="line">    <span class="comment"># 必须注册app才能使用app</span></span><br><span class="line">    <span class="string">&#x27;user&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h4 id="2-使用app">(2)使用app</h4>
<ul>
<li>第一�?前提是注册appl�?</li>
<li>第二�?定义视图函数user/views.py
<ul>
<li>视图函数必须有一个位置参数交repuest</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个视图函�?必须有一个位置参�?</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># render 渲染前端页面的语�?</span></span><br><span class="line">    <span class="comment"># 前端文件名必须在 templates 文件夹下</span></span><br><span class="line">    <span class="comment"># 返回的是一�?HTML 页面</span></span><br><span class="line">    <span class="keyword">return</span> render(request,<span class="string">&quot;login.html&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>第三�?要在路由映射关系 <code>first_django/urls.py</code> 注册映射关系</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> user.views <span class="keyword">import</span> login</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    <span class="comment"># 默认访问根目录的时�?会执�?login 视图函数返回数据</span></span><br><span class="line">    path(<span class="string">&#x27;&#x27;</span>, login),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ul>
<li>启动项目 访问指定的路�</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/15.0Django%E6%A1%86%E6%9E%B6%E4%B9%8BCBV%E6%B7%BB%E5%8A%A0%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/15.0Django%E6%A1%86%E6%9E%B6%E4%B9%8BCBV%E6%B7%BB%E5%8A%A0%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-15-0Django���֮CBV���װ���������ַ�ʽdate-2023-01-01categories-Blogtags-Blog">title: 15.0Django���֮CBV���װ���������ַ�ʽ<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Django框架之CBV添加装饰器的三种方式</h1>
<h2 id="【一】引入一个第三方模块">【一】引入一个第三方模块</h2>
<ul>
<li>给类定义需要引入一个第三方模块</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.utils.decorators <span class="keyword">import</span> method_decorator</span><br></pre></td></tr></table></figure>
<h2 id="【二】三种添加装饰器的方�">【二】三种添加装饰器的方�?</h2>
<h3 id="�-】方式一：给类里面的指定的函数加">�?】方式一：给类里面的指定的函数加</h3>
<ul>
<li>视图文件</li>
<li>给登入类里面的POST函数增加装饰�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect, reverse</span><br><span class="line"><span class="keyword">from</span> django.utils.decorators <span class="keyword">import</span> method_decorator</span><br><span class="line"><span class="keyword">from</span> django.views <span class="keyword">import</span> View</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;index.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_one</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">request, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">if</span> request.method == <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">            username = request.POST.get(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">            password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> username != <span class="string">&quot;tom&quot;</span> <span class="keyword">or</span> password != <span class="string">&quot;666&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;home&#x27;</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> func(request, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginInfo</span>(<span class="title class_ inherited__">View</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&#x27;login.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line"><span class="meta">    @method_decorator(<span class="params">login_one</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;index&#x27;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>前端</li>
<li>login.html</li>
<li>登入首页，用户名和密码错误原地跳�?</li>
<li>用户名密码正确，跳转到index.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>index.html</li>
<li>登入以后成功自动跳转到的页面</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是首页index<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="http://urls.py">urls.py</a></li>
<li>配置路径</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> user.views <span class="keyword">import</span> LoginInfo, index</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&#x27;index/&#x27;</span>, index, name=<span class="string">&#x27;index&#x27;</span>),</span><br><span class="line">    path(<span class="string">&quot;&quot;</span>, LoginInfo.as_view(), name=<span class="string">&#x27;login_info&#x27;</span>)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="�-】方式二：把装饰器放在类上面">�?】方式二：把装饰器放在类上面</h3>
<ul>
<li>就是在装饰器的头上加一个装饰器</li>
<li>参数介绍
<ul>
<li>第一个参数是：装饰器的，名字</li>
<li>第二个参数是：类自己本身的函数的名字
<ul>
<li>写那个函数名就是给那个函数添加装饰器</li>
<li>实现的结果和方法一一�?</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@method_decorator(<span class="params">login_one, name=<span class="string">&#x27;post&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginInfo</span>(<span class="title class_ inherited__">View</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&#x27;login.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">return</span> redirect(reverse(<span class="string">&#x27;index&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="�-】方法三：重写dispatch方法">�?】方法三：重写dispatch方法</h3>
<ul>
<li>在类中定义dispatch方法（直接cv�?
<ul>
<li>dispatch方法在哪<code>（类视图 ---&gt; as_view() ---&gt; 里面�?view() ---&gt; self.dispatch()）</code></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 每个类视图函数都会走的函数，相当于给所有人都加了装饰器</span></span><br><span class="line"><span class="meta">@method_decorator(<span class="params">login_one</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dispatch</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">    <span class="comment"># Try to dispatch to the right method; if a method doesn&#x27;t exist,</span></span><br><span class="line">    <span class="comment"># defer to the error handler. Also defer to the error handler if the</span></span><br><span class="line">    <span class="comment"># request method isn&#x27;t on the approved list.</span></span><br><span class="line">    <span class="keyword">if</span> request.method.lower() <span class="keyword">in</span> <span class="variable language_">self</span>.http_method_names:</span><br><span class="line">        handler = <span class="built_in">getattr</span>(<span class="variable language_">self</span>, request.method.lower(), <span class="variable language_">self</span>.http_method_not_allowed)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        handler = <span class="variable language_">self</span>.http_method_not_allowed</span><br><span class="line">    <span class="keyword">return</span> handler(request, *args, **kwargs)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/12.0Django%E6%A1%86%E6%9E%B6%E4%B9%8BForm%E7%BB%84%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/12.0Django%E6%A1%86%E6%9E%B6%E4%B9%8BForm%E7%BB%84%E4%BB%B6/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-12-0Django���֮Form���date-2023-01-01categories-Blogtags-Blog">title: 12.0Django���֮Form���<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Django框架之Form组件</h1>
<h2 id="【一】Django的表单系�">【一】Django的表单系�?</h2>
<h3 id="�-】原始的form表单">�?】原始的form表单</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;#action路径：代表你要提交数据的目的地，不填默认本地#&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    &#123;#说明标签<span class="tag">&lt;<span class="name">label</span>&gt;</span>#&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>password:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;#按钮#&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>同时我们在好多场景下都需要对用户的输入做校验</p>
</li>
<li>
<ul>
<li>比如校验用户是否输入</li>
<li>输入的长度和格式等正不正确�?</li>
</ul>
</li>
<li>
<p>如果用户输入的内容有错误就需要在页面上相应的位置显示对应的错误信�?�?</p>
</li>
</ul>
<h3 id="�-】Django的表单系�">�?】Django的表单系�?</h3>
<ul>
<li>
<p>Django的Form表单类与Django模型描述对象的逻辑结构、行为以及它呈现给我们内容的形式的方式大致相�?</p>
</li>
<li>
<p>为什么还要创建表单类</p>
</li>
<li>
<p>原因之一是模型中有一些字段你不需要用户从前端输入数据，或者需要用户额外输入一些非模型字段的数�?</p>
</li>
<li>
<p>Form表单精确控制了这些行为，相当于你在用户HTML表单输入框和Django模型之间的中间件</p>
</li>
</ul>
<h3 id="�-】form表单的主要功�">�?】form表单的主要功�?</h3>
<ul>
<li>生成页面主要的HTML标签</li>
<li>对用户提交的数据进行校验</li>
<li>保留上次输入的内�?</li>
</ul>
<h2 id="【二】需求介�">【二】需求介�?</h2>
<ul>
<li>写一个注册功�?
<ul>
<li>获取用户名和密码，利用form表单提交数据</li>
<li>在后端判断用户名和密码是否符合一定的条件
<ul>
<li>用户名中不能包含nb_</li>
<li>密码不能少于三位</li>
</ul>
</li>
<li>如果符合条件需要你将提示信息展示到前端页面</li>
</ul>
</li>
</ul>
<h2 id="【三】form表单实现">【三】form表单实现</h2>
<h3 id="�-】点击按钮返回比对信�">�?】点击按钮返回比对信�?</h3>
<h4 id="�-）前端页�">�?）前端页�?</h4>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>`&#123;&#123; back_dict.username &#125;&#125;`<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;#   这是一个动态内容展示区�?#&#125;</span><br><span class="line">    &#123;#  `&#123;&#123; back_dict.username &#125;&#125;`会被解析为从后台返回的错误提示信�?&#125;</span><br><span class="line">    &#123;#  如果用户名有误，这里会显示红色的错误提示#&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>password:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>`&#123;&#123; back_dict.password &#125;&#125;`<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">         &#123;#   这是一个动态内容展示区�?#&#125;</span><br><span class="line">    &#123;#  `&#123;&#123; back_dict.password &#125;&#125;`会被解析为从后台返回的错误提示信�?&#125;</span><br><span class="line">    &#123;#  如果用户名有误，这里会显示红色的错误提示#&#125;</span><br><span class="line">     <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-danger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>下面是对表格的解�?</p>
<ul>
<li>
<p><code>&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;</code>�?</p>
</li>
<li>
<ul>
<li>定义一个表单，其中action属性为空字符串，这意味着表单默认提交到当前页面（或者在后端路由处理时会指定一个具体URL）�?</li>
<li>method属性设置为&quot;post&quot;，表示表单数据将以POST方式发送，这种方式可以更好地保护敏感信息，如密码，因为它不会在URL中显示�?</li>
</ul>
</li>
<li>
<p><code>&lt;p&gt;username: &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot;&gt;&lt;/p&gt;</code>�?</p>
</li>
<li>
<ul>
<li>这部分创建了一个文本输入框，用户在此输入其用户名�?</li>
<li>class属性值为&quot;form-control&quot;，这是Bootstrap框架提供的CSS类，用来设定输入框的样式�?</li>
<li>name属性值为&quot;username&quot;，这个名称在服务器端接收表单数据时作为键名使用�?</li>
</ul>
</li>
<li>
<p><code>&lt;span style=&quot;color: red&quot;&gt;</code><code>&lt;/span&gt;</code>�?</p>
</li>
<li>
<ul>
<li>这是一个动态内容展示区�?</li>
<li>根据所使用的模板引擎（如Jinja2、Vue.js等），<code>&#123;&#123; back_dict.username &#125;&#125;</code>会被解析为从后台返回的错误提示信�?</li>
<li>如果用户名有误，这里会显示红色的错误提示�?</li>
</ul>
</li>
<li>
<p><code>&lt;p&gt;password: &lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot;&gt;&lt;/p&gt;</code>�?</p>
</li>
<li>
<ul>
<li>这部分创建了一个密码输入框，用户在此输入其密码�?</li>
<li>type属性值为&quot;password&quot;，这样输入的内容会以星号或其他符号代替显示，保护用户密码不被他人窥视�?</li>
<li>同样具有form-control样式和name属性�?</li>
</ul>
</li>
<li>
<p><code>&lt;span style=&quot;color: red&quot;&gt;</code><code>&lt;/span&gt;</code>�?</p>
</li>
<li>
<ul>
<li>与用户名输入框下方的span元素类似</li>
<li>此处用于显示密码输入的错误提示信息�?</li>
</ul>
</li>
<li>
<p><code>&lt;input type=&quot;submit&quot; class=&quot;btn btn-danger&quot;&gt;</code>�?</p>
</li>
<li>
<ul>
<li>定义一个提交按钮，点击该按钮时，表单数据将会被发送至服务器�?</li>
<li>class属性值为&quot;btn btn-danger&quot;，这是Bootstrap中用于创建危险主题样式的按钮</li>
</ul>
</li>
</ul>
<h4 id="2-后端">(2)后端</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">form_one</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 存储错误信息</span></span><br><span class="line">    back_dict = &#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        username = request.POST.get(<span class="string">&#x27;username&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(username)</span><br><span class="line">        password = request.POST.get(<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(password)</span><br><span class="line">        <span class="comment"># 判断用户�?</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;nb_&quot;</span> <span class="keyword">in</span> username:</span><br><span class="line">            <span class="comment"># 保存错误信息</span></span><br><span class="line">            back_dict[<span class="string">&quot;username&quot;</span>] = <span class="string">&#x27;用户名不符合格式�?</span></span><br><span class="line"><span class="string">        # 判断密码</span></span><br><span class="line"><span class="string">        if len(password) &lt; 3:</span></span><br><span class="line"><span class="string">            # 保存错误信息</span></span><br><span class="line"><span class="string">            back_dict[&#x27;</span>password<span class="string">&#x27;] = &#x27;</span>密码长度不可以低�?<span class="string">&#x27;</span></span><br><span class="line"><span class="string">        &#x27;</span><span class="string">&#x27;&#x27;</span></span><br><span class="line">        无论�?get 请求 还是 post 请求，页面都能获取到字典</span><br><span class="line">            get 请求时，字典是空的，没有�?</span><br><span class="line">            post 请求�?，字典可能是非空�?</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    return render(request, &#x27;form_one.html&#x27;, locals())</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）用到了什�">�?）用到了什�?</h4>
<ul>
<li>
<p>手动书写前端HTML页面代码</p>
</li>
<li>
<ul>
<li>渲染HTML页面</li>
</ul>
</li>
<li>
<p>后端对用户数据进行校�?</p>
</li>
<li>
<ul>
<li>校验数据</li>
</ul>
</li>
<li>
<p>对不符合要求的数据进行前端提�?</p>
</li>
<li>
<ul>
<li>展示提示信息</li>
</ul>
</li>
</ul>
<h3 id="�-】Form组件校验数据">�?】Form组件校验数据</h3>
<ul>
<li>
<p>form组件可以帮我们完�?</p>
</li>
<li>
<ul>
<li>渲染HTML页面</li>
<li>校验数据</li>
<li>展示提示信息</li>
</ul>
</li>
<li>
<p>为什么数据校验要在后端执行，而不是前端在JS完成�?</p>
</li>
<li>
<ul>
<li>数据校验前端可有可无</li>
<li>但是后端必须有！</li>
</ul>
</li>
<li>
<p>原因</p>
</li>
<li>
<ul>
<li>前端的校验存在实时被修改的风险，可以在前端直接修改输入的数据</li>
<li>利用爬虫程序可以绕过前端页面直接向后端提交数�?</li>
</ul>
</li>
</ul>
<h2 id="【四】Form组件如何校验数据">【四】Form组件如何校验数据</h2>
<h3 id="�-】编写表达类">�?】编写表达类</h3>
<ul>
<li>我们可以通过Django提供的Form类来自用生成上面的表单，不再需要手动在HTML中编�?</li>
</ul>
<h4 id="�-）创建文�">�?）创建文�?</h4>
<ul>
<li>在APP内新建一�?py文件（这个套路是Django的惯用手法，<a target="_blank" rel="noopener" href="http://xn--views-oy4h139d.py">就像views.py</a>，models.py等等�?</li>
</ul>
<h4 id="�-）书写form表单�">�?）书写form表单�?</h4>
<ul>
<li>在App内创建一个userForms.py文件，文件内容如�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引入Django的forms组件</span></span><br><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个form的组件类</span></span><br><span class="line"><span class="comment"># 继承form组件�?form.Form</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginForm</span>(forms.Form):</span><br><span class="line">    <span class="comment"># 定义组件类属�?</span></span><br><span class="line">    <span class="comment"># 用户名：名字不能以nb_开�?</span></span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        <span class="comment"># 最大长�?</span></span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        <span class="comment"># 最小长�?</span></span><br><span class="line">        min_length=<span class="number">3</span></span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># 密码</span></span><br><span class="line">    password = forms.CharField(</span><br><span class="line">        <span class="comment"># 长度不能小于3</span></span><br><span class="line">        min_length=<span class="number">3</span></span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># 邮箱</span></span><br><span class="line">    email = forms.EmailField()</span><br></pre></td></tr></table></figure>
<h4 id="�-）书写后端数�">�?）书写后端数�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入自定义组件类（自己写的）</span></span><br><span class="line"><span class="keyword">from</span> user.userForms <span class="keyword">import</span> LoginForm</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 实例化组件类得到一个组件类</span></span><br><span class="line">    login_form = LoginForm()</span><br><span class="line">    <span class="comment"># 在前端渲染上面的form对象</span></span><br><span class="line">    <span class="comment"># ```&#123;&#123; login_form &#125;&#125;```</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        <span class="comment"># form组件帮我们校验数�?</span></span><br><span class="line">        data = request.POST</span><br><span class="line">        <span class="comment"># 给一个错误的数据，用来校�?</span></span><br><span class="line">        data = &#123;<span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;dream&#x27;</span>, <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;1&#x27;</span>, <span class="string">&quot;email&quot;</span>: <span class="string">&quot;123@qq.com&quot;</span>&#125;</span><br><span class="line">        form_obj = LoginForm(data=data)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 触发校验</span></span><br><span class="line">        <span class="comment"># 返回的值是bool值，收的数据不合规就是False，True</span></span><br><span class="line">        <span class="comment"># 必须有这个步骤，不然不校�?</span></span><br><span class="line">        <span class="comment"># print(form_obj.is_valid())  # False</span></span><br><span class="line">        <span class="comment"># 校验步骤</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> form_obj.is_valid():</span><br><span class="line">            <span class="comment"># 信息不合规进�?</span></span><br><span class="line">            <span class="comment"># 查看错误的信�?</span></span><br><span class="line">            <span class="built_in">print</span>(form_obj.errors)</span><br><span class="line">            <span class="comment"># 错误信息的格�?</span></span><br><span class="line">            <span class="comment"># &lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;password&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Ensure this value has at least 3 characters (it has 1).&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 查看通过的信�?</span></span><br><span class="line">            <span class="built_in">print</span>(form_obj.cleaned_data)</span><br><span class="line">            <span class="comment"># &#123;&#x27;username&#x27;: &#x27;dream&#x27;, &#x27;email&#x27;: &#x27;123@qq.com&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 查看当前那些字段进行过校�?</span></span><br><span class="line">            <span class="built_in">print</span>(form_obj.changed_data)</span><br><span class="line">            <span class="comment"># [&#x27;username&#x27;, &#x27;password&#x27;, &#x27;email&#x27;]</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 传入的参数没有：定义了但是没有传，就会报错，提示了参数必须穿</span></span><br><span class="line">            <span class="comment"># 传入的参数多了：没定义但是传了，就会不管，没被定义的参数不会被校�?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;form_one.html&#x27;</span>, <span class="built_in">locals</span>())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="4-书写前端数据">(4)书写前端数据</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    `&#123;&#123; login_form &#125;&#125;`</span><br><span class="line">    &lt;p&gt;&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;submit&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;btn btn-danger&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="【五】Form组件的字段参�">【五】Form组件的字段参�?</h2>
<h3 id="�-】总的参数案例">�?】总的参数案例</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_one</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 定义form表单�?</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">UserForm</span>(forms.Form):</span><br><span class="line">        username = forms.CharField(</span><br><span class="line">            <span class="comment"># 定义初始�?</span></span><br><span class="line">            initial=<span class="string">&#x27;tom&#x27;</span></span><br><span class="line">            <span class="comment"># 最大长�?</span></span><br><span class="line">            max_length=<span class="number">8</span>,</span><br><span class="line">            <span class="comment"># 最小长�?</span></span><br><span class="line">            min_length=<span class="number">3</span>,</span><br><span class="line">            <span class="comment"># 非必须为空字�?</span></span><br><span class="line">            <span class="comment"># required=False,</span></span><br><span class="line">            <span class="comment"># label是显示在输入框之前的提示文本</span></span><br><span class="line">            label=<span class="string">&#x27;用户�?,</span></span><br><span class="line"><span class="string">            # input框内的提示信�?</span></span><br><span class="line"><span class="string">            # initial=&#x27;</span>请输入用户名<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">            # 提示文本与input框之间的提示文本�?</span></span><br><span class="line"><span class="string">            label_suffix=&quot;�?,</span></span><br><span class="line"><span class="string">            # 控制前端的样�?</span></span><br><span class="line"><span class="string">            widget=forms.widgets.TextInput(</span></span><br><span class="line"><span class="string">                # 可以放前端的键值属�?</span></span><br><span class="line"><span class="string">                attrs=&#123;</span></span><br><span class="line"><span class="string">                    &#x27;</span><span class="keyword">class</span><span class="string">&#x27;: &#x27;</span>form-control<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">                    # 如果不写id的话，浏览器检查给默认的id=id_username</span></span><br><span class="line"><span class="string">                    &#x27;</span><span class="built_in">id</span><span class="string">&#x27;: &#x27;</span>username<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">                    # input框提示符</span></span><br><span class="line"><span class="string">                    &#x27;</span>placeholde<span class="string">r&#x27;: &#x27;</span>请输入用户名<span class="string">&#x27;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            ),</span></span><br><span class="line"><span class="string">            # input框下面的文本</span></span><br><span class="line"><span class="string">            help_text=&#x27;</span>用户名注解文本信�?,</span><br><span class="line">            <span class="comment"># 存放错误信息</span></span><br><span class="line">            error_messages=&#123;</span><br><span class="line">                <span class="string">&quot;required&quot;</span>: <span class="string">&#x27;用户名必须传&#x27;</span>,</span><br><span class="line">                <span class="string">&quot;min_length&quot;</span>: <span class="string">&quot;你传的数据太短了&quot;</span>,</span><br><span class="line">                <span class="string">&quot;max_length&quot;</span>: <span class="string">&quot;你传的数据太长了&quot;</span>,</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment"># input不可选中的状�?</span></span><br><span class="line">            disabled=<span class="literal">True</span></span><br><span class="line">        )</span><br><span class="line">        password = forms.CharField(</span><br><span class="line">            <span class="comment"># 输入的额信息是保密的</span></span><br><span class="line">            widget=forms.PasswordInput(</span><br><span class="line"></span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># Select单选框</span></span><br><span class="line">        hobby = forms.ChoiceField(</span><br><span class="line">            choices=((<span class="number">1</span>, <span class="string">&#x27;旅游&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;爬山&#x27;</span>)),</span><br><span class="line">            <span class="comment"># 提示信息</span></span><br><span class="line">            label=<span class="string">&#x27;爱好&#x27;</span>,</span><br><span class="line">            <span class="comment"># 默认�?</span></span><br><span class="line">            initial=<span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">            <span class="comment"># Select单选框</span></span><br><span class="line">            widget=forms.widgets.Select()</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># 多选框SelectMultiple</span></span><br><span class="line">        hobby_one = forms.MultipleChoiceField(</span><br><span class="line">            choices=((<span class="number">1</span>, <span class="string">&#x27;羽毛�?), (2, &#x27;</span>乒乓�?), (<span class="number">3</span>, <span class="string">&#x27;排球&#x27;</span>)),</span><br><span class="line">            <span class="comment"># 提示信息</span></span><br><span class="line">            label=<span class="string">&#x27;爱好&#x27;</span>,</span><br><span class="line">            <span class="comment"># 默认�?</span></span><br><span class="line">            initial=[<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">            <span class="comment"># SelectMultiple多选框</span></span><br><span class="line">            widget=forms.widgets.SelectMultiple()</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># 单选框CheckboxInput</span></span><br><span class="line">        keep = forms.ChoiceField(</span><br><span class="line">            label=<span class="string">&quot;是否记住密码&quot;</span>,</span><br><span class="line">            initial=<span class="string">&quot;checked&quot;</span>,</span><br><span class="line">            widget=forms.widgets.CheckboxInput()</span><br><span class="line">        )</span><br><span class="line">        <span class="comment">#多选框</span></span><br><span class="line">        hobby_two = forms.MultipleChoiceField(</span><br><span class="line">            choices=((<span class="number">1</span>, <span class="string">&quot;篮球&quot;</span>), (<span class="number">2</span>, <span class="string">&quot;足球&quot;</span>), (<span class="number">3</span>, <span class="string">&quot;双色�?),),</span></span><br><span class="line"><span class="string">            label=&quot;</span>爱好<span class="string">&quot;,</span></span><br><span class="line"><span class="string">            initial=[1, 3],</span></span><br><span class="line"><span class="string">            widget=forms.widgets.CheckboxSelectMultiple()</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">        # 选择框RadioSelect</span></span><br><span class="line"><span class="string">        gender = forms.ChoiceField(</span></span><br><span class="line"><span class="string">            choices=((1, &quot;</span>�?), (<span class="number">2</span>, <span class="string">&quot;�?), (3, &quot;</span>保密<span class="string">&quot;)),</span></span><br><span class="line"><span class="string">            label=&quot;</span>性别<span class="string">&quot;,</span></span><br><span class="line"><span class="string">            initial=3,</span></span><br><span class="line"><span class="string">            widget=forms.widgets.RadioSelect()</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    form_obj = UserForm(&#123;</span></span><br><span class="line"><span class="string">        &#x27;username&#x27;: &#x27;1222&#x27;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    form_obj.is_valid()</span></span><br><span class="line"><span class="string">    # 打印错误信息</span></span><br><span class="line"><span class="string">    print(form_obj.errors)</span></span><br><span class="line"><span class="string">    # 获取校验成功的数�?</span></span><br><span class="line"><span class="string">    print(form_obj.cleaned_data)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    return render(request, &#x27;form_one.html&#x27;, locals())</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h3 id="�-】参数max-length">�?】参数max_length</h3>
<ul>
<li>字段的最大长�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最大长�?</span></span><br><span class="line">           max_length=<span class="number">8</span>,</span><br></pre></td></tr></table></figure>
<h3 id="�-】参数min-length">�?】参数min_length</h3>
<ul>
<li>字段的最小长�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最小长�?</span></span><br><span class="line">            min_length=<span class="number">3</span>,</span><br></pre></td></tr></table></figure>
<h3 id="�-】参数label">�?】参数label</h3>
<ul>
<li>输入框之前的提示文本</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># label是显示在输入框之前的提示文本</span></span><br><span class="line">           label=<span class="string">&#x27;用户�?,</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】参数label-suffix">�?】参数label_suffix</h3>
<ul>
<li>提示文本与input框之间的提示文本�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 提示文本与input框之间的提示文本�?</span></span><br><span class="line">            label_suffix=<span class="string">&quot;�?,</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】参数widget">�?】参数widget</h3>
<ul>
<li>控制前端的样�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 控制前端的样�?</span></span><br><span class="line">            widget=forms.widgets.TextInput(</span><br><span class="line">                <span class="comment"># 可以放前端的键值属�?</span></span><br><span class="line">                attrs=&#123;</span><br><span class="line">                    <span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;form-control&#x27;</span>,</span><br><span class="line">                    <span class="comment"># 如果不写id的话，浏览器检查给默认的id=id_username</span></span><br><span class="line">                    <span class="string">&#x27;id&#x27;</span>: <span class="string">&#x27;username&#x27;</span>,</span><br><span class="line">                    <span class="comment"># input框提示符</span></span><br><span class="line">                    <span class="string">&#x27;placeholder&#x27;</span>: <span class="string">&#x27;请输入用户名&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ),</span><br></pre></td></tr></table></figure>
<h3 id="�-】参数help-text">�?】参数help_text</h3>
<ul>
<li>input框下面的文本</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># input框下面的文本</span></span><br><span class="line"> help_text=<span class="string">&#x27;用户名注解文本信�?,</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】参数error-messages">�?】参数error_messages</h3>
<ul>
<li>存放错误信息</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存放错误信息</span></span><br><span class="line">error_messages=&#123;</span><br><span class="line">   <span class="string">&quot;required&quot;</span>: <span class="string">&#x27;用户名必须传&#x27;</span>,</span><br><span class="line">   <span class="string">&quot;min_length&quot;</span>: <span class="string">&quot;你传的数据太短了&quot;</span>,</span><br><span class="line">   <span class="string">&quot;max_length&quot;</span>: <span class="string">&quot;你传的数据太长了&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment"># 也可以说是改变错�?</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】参数disabled">�?】参数disabled</h3>
<ul>
<li>input框不可选中的状�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># input不可选中的状�?</span></span><br><span class="line">disabled=<span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="�-0】参数required">�?0】参数required</h3>
<ul>
<li>非必须为空字�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 非必须为空字�?</span></span><br><span class="line"> required=<span class="literal">False</span>,</span><br></pre></td></tr></table></figure>
<h3 id="�-1】参数initial">�?1】参数initial</h3>
<ul>
<li>定义初始�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义初始�?</span></span><br><span class="line"> initial=<span class="string">&#x27;tom&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-2】参数validators">�?2】参数validators</h3>
<ul>
<li>指定一个列表，其中包含了为字段进行验证的函数�?</li>
<li>也就是说，如果你自定义了验证方法，不用Django内置的验证功能，那么要通过这个参数，将字段和自定义的验证方法链接起来�?</li>
<li>参考前面的章节，学习如何编写验证器</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms  </span><br><span class="line"><span class="keyword">from</span> django.core.exceptions <span class="keyword">import</span> ValidationError  </span><br><span class="line"><span class="keyword">import</span> re  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validate_email</span>(<span class="params">value</span>):  </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> re.<span class="keyword">match</span>(<span class="string">r&#x27;[^@]+@[^@]+\.[^@]+&#x27;</span>, value):  </span><br><span class="line">        <span class="keyword">raise</span> ValidationError(<span class="string">&quot;请输入一个有效的电子邮件地址&quot;</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmailForm</span>(forms.Form):  </span><br><span class="line">    email = forms.EmailField(validators=[validate_email])</span><br></pre></td></tr></table></figure>
<h3 id="�-3】localize">�?3】localize</h3>
<ul>
<li>localize参数帮助实现表单数据输入的本地化�?</li>
<li><code>localize</code> 参数用于控制表单字段的本地化，特别是日期和时间字段。当设置为<code>True</code>时，Django会根据用户的地区设置来格式化输入和输�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DateForm</span>(forms.Form):  </span><br><span class="line">    my_date = forms.DateField(localize=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-4】has-changed-方法">�?4】has_changed()方法</h3>
<ul>
<li><code>has_changed()</code> 方法用于检查表单字段的值是否自表单实例化以来已被更改。这对于在表单提交时决定是否需要重新验证或更新数据非常有用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">form = UserProfileForm(request.POST, instance=user)  </span><br><span class="line"><span class="keyword">if</span> form.is_valid():  </span><br><span class="line">    <span class="keyword">if</span> form.fields[<span class="string">&#x27;email&#x27;</span>].has_changed():  </span><br><span class="line">        <span class="comment"># 执行与电子邮件更改相关的操作  </span></span><br><span class="line">        <span class="keyword">pass</span>  </span><br><span class="line">    form.save()</span><br></pre></td></tr></table></figure>
<h3 id="�-5】输入框password">�?5】输入框password</h3>
<ul>
<li>PasswordInput：输入的密码保密</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">password = forms.CharField(</span><br><span class="line">   			min_length=<span class="number">6</span>,</span><br><span class="line">        	label=<span class="string">&quot;密码&quot;</span>,</span><br><span class="line">            <span class="comment"># 输入的额信息是保密的</span></span><br><span class="line">            widget=forms.PasswordInput(</span><br><span class="line">				attrs=&#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;c1&#x27;</span>&#125;,</span><br><span class="line">                render_value=<span class="literal">True</span></span><br><span class="line">            )</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<h3 id="�-6】选择框radioSelect">�?6】选择框radioSelect</h3>
<ul>
<li></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择框RadioSelect</span></span><br><span class="line">        gender = forms.ChoiceField(</span><br><span class="line">            choices=((<span class="number">1</span>, <span class="string">&quot;�?), (2, &quot;</span>�?), (<span class="number">3</span>, <span class="string">&quot;保密&quot;</span>)),</span><br><span class="line">            label=<span class="string">&quot;性别&quot;</span>,</span><br><span class="line">            initial=<span class="number">3</span>,</span><br><span class="line">            widget=forms.widgets.RadioSelect()</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701220913512.png" alt="image-20240701220913512"></p>
<h3 id="�-7】单选框Select">�?7】单选框Select</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Select单选框</span></span><br><span class="line">        hobby = forms.ChoiceField(</span><br><span class="line">            choices=((<span class="number">1</span>, <span class="string">&#x27;旅游&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;爬山&#x27;</span>)),</span><br><span class="line">            <span class="comment"># 提示信息</span></span><br><span class="line">            label=<span class="string">&#x27;爱好&#x27;</span>,</span><br><span class="line">            <span class="comment"># 默认�?</span></span><br><span class="line">            initial=<span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">            <span class="comment"># Select单选框</span></span><br><span class="line">            widget=forms.widgets.Select()</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701220830767.png" alt="image-20240701220830767"></p>
<h3 id="�-8】多选框SelectMultiple">�?8】多选框SelectMultiple</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多选框SelectMultiple</span></span><br><span class="line">        hobby_one = forms.MultipleChoiceField(</span><br><span class="line">            choices=((<span class="number">1</span>, <span class="string">&#x27;羽毛�?), (2, &#x27;</span>乒乓�?), (<span class="number">3</span>, <span class="string">&#x27;排球&#x27;</span>)),</span><br><span class="line">            <span class="comment"># 提示信息</span></span><br><span class="line">            label=<span class="string">&#x27;爱好&#x27;</span>,</span><br><span class="line">            <span class="comment"># 默认�?</span></span><br><span class="line">            initial=[<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">            <span class="comment"># SelectMultiple多选框</span></span><br><span class="line">            widget=forms.widgets.SelectMultiple()</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701220838816.png" alt="image-20240701220838816"></p>
<h3 id="�-9】单选框CheckboxInput">�?9】单选框CheckboxInput</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单选框CheckboxInput</span></span><br><span class="line">        keep = forms.ChoiceField(</span><br><span class="line">            label=<span class="string">&quot;是否记住密码&quot;</span>,</span><br><span class="line">            initial=<span class="string">&quot;checked&quot;</span>,</span><br><span class="line">            widget=forms.widgets.CheckboxInput()</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701220855178.png" alt="image-20240701220855178"></p>
<h3 id="�-0】多选框CheckboxSelectMultiple">�?0】多选框CheckboxSelectMultiple</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#多选框</span></span><br><span class="line">        hobby_two = forms.MultipleChoiceField(</span><br><span class="line">            choices=((<span class="number">1</span>, <span class="string">&quot;篮球&quot;</span>), (<span class="number">2</span>, <span class="string">&quot;足球&quot;</span>), (<span class="number">3</span>, <span class="string">&quot;双色�?),),</span></span><br><span class="line"><span class="string">            label=&quot;</span>爱好<span class="string">&quot;,</span></span><br><span class="line"><span class="string">            initial=[1, 3],</span></span><br><span class="line"><span class="string">            widget=forms.widgets.CheckboxSelectMultiple()</span></span><br><span class="line"><span class="string">        )</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701220932862.png" alt="image-20240701220932862"></p>
<h2 id="【六】choice字段的注意事�">【六】choice字段的注意事�?</h2>
<ul>
<li>
<p>在使用选择标签�?</p>
</li>
<li>
<ul>
<li>需要注意choices的选项可以配置从数据库中获�?</li>
</ul>
</li>
<li>
<p>但是由于是静态字�?</p>
</li>
<li>
<ul>
<li>获取的值无法实时更�?</li>
<li>需要重写构造方法从而实现choice实时更新�?</li>
</ul>
</li>
</ul>
<h3 id="�-】方法一">�?】方法一</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.forms <span class="keyword">import</span> Form</span><br><span class="line"><span class="keyword">from</span> django.forms <span class="keyword">import</span> widgets</span><br><span class="line"><span class="keyword">from</span> django.forms <span class="keyword">import</span> fields</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(<span class="title class_ inherited__">Form</span>):</span><br><span class="line"> </span><br><span class="line">    user = fields.ChoiceField(</span><br><span class="line">        <span class="comment"># choices=((1, &#x27;上海&#x27;), (2, &#x27;北京&#x27;),),</span></span><br><span class="line">        initial=<span class="number">2</span>,</span><br><span class="line">        widget=widgets.Select</span><br><span class="line">    )</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyForm,<span class="variable language_">self</span>).__init__(*args, **kwargs)</span><br><span class="line">        <span class="comment"># self.fields[&#x27;user&#x27;].choices = ((1, &#x27;上海&#x27;), (2, &#x27;北京&#x27;),)</span></span><br><span class="line">        <span class="comment"># �?</span></span><br><span class="line">        <span class="variable language_">self</span>.fields[<span class="string">&#x27;user&#x27;</span>].choices = models.Classes.objects.<span class="built_in">all</span>().values_list(<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;caption&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】方法二">�?】方法二</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> django.forms <span class="keyword">import</span> fields</span><br><span class="line"><span class="keyword">from</span> django.forms <span class="keyword">import</span> models <span class="keyword">as</span> form_model</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FInfo</span>(forms.Form):</span><br><span class="line">    authors = form_model.ModelMultipleChoiceField(queryset=models.NNewType.objects.<span class="built_in">all</span>())  <span class="comment"># 多�?</span></span><br><span class="line">    <span class="comment"># authors = form_model.ModelChoiceField(queryset=models.NNewType.objects.all())  # 单�?</span></span><br></pre></td></tr></table></figure>
<h2 id="【七】自定义字段校验">【七】自定义字段校验</h2>
<h3 id="�-】自定义验函�">�?】自定义验函�?</h3>
<ul>
<li>在内部创建了一个验证器函数</li>
<li>并把这个函数给你的form表单里面需要创建的字段</li>
<li><code>validators=[phone_validators]</code></li>
<li>抛出异常后被 forms_obj = UserInfo接收�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> django.core.exceptions <span class="keyword">import</span> ValidationError</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_one</span>(<span class="params">request, *args, **kwargs</span>):</span><br><span class="line">    <span class="comment"># 创建一个验证器函数</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">phone_validators</span>(<span class="params">value</span>):</span><br><span class="line">        <span class="built_in">print</span>(value)</span><br><span class="line">        <span class="comment"># 在这里面校验</span></span><br><span class="line">        <span class="comment"># 用正则校�?</span></span><br><span class="line">        mobile_re = re.<span class="built_in">compile</span>(<span class="string">r&#x27;^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]&#123;8&#125;$&#x27;</span>)</span><br><span class="line">        <span class="comment"># 通过正则表达式对象匹配输入的内容</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> mobile_re.<span class="keyword">match</span>(value):</span><br><span class="line">            <span class="comment"># 主动抛出异常</span></span><br><span class="line">            <span class="keyword">raise</span> ValidationError(<span class="string">&#x27;手机号的格式输入错误&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">UserInfo</span>(forms.Form):</span><br><span class="line">        phone = forms.CharField(</span><br><span class="line">            <span class="comment"># max_length=11,</span></span><br><span class="line">            <span class="comment"># min_length=11,</span></span><br><span class="line">            validators=[phone_validators]</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    forms_obj = UserInfo(&#123;</span><br><span class="line">        <span class="string">&#x27;phone&#x27;</span>: <span class="string">&#x27;145745625&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    forms_obj.is_valid()</span><br><span class="line">    <span class="comment"># 打印错误信息</span></span><br><span class="line">    <span class="built_in">print</span>(forms_obj.errors)</span><br><span class="line">    <span class="comment"># &lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;phone&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;手机号的格式输入错误&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</span></span><br><span class="line">    <span class="comment"># 获取校验成功的数�?</span></span><br><span class="line">    <span class="built_in">print</span>(forms_obj.cleaned_data)</span><br><span class="line">    <span class="comment"># &#123;&#125;</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;form_one.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h3 id="�-】总的说一下步�">�?】总的说一下步�?</h3>
<ul>
<li>
<p>首先定义一个form组件�?</p>
</li>
<li>
<p>form组件继承forms.Form</p>
</li>
<li>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(forms.Form):</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>定义字段的验证规则<code>forms.CharField()</code></p>
</li>
<li>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(forms.Form):</span><br><span class="line">        phone = forms.CharField(</span><br><span class="line">            <span class="comment"># max_length=11,</span></span><br><span class="line">            <span class="comment"># min_length=11,</span></span><br><span class="line">            validators=[phone_validators]</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>定义一个验证字段的函数</p>
</li>
<li>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">phone_validators</span>(<span class="params">value</span>):</span><br><span class="line">        <span class="built_in">print</span>(value)</span><br><span class="line">        <span class="comment"># 在这里面校验</span></span><br><span class="line">        <span class="comment"># 用正则校�?</span></span><br><span class="line">        mobile_re = re.<span class="built_in">compile</span>(<span class="string">r&#x27;^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]&#123;8&#125;$&#x27;</span>)</span><br><span class="line">        <span class="comment"># 通过正则表达式对象匹配输入的内容</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> mobile_re.<span class="keyword">match</span>(value):</span><br><span class="line">            <span class="comment"># 主动抛出异常</span></span><br><span class="line">            <span class="keyword">raise</span> ValidationError(<span class="string">&#x27;手机号的格式输入错误&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>将验证函数添加到验证的规则里�?</p>
</li>
<li>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">phone.CharField(</span><br><span class="line">    validators=[phone_validators]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="【八】Form组件字段参数">【八】Form组件字段参数</h2>
<h3 id="�-】内置字�">�?】内置字�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">Field</span><br><span class="line">    required=<span class="literal">True</span>,               是否允许为空</span><br><span class="line">    widget=<span class="literal">None</span>,                 HTML插件</span><br><span class="line">    label=<span class="literal">None</span>,                  用于生成Label标签或显示内�?</span><br><span class="line">    initial=<span class="literal">None</span>,                初始�?</span><br><span class="line">    help_text=<span class="string">&#x27;&#x27;</span>,                帮助信息(在标签旁边显�?</span><br><span class="line">    error_messages=<span class="literal">None</span>,         错误信息 &#123;<span class="string">&#x27;required&#x27;</span>: <span class="string">&#x27;不能为空&#x27;</span>, <span class="string">&#x27;invalid&#x27;</span>: <span class="string">&#x27;格式错误&#x27;</span>&#125;</span><br><span class="line">    validators=[],               自定义验证规�?</span><br><span class="line">    localize=<span class="literal">False</span>,              是否支持本地�?</span><br><span class="line">    disabled=<span class="literal">False</span>,              是否可以编辑</span><br><span class="line">    label_suffix=<span class="literal">None</span>            Label内容后缀</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">CharField(Field)</span><br><span class="line">    max_length=<span class="literal">None</span>,             最大长�?</span><br><span class="line">    min_length=<span class="literal">None</span>,             最小长�?</span><br><span class="line">    strip=<span class="literal">True</span>                   是否移除用户输入空白</span><br><span class="line"> </span><br><span class="line">IntegerField(Field)</span><br><span class="line">    max_value=<span class="literal">None</span>,              最大�?</span><br><span class="line">    min_value=<span class="literal">None</span>,              最小�?</span><br><span class="line"> </span><br><span class="line">FloatField(IntegerField)</span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line">DecimalField(IntegerField)</span><br><span class="line">    max_value=<span class="literal">None</span>,              最大�?</span><br><span class="line">    min_value=<span class="literal">None</span>,              最小�?</span><br><span class="line">    max_digits=<span class="literal">None</span>,             总长�?</span><br><span class="line">    decimal_places=<span class="literal">None</span>,         小数位长�?</span><br><span class="line"> </span><br><span class="line">BaseTemporalField(Field)</span><br><span class="line">    input_formats=<span class="literal">None</span>          时间格式�?  </span><br><span class="line"> </span><br><span class="line">DateField(BaseTemporalField)    格式�?015-09-01</span><br><span class="line">TimeField(BaseTemporalField)    格式�?<span class="number">1</span>:<span class="number">12</span></span><br><span class="line">DateTimeField(BaseTemporalField)格式�?015-09-01 <span class="number">11</span>:<span class="number">12</span></span><br><span class="line"> </span><br><span class="line">DurationField(Field)            时间间隔�?d %H:%M:%S.%f</span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line">RegexField(CharField)</span><br><span class="line">    regex,                      自定制正则表达式</span><br><span class="line">    max_length=<span class="literal">None</span>,            最大长�?</span><br><span class="line">    min_length=<span class="literal">None</span>,            最小长�?</span><br><span class="line">    error_message=<span class="literal">None</span>,         忽略，错误信息使�?error_messages=&#123;<span class="string">&#x27;invalid&#x27;</span>: <span class="string">&#x27;...&#x27;</span>&#125;</span><br><span class="line"> </span><br><span class="line">EmailField(CharField)      </span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line">FileField(Field)</span><br><span class="line">    allow_empty_file=<span class="literal">False</span>     是否允许空文�?</span><br><span class="line"> </span><br><span class="line">ImageField(FileField)      </span><br><span class="line">    ...</span><br><span class="line">    注：需要PIL模块，pip3 install Pillow</span><br><span class="line">    以上两个字典使用时，需要注意两点：</span><br><span class="line">        - form表单�?enctype=<span class="string">&quot;multipart/form-data&quot;</span></span><br><span class="line">        - view函数�?obj = MyForm(request.POST, request.FILES)</span><br><span class="line"> </span><br><span class="line">URLField(Field)</span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">BooleanField(Field)  </span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line">NullBooleanField(BooleanField)</span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line">ChoiceField(Field)</span><br><span class="line">    ...</span><br><span class="line">    choices=(),                选项，如：choices = ((<span class="number">0</span>,<span class="string">&#x27;上海&#x27;</span>),(<span class="number">1</span>,<span class="string">&#x27;北京&#x27;</span>),)</span><br><span class="line">    required=<span class="literal">True</span>,             是否必填</span><br><span class="line">    widget=<span class="literal">None</span>,               插件，默认select插件</span><br><span class="line">    label=<span class="literal">None</span>,                Label内容</span><br><span class="line">    initial=<span class="literal">None</span>,              初始�?</span><br><span class="line">    help_text=<span class="string">&#x27;&#x27;</span>,              帮助提示</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">ModelChoiceField(ChoiceField)</span><br><span class="line">    ...                        django.forms.models.ModelChoiceField</span><br><span class="line">    queryset,                  <span class="comment"># 查询数据库中的数�?</span></span><br><span class="line">    empty_label=<span class="string">&quot;---------&quot;</span>,   <span class="comment"># 默认空显示内�?</span></span><br><span class="line">    to_field_name=<span class="literal">None</span>,        <span class="comment"># HTML中value的值对应的字段</span></span><br><span class="line">    limit_choices_to=<span class="literal">None</span>      <span class="comment"># ModelForm中对queryset二次筛�?</span></span><br><span class="line">     </span><br><span class="line">ModelMultipleChoiceField(ModelChoiceField)</span><br><span class="line">    ...                        django.forms.models.ModelMultipleChoiceField</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">     </span><br><span class="line">TypedChoiceField(ChoiceField)</span><br><span class="line">    coerce = <span class="keyword">lambda</span> val: val   对选中的值进行一次转�?</span><br><span class="line">    empty_value= <span class="string">&#x27;&#x27;</span>            空值的默认�?</span><br><span class="line"> </span><br><span class="line">MultipleChoiceField(ChoiceField)</span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line">TypedMultipleChoiceField(MultipleChoiceField)</span><br><span class="line">    coerce = <span class="keyword">lambda</span> val: val   对选中的每一个值进行一次转�?</span><br><span class="line">    empty_value= <span class="string">&#x27;&#x27;</span>            空值的默认�?</span><br><span class="line"> </span><br><span class="line">ComboField(Field)</span><br><span class="line">    fields=()                  使用多个验证，如下：即验证最大长�?<span class="number">0</span>，又验证邮箱格式</span><br><span class="line">                               fields.ComboField(fields=[fields.CharField(max_length=<span class="number">20</span>), fields.EmailField(),])</span><br><span class="line"> </span><br><span class="line">MultiValueField(Field)</span><br><span class="line">    PS: 抽象类，子类中可以实现聚合多个字典去匹配一个值，要配合MultiWidget使用</span><br><span class="line"> </span><br><span class="line">SplitDateTimeField(MultiValueField)</span><br><span class="line">    input_date_formats=<span class="literal">None</span>,   格式列表：[<span class="string">&#x27;%Y--%m--%d&#x27;</span>, <span class="string">&#x27;%m%d/%Y&#x27;</span>, <span class="string">&#x27;%m/%d/%y&#x27;</span>]</span><br><span class="line">    input_time_formats=<span class="literal">None</span>    格式列表：[<span class="string">&#x27;%H:%M:%S&#x27;</span>, <span class="string">&#x27;%H:%M:%S.%f&#x27;</span>, <span class="string">&#x27;%H:%M&#x27;</span>]</span><br><span class="line"> </span><br><span class="line">FilePathField(ChoiceField)     文件选项，目录下文件显示在页面中</span><br><span class="line">    path,                      文件夹路�?</span><br><span class="line">    <span class="keyword">match</span>=<span class="literal">None</span>,                正则匹配</span><br><span class="line">    recursive=<span class="literal">False</span>,           递归下面的文件夹</span><br><span class="line">    allow_files=<span class="literal">True</span>,          允许文件</span><br><span class="line">    allow_folders=<span class="literal">False</span>,       允许文件�?</span><br><span class="line">    required=<span class="literal">True</span>,</span><br><span class="line">    widget=<span class="literal">None</span>,</span><br><span class="line">    label=<span class="literal">None</span>,</span><br><span class="line">    initial=<span class="literal">None</span>,</span><br><span class="line">    help_text=<span class="string">&#x27;&#x27;</span></span><br><span class="line"> </span><br><span class="line">GenericIPAddressField</span><br><span class="line">    protocol=<span class="string">&#x27;both&#x27;</span>,           both,ipv4,ipv6支持的IP格式</span><br><span class="line">    unpack_ipv4=<span class="literal">False</span>          解析ipv4地址，如果是::ffff:<span class="number">192.0</span><span class="number">.2</span><span class="number">.1</span>时候，可解析为<span class="number">192.0</span><span class="number">.2</span><span class="number">.1</span>�?PS：protocol必须为both才能启用</span><br><span class="line"> </span><br><span class="line">SlugField(CharField)           数字，字母，下划线，减号（连字符�?</span><br><span class="line">    ...</span><br><span class="line"> </span><br><span class="line">UUIDField(CharField)           uuid类型</span><br></pre></td></tr></table></figure>
<h3 id="�-】概�">�?】概�?</h3>
<h4 id="�-）BooleanField">�?）BooleanField</h4>
<ul>
<li>默认的Widget：CheckboxInput</li>
<li>空值：False</li>
<li>规范化为：Python的True或者False</li>
<li>可用的错误信息键：required</li>
</ul>
<h4 id="�-）CharField">�?）CharField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：与empty_value给出的任何值�?</li>
<li>规范化为：一个Unicode 对象�?</li>
<li>验证max_length或min_length，如果设置了这两个参数�?否则，所有的输入都是合法的�?</li>
<li>可用的错误信息键：min_length, max_length, required</li>
</ul>
<p>有四个可选参数：</p>
<ul>
<li>max_length，min_length：设置字符串的最大和最小长度�?</li>
<li>strip：如果True（默认），去除输入的前导和尾随空格�?</li>
<li>empty_value：用来表示“空”的值�?默认为空字符串�?</li>
</ul>
<h4 id="�-）ChoiceField">�?）ChoiceField</h4>
<ul>
<li>默认的Widget：Select</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：一个Unicode 对象�?</li>
<li>验证给定的值是否在选项列表中�?</li>
<li>可用的错误信息键：required, invalid_choice</li>
</ul>
<p>参数choices�?</p>
<p>用来作为该字段选项的一个二元组组成的可迭代对象（例如，列表或元组）或者一个可调用对象�?</p>
<p>格式与用于和ORM模型字段的choices参数相同�?</p>
<h4 id="�-）TypedChoiceField">�?）TypedChoiceField</h4>
<p>像ChoiceField一样，只是还有两个额外的参数：coerce和empty_value�?</p>
<ul>
<li>默认的Widget：Select</li>
<li>空值：empty_value参数设置的值�?</li>
<li>规范化为：coerce参数类型的值�?</li>
<li>验证给定的值在选项列表中存在并且可以被强制转换�?</li>
<li>可用的错误信息的键：required, invalid_choice</li>
</ul>
<h4 id="�-）DateField">�?）DateField</h4>
<ul>
<li>默认的Widget：DateInput</li>
<li>空值：None</li>
<li>规范化为：datetime.date对象�?</li>
<li>验证给出的值是一个datetime.date、datetime.datetime 或指定日期格式的字符串�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>接收一个可选的参数：input_formats�?</p>
<p>一个格式的列表，用于转换字符串为datetime.date对象�?</p>
<p>如果没有提供input_formats，默认的输入格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;%Y-%m-%d&#x27;,      # &#x27;2006-10-25&#x27;</span><br><span class="line"> &#x27;%m/%d/%Y&#x27;,      # &#x27;10/25/2006&#x27;</span><br><span class="line"> &#x27;%m/%d/%y&#x27;]      # &#x27;10/25/06&#x27;</span><br></pre></td></tr></table></figure>
<p>另外，如果你在设置中指定USE_L10N=False，以下的格式也将包含在默认的输入格式中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;%b %d %Y&#x27;,      # &#x27;Oct 25 2006&#x27;</span><br><span class="line"> &#x27;%b %d, %Y&#x27;,     # &#x27;Oct 25, 2006&#x27;</span><br><span class="line"> &#x27;%d %b %Y&#x27;,      # &#x27;25 Oct 2006&#x27;</span><br><span class="line"> &#x27;%d %b, %Y&#x27;,     # &#x27;25 Oct, 2006&#x27;</span><br><span class="line"> &#x27;%B %d %Y&#x27;,      # &#x27;October 25 2006&#x27;</span><br><span class="line"> &#x27;%B %d, %Y&#x27;,     # &#x27;October 25, 2006&#x27;</span><br><span class="line"> &#x27;%d %B %Y&#x27;,      # &#x27;25 October 2006&#x27;</span><br><span class="line"> &#x27;%d %B, %Y&#x27;]     # &#x27;25 October, 2006&#x27;</span><br></pre></td></tr></table></figure>
<h4 id="�-）DateTimeField">�?）DateTimeField</h4>
<ul>
<li>默认的Widget：DateTimeInput</li>
<li>空值：None</li>
<li>规范化为：Python的datetime.datetime对象�?</li>
<li>验证给出的值是一个datetime.datetime、datetime.date或指定日期格式的字符串�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>接收一个可选的参数：input_formats</p>
<p>如果没有提供input_formats，默认的输入格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;%Y-%m-%d %H:%M:%S&#x27;,    # &#x27;2006-10-25 14:30:59&#x27;</span><br><span class="line"> &#x27;%Y-%m-%d %H:%M&#x27;,       # &#x27;2006-10-25 14:30&#x27;</span><br><span class="line"> &#x27;%Y-%m-%d&#x27;,             # &#x27;2006-10-25&#x27;</span><br><span class="line"> &#x27;%m/%d/%Y %H:%M:%S&#x27;,    # &#x27;10/25/2006 14:30:59&#x27;</span><br><span class="line"> &#x27;%m/%d/%Y %H:%M&#x27;,       # &#x27;10/25/2006 14:30&#x27;</span><br><span class="line"> &#x27;%m/%d/%Y&#x27;,             # &#x27;10/25/2006&#x27;</span><br><span class="line"> &#x27;%m/%d/%y %H:%M:%S&#x27;,    # &#x27;10/25/06 14:30:59&#x27;</span><br><span class="line"> &#x27;%m/%d/%y %H:%M&#x27;,       # &#x27;10/25/06 14:30&#x27;</span><br><span class="line"> &#x27;%m/%d/%y&#x27;]             # &#x27;10/25/06&#x27;</span><br></pre></td></tr></table></figure>
<h4 id="�-）DecimalField">�?）DecimalField</h4>
<ul>
<li>默认的Widget：当Field.localize是False时为NumberInput，否则为TextInput�?</li>
<li>空值：None</li>
<li>规范化为：Python decimal对象�?</li>
<li>验证给定的值为一个十进制数�?忽略前导和尾随的空白�?</li>
<li>错误信息的键：max_whole_digits, max_digits, max_decimal_places,max_value, invalid, required,min_value</li>
</ul>
<p>接收四个可选的参数�?</p>
<p>max_value,min_value:允许的值的范围，需要赋值decimal.Decimal对象，不能直接给个整数类型�?</p>
<p>max_digits：值允许的最大位数（小数点之前和之后的数字总共的位数，前导的零将被删除）�?</p>
<p>decimal_places：允许的最大小数位�?</p>
<h4 id="�-）DurationField">�?）DurationField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：None</li>
<li>规范化为：Python timedelta�?</li>
<li>验证给出的值是一个字符串，而且可以转换为timedelta对象�?</li>
<li>错误信息的键：required, invalid.</li>
</ul>
<h4 id="�-）EmailField">�?）EmailField</h4>
<ul>
<li>默认的Widget：EmailInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：Unicode 对象�?</li>
<li>使用正则表达式验证给出的值是一个合法的邮件地址�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>两个可选的参数用于验证，max_length 和min_length�?</p>
<h4 id="�-0）FileField">�?0）FileField</h4>
<ul>
<li>默认的Widget：ClearableFileInput</li>
<li>空值：None</li>
<li>规范化为：一个UploadedFile对象，它封装文件内容和文件名到一个对象内�?</li>
<li>验证非空的文件数据已经绑定到表单�?</li>
<li>错误信息的键：missing, invalid, required, empty, max_length</li>
</ul>
<p>具有两个可选的参数用于验证：max_length �?allow_empty_file�?</p>
<h4 id="�-1）FilePathField">�?1）FilePathField</h4>
<ul>
<li>默认的Widget：Select</li>
<li>空值：None</li>
<li>规范化为：Unicode 对象�?</li>
<li>验证选择的选项在选项列表中存在�?</li>
<li>错误信息的键：required, invalid_choice</li>
</ul>
<p>这个字段允许从一个特定的目录选择文件�?它有五个额外的参数，其中的path是必须的�?</p>
<p>path：要列出的目录的绝对路径�?这个目录必须存在�?</p>
<p>recursive：如果为False（默认值），只用直接位于path下的文件或目录作为选项。如果为True，将递归访问这个目录，其内所有的子目录和文件都将作为选项�?</p>
<p>match：正则表达模式；只有具有与此表达式匹配的文件名称才被允许作为选项�?</p>
<p>allow_files：可选。默认为True。表示是否应该包含指定位置的文件。它和allow_folders必须有一个为True�?</p>
<p>allow_folders可选。默认为False。表示是否应该包含指定位置的目录�?</p>
<h4 id="�-2）FloatField">�?2）FloatField</h4>
<ul>
<li>默认的Widget：当Field.localize是False时为NumberInput，否则为TextInput�?</li>
<li>空值：None</li>
<li>规范化为：Float 对象�?</li>
<li>验证给定的值是一个浮点数�?</li>
<li>错误信息的键：max_value, invalid, required, min_value</li>
</ul>
<p>接收两个可选的参数用于验证，max_value和min_value，控制允许的值的范围�?</p>
<h4 id="�-3）ImageField">�?3）ImageField</h4>
<ul>
<li>默认的Widget：ClearableFileInput</li>
<li>空值：None</li>
<li>规范化为：一个UploadedFile 象，它封装文件内容和文件名为一个单独的对象�?</li>
<li>验证文件数据已绑定到表单，并且该文件是Pillow可以解析的图像格式�?</li>
<li>错误信息的键：missing, invalid, required, empty, invalid_image</li>
</ul>
<p>使用ImageField需要安装Pillow（pip install pillow）。如果在上传图片时遇到图像损坏错误，通常意味着使用了Pillow不支持的格式�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> django.core.files.uploadedfile <span class="keyword">import</span> SimpleUploadedFile</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">ImageForm</span>(forms.Form):</span><br><span class="line"><span class="meta">... </span>    img = forms.ImageField()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file_data = &#123;<span class="string">&#x27;img&#x27;</span>: SimpleUploadedFile(<span class="string">&#x27;test.png&#x27;</span>, &lt;file data&gt;)&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>form = ImageForm(&#123;&#125;, file_data)</span><br><span class="line"><span class="comment"># Pillow closes the underlying file descriptor.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>form.is_valid()</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image_field = form.cleaned_data[<span class="string">&#x27;img&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image_field.image</span><br><span class="line">&lt;PIL.PngImagePlugin.PngImageFile image mode=RGBA size=191x287 at <span class="number">0x7F5985045C18</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image_field.image.width</span><br><span class="line"><span class="number">191</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image_field.image.height</span><br><span class="line"><span class="number">287</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image_field.image.<span class="built_in">format</span></span><br><span class="line"><span class="string">&#x27;PNG&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image_field.image.getdata()</span><br><span class="line"><span class="comment"># Raises AttributeError: &#x27;NoneType&#x27; object has no attribute &#x27;seek&#x27;.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image = Image.<span class="built_in">open</span>(image_field)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image.getdata()</span><br><span class="line">&lt;ImagingCore <span class="built_in">object</span> at <span class="number">0x7f5984f874b0</span>&gt;</span><br></pre></td></tr></table></figure>
<h4 id="�-4）IntegerField">�?4）IntegerField</h4>
<ul>
<li>默认的Widget：当Field.localize是False时为NumberInput，否则为TextInput�?</li>
<li>空值：None</li>
<li>规范化为：Python 整数或长整数�?</li>
<li>验证给定值是一个整数�?允许前导和尾随空格，类似Python的int()函数�?</li>
<li>错误信息的键：max_value, invalid, required, min_value</li>
</ul>
<p>两个可选参数：max_value和min_value，控制允许的值的范围�?</p>
<h4 id="�-5）JSONField">�?5）JSONField</h4>
<p>Django3.1新增�?</p>
<p>接收JSON编码的字段�?</p>
<ul>
<li>默认的Widget：Textarea</li>
<li>空值：None</li>
<li>规范化为：一个JSON对象�?</li>
<li>验证给定值是否合法的JSON�?</li>
<li>错误信息的键：required, invalid</li>
<li>可接受两个参数：encoder和decoder，编码器和解码器</li>
</ul>
<h4 id="�-6）GenericIPAddressField">�?6）GenericIPAddressField</h4>
<p>包含IPv4或IPv6地址的字段�?</p>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：一个Unicode对象�?</li>
<li>验证给定值是有效的IP地址�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>有两个可选参数：protocol和unpack_ipv4</p>
<h4 id="�-7）MultipleChoiceField">�?7）MultipleChoiceField</h4>
<ul>
<li>默认的Widget：SelectMultiple</li>
<li>空值：[]（一个空列表�?</li>
<li>规范化为：一个Unicode 对象列表�?</li>
<li>验证给定值列表中的每个值都存在于选择列表中�?</li>
<li>错误信息的键：invalid_list, invalid_choice, required</li>
</ul>
<h4 id="�-8）TypedMultipleChoiceField">�?8）TypedMultipleChoiceField</h4>
<p>类似MultipleChoiceField，除了需要两个额外的参数，coerce和empty_value�?</p>
<ul>
<li>默认的Widget：SelectMultiple</li>
<li>空值：empty_value</li>
<li>规范化为：coerce参数提供的类型值列表�?</li>
<li>验证给定值存在于选项列表中并且可以强制�?</li>
<li>错误信息的键：required, invalid_choice</li>
</ul>
<h4 id="�-9）NullBooleanField">�?9）NullBooleanField</h4>
<ul>
<li>默认的Widget：NullBooleanSelect</li>
<li>空值：None</li>
<li>规范化为：Python None, False 或True 值�?</li>
<li>不验证任何内容（即，它从不引发ValidationError）�?</li>
</ul>
<h4 id="�-0）RegexField">�?0）RegexField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：一个Unicode 对象�?</li>
<li>验证给定值与某个正则表达式匹配�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>需要一个必需的参数：regex，需要匹配的正则表达式�?</p>
<p>还可以接收max_length，min_length和strip参数，类似CharField�?</p>
<h4 id="�-1）SlugField">�?1）SlugField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：一个Unicode 对象�?</li>
<li>验证给定的字符串只包括字母、数字、下划线及连字符�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>此字段用于在表单中表示模型的SlugField�?</p>
<h4 id="�-2）TimeField">�?2）TimeField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：None</li>
<li>规范化为：一个Python 的datetime.time 对象�?</li>
<li>验证给定值是datetime.time或以特定时间格式格式化的字符串�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>接收一个可选的参数：input_formats，用于尝试将字符串转换为有效的datetime.time对象的格式列表�?</p>
<p>如果没有提供input_formats，默认的输入格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27;%H:%M:%S&#x27;,     # &#x27;14:30:59&#x27;</span><br><span class="line">&#x27;%H:%M&#x27;,        # &#x27;14:30&#x27;</span><br></pre></td></tr></table></figure>
<h4 id="�-3）URLField">�?3）URLField</h4>
<ul>
<li>默认的Widget：URLInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：一个Unicode 对象�?</li>
<li>验证给定值是个有效的URL�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>可选参数：max_length和min_length</p>
<h4 id="�-4）UUIDField">�?4）UUIDField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：UUID对象�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<h4 id="�-5�-ComboField">�?5�?ComboField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：Unicode 对象�?</li>
<li>根据指定为ComboField的参数的每个字段验证给定值�?</li>
<li>错误信息的键：required, invalid</li>
</ul>
<p>接收一个额外的必选参数：fields，用于验证字段值的字段列表（按提供它们的顺序）�?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from django.forms import ComboField</span><br><span class="line">&gt;&gt;&gt; f = ComboField(fields=[CharField(max_length=20), EmailField()])</span><br><span class="line">&gt;&gt;&gt; f.clean(&#x27;test@example.com&#x27;)</span><br><span class="line">&#x27;test@example.com&#x27;</span><br><span class="line">&gt;&gt;&gt; f.clean(&#x27;longemailaddress@example.com&#x27;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">...</span><br><span class="line">ValidationError: [&#x27;Ensure this value has at most 20 characters (it has 28).&#x27;]</span><br></pre></td></tr></table></figure>
<h4 id="�-6）MultiValueField">�?6）MultiValueField</h4>
<ul>
<li>默认的Widget：TextInput</li>
<li>空值：‘’（一个空字符串）</li>
<li>规范化为：子类的compress方法返回的类型�?</li>
<li>根据指定为MultiValueField的参数的每个字段验证给定值�?</li>
<li>错误信息的键：incomplete, invalid, required</li>
</ul>
<h4 id="�-7）SplitDateTimeField">�?7）SplitDateTimeField</h4>
<ul>
<li>默认的Widget：SplitDateTimeWidget</li>
<li>空值：None</li>
<li>规范化为：Python datetime.datetime 对象�?</li>
<li>验证给定的值是datetime.datetime或以特定日期时间格式格式化的字符串�?</li>
<li>错误信息的键：invalid_date, invalid, required, invalid_time</li>
</ul>
<h3 id="�-】创建自定义字段">�?】创建自定义字段</h3>
<ul>
<li>如果内置的Field真的不能满足你的需求，还可以自定义Field�?</li>
<li>只需要创建一个django.forms.Field的子类，并实现clean()和__init__()构造方法。<code>__init__</code>()构造方法需要接收前面提过的那些核心参数，比如widget、required,、label、help_text、initial�?</li>
<li>还可以通过覆盖get_bound_field()方法来自定义访问字段的方�?</li>
</ul>
<h2 id="【九】forms组件参数总结，补�">【九】forms组件参数总结，补�?</h2>
<h3 id="�-】基本参�">�?】基本参�?</h3>
<h4 id="�-】autocomplete">�?】autocomplete</h4>
<ul>
<li>设置是否启用自动填充功能，可以使用以下值：</li>
<li>on：浏览器自动填充表单项�?</li>
<li>off：禁用浏览器自动填充�?</li>
</ul>
<h4 id="�-】disabled">�?】disabled</h4>
<ul>
<li>设置表单项是否禁用，禁用后用户无法编辑或选择该项的值�?</li>
</ul>
<h4 id="�-】readonly">�?】readonly</h4>
<ul>
<li>设置表单项是否只读，只读的表单项可以显示但不允许用户修改�?</li>
</ul>
<h4 id="�-】max-�-min">�?】max �?min</h4>
<ul>
<li>用于限制数字或日期类型的输入值的最大和最小值�?</li>
</ul>
<h4 id="�-�-maxlength-�-minlength">�?�?**maxlength �?minlength</h4>
<ul>
<li>设置输入值的最大长度和最小长度，超过或低于长度限制时将触发验证错误�?</li>
</ul>
<h4 id="�-】pattern">�?】pattern</h4>
<ul>
<li>使用正则表达式指定输入值的格式验证规则�?</li>
</ul>
<h4 id="�-】required">�?】required</h4>
<ul>
<li>设置表单项是否为必填项，如果未填写必填项，提交表单时将触发验证错误�?</li>
</ul>
<h4 id="�-】step">�?】step</h4>
<ul>
<li>用于数字类型的输入值，指定允许的增量或减量范围�?</li>
</ul>
<h4 id="�-】aria-describedby">�?】aria-describedby</h4>
<ul>
<li>指定与表单项关联的描述性文本的id，辅助技术可以使用此信息提供更好的可访问性�?</li>
</ul>
<h4 id="�-0】aria-invalid">�?0】aria-invalid</h4>
<ul>
<li>设置是否将表单项标记为无效，如果表单项的值不符合验证规则，可以将其设置为&quot;true&quot;�?</li>
</ul>
<h3 id="�-】参数详�">�?】参数详�?</h3>
<h4 id="�-�-widget：添加标签属�">�?�?**widget：添加标签属�?</h4>
<ul>
<li>指定字段的控件显示方式�?</li>
<li>可以使用各种预定义的小部件（widgets）或自定义的小部件类�?</li>
<li>例如，可以使�?forms.TextInput 将字段以文本框的形式显示出来�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;用户�?,</span></span><br><span class="line"><span class="string">        widget=forms.TextInput(attrs=&#123;&quot;</span><span class="keyword">class</span><span class="string">&quot;: &quot;</span>form-control<span class="string">&quot;&#125;)</span></span><br><span class="line"><span class="string">    )</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>在Django的表单中</p>
</li>
<li>
<ul>
<li>widget参数用于设置表单字段的展示方式或使用自定义的HTML元素来呈现字段�?</li>
</ul>
</li>
<li>
<p>widget参数</p>
</li>
<li>
<ul>
<li>可以接受一个Django提供的内置的小部件类（widget class�?</li>
<li>也可以使用自定义的小部件类�?</li>
</ul>
</li>
<li>
<p>以下是几个常用的小部件类及其作用�?</p>
</li>
</ul>
<ol>
<li>forms.TextInput：默认的文本输入框小部件�?</li>
<li>forms.Textarea：多行文本输入框小部件�?</li>
<li>forms.CheckboxInput：复选框小部件�?</li>
<li>forms.Select：下拉选择框小部件�?</li>
<li>forms.RadioSelect：单选按钮小部件�?</li>
<li>forms.FileInput：文件上传小部件�?</li>
<li>forms.HiddenInput：隐藏输入框小部件�?</li>
</ol>
<ul>
<li>
<p>下面是一个示例代码片�?</p>
</li>
<li>
<ul>
<li>演示如何使用widget参数定义一个表单字段的小部件：</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">100</span>,</span><br><span class="line">        widget=forms.TextInput(attrs=&#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;my-custom-class&#x27;</span>&#125;)</span><br><span class="line">    )</span><br><span class="line">    password = forms.CharField(</span><br><span class="line">        max_length=<span class="number">100</span>,</span><br><span class="line">        widget=forms.PasswordInput()</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>上述代码�?</p>
</li>
<li>
<ul>
<li>username 字段使用自定义的CSS类样式，并将其应用到一个文本输入框小部件中�?</li>
<li>password 字段则使用了密码输入框小部件�?</li>
</ul>
</li>
<li>
<p>需要注意的�?</p>
</li>
<li>
<ul>
<li>可以通过attrs参数传递其他的HTML属性给小部件�?</li>
<li>例如，在上面的示例中，我们为username字段定义了class属性�?</li>
</ul>
</li>
<li>
<p>另外</p>
</li>
<li>
<ul>
<li>如果想要使用自定义的小部件类</li>
<li>可以定义一个继承自Django小部件类的类，并将其传递给widget参数。例�?</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCustomWidget</span>(forms.widgets.TextInput):</span><br><span class="line">    <span class="comment"># 自定义的小部件类</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    my_field = forms.CharField(</span><br><span class="line">        widget=MyCustomWidget()</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>上述代码�?</p>
</li>
<li>
<ul>
<li>我们创建了一个名为MyCustomWidget的自定义小部件类�?</li>
<li>并将其用于my_field字段�?</li>
</ul>
</li>
<li>
<p>通过使用widget参数</p>
</li>
<li>
<ul>
<li>我们可以对Django表单字段的展示方式进行灵活的定制</li>
<li>以满足具体项目的需求�?</li>
</ul>
</li>
</ul>
<h4 id="2-required：是否为必填字段">(2)***required：是否为必填字段</h4>
<ul>
<li>设置字段是否为必填项，默认为 True�?</li>
<li>如果设置�?False，则允许用户提交空值。例如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;用户�?,</span></span><br><span class="line"><span class="string">        required=False</span></span><br><span class="line"><span class="string">    )</span></span><br></pre></td></tr></table></figure>
<h4 id="�-�-label：自定义标签文本">�?�?**label：自定义标签文本</h4>
<ul>
<li>指定字段的标签显示文本�?</li>
<li>可以使用该参数自定义字段在表单中的标签文本。例如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;Your Username&quot;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<h4 id="�-�-error-messages：标签不合法的提示信�">�?�?**error_messages：标签不合法的提示信�?</h4>
<ul>
<li>用于自定义错误消息�?</li>
<li>可以通过该参数自定义字段验证失败时显示的错误消息。例如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;用户�?,</span></span><br><span class="line"><span class="string">        error_messages=&#123;</span></span><br><span class="line"><span class="string">            &quot;</span>max_length<span class="string">&quot;: &quot;</span>用户名最多为<span class="number">8</span>个字�?,</span><br><span class="line">            <span class="string">&quot;min_length&quot;</span>: <span class="string">&quot;用户名至少为3个字�?,</span></span><br><span class="line"><span class="string">            &quot;</span>required<span class="string">&quot;: &quot;</span>请填写用户名<span class="string">&quot;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    )</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）help-text：描述提醒信�">�?）help_text：描述提醒信�?</h4>
<ul>
<li>为字段提供帮助文本�?</li>
<li>可以使用该参数为字段添加描述性的帮助文本，以向用户解释该字段的用途或提供输入建议。例如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;用户�?,</span></span><br><span class="line"><span class="string">        help_text=&quot;</span>请输�?-<span class="number">8</span>个字符的用户�?</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<h3 id="�-�-validators：正则表达式">�?�?**validators：正则表达式</h3>
<ul>
<li>用于自定义字段验证器�?</li>
<li>可以使用该参数添加额外的验证函数来对字段进行更复杂的验证。例如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.core.validators <span class="keyword">import</span> RegexValidator</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;用户�?,</span></span><br><span class="line"><span class="string">        validators=[</span></span><br><span class="line"><span class="string">            RegexValidator(</span></span><br><span class="line"><span class="string">                regex=r&quot;</span>^[a-zA-Z]+$<span class="string">&quot;,</span></span><br><span class="line"><span class="string">                message=&quot;</span>只允许字母字�?</span><br><span class="line">            )</span><br><span class="line">        ]</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<h3 id="�-�-initial：默认�">�?�?**initial：默认�?</h3>
<ul>
<li>可以通过 initial 参数为表单字段设置默认值�?</li>
<li>该参数指定了在表单加载时显示的初始值。以下是示例代码�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;用户�?,</span></span><br><span class="line"><span class="string">        initial=&quot;</span>JohnDoe<span class="string">&quot;</span></span><br><span class="line"><span class="string">    )</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>在上述示例中</p>
</li>
<li>
<ul>
<li>username 字段将显示一个文本框</li>
<li>并且默认值为 &quot;JohnDoe&quot;�?</li>
</ul>
</li>
<li>
<p>另外</p>
</li>
<li>
<ul>
<li>如果要为多个字段设置默认�?</li>
<li>可以通过使用 initial 字典来一次性设置多个字段的初始值。例如：</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        max_length=<span class="number">8</span>,</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;用户�?</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">    email = forms.EmailField(</span></span><br><span class="line"><span class="string">        label=&quot;</span>邮箱<span class="string">&quot;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    initial = &#123;</span></span><br><span class="line"><span class="string">        &#x27;username&#x27;: &#x27;JohnDoe&#x27;,</span></span><br><span class="line"><span class="string">        &#x27;email&#x27;: &#x27;johndoe@example.com&#x27;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>可以在实例化表单对象时传�?initial 字典来设置这两个字段的默认值：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">form = MyForm(initial=&#123;</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;JohnSmith&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;email&#x27;</span>: <span class="string">&#x27;johnsmith@example.com&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>当表单加载时</p>
</li>
<li>
<ul>
<li>username 字段将显示为 “JohnSmith”</li>
<li>email 字段将显示为 &quot;<a href="mailto:johnsmith@example.com">johnsmith@example.com</a>&quot;�?</li>
</ul>
</li>
<li>
<p>这样</p>
</li>
<li>
<ul>
<li>通过使用 initial 参数</li>
<li>可以方便地为表单字段设置默认值，提供更好的用户体验�?</li>
</ul>
</li>
</ul>
<h3 id="�-】其他字段渲�">�?】其他字段渲�?</h3>
<h4 id="�-）radioSelect（单选）">�?）radioSelect（单选）</h4>
<ul>
<li>您可以在表单类中使用forms.RadioSelect字段来渲染radioSelect字段。下面是一个案例演示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GenderForm</span>(forms.Form):</span><br><span class="line">    gender_choices = [</span><br><span class="line">        (<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;Male&#x27;</span>),</span><br><span class="line">        (<span class="string">&#x27;female&#x27;</span>, <span class="string">&#x27;Female&#x27;</span>),</span><br><span class="line">    ]</span><br><span class="line">    gender = forms.ChoiceField(choices=gender_choices, widget=forms.RadioSelect)</span><br></pre></td></tr></table></figure>
<ul>
<li>在这个案例中，我们定义了一个名为GenderForm的表单类，其中包含了一个gender字段用于选择性别�?</li>
<li>通过设置widget=forms.RadioSelect，我们将该字段渲染为单选按钮�?</li>
</ul>
<h4 id="�-）单选Select">�?）单选Select</h4>
<ul>
<li>您可以使用forms.Select字段来呈现下拉菜单形式的单选选项。以下是一个案例演示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CityForm</span>(forms.Form):</span><br><span class="line">    city_choices = [</span><br><span class="line">        (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;New York&#x27;</span>),</span><br><span class="line">        (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;London&#x27;</span>),</span><br><span class="line">        (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;Tokyo&#x27;</span>),</span><br><span class="line">    ]</span><br><span class="line">    city = forms.ChoiceField(choices=city_choices, widget=forms.Select)</span><br></pre></td></tr></table></figure>
<ul>
<li>在这个案例中，我们定义了一个名为CityForm的表单类，其中包含了一个city字段用于选择城市。通过设置widget=forms.Select，我们将该字段渲染为下拉菜单�?</li>
</ul>
<h4 id="�-）多选Select">�?）多选Select</h4>
<ul>
<li>使用forms.SelectMultiple字段可以渲染多选Select组件。以下是一个案例演示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InterestsForm</span>(forms.Form):</span><br><span class="line">    interest_choices = [</span><br><span class="line">        (<span class="string">&#x27;coding&#x27;</span>, <span class="string">&#x27;Coding&#x27;</span>),</span><br><span class="line">        (<span class="string">&#x27;gaming&#x27;</span>, <span class="string">&#x27;Gaming&#x27;</span>),</span><br><span class="line">        (<span class="string">&#x27;reading&#x27;</span>, <span class="string">&#x27;Reading&#x27;</span>),</span><br><span class="line">    ]</span><br><span class="line">    interests = forms.MultipleChoiceField(choices=interest_choices, widget=forms.SelectMultiple)</span><br></pre></td></tr></table></figure>
<ul>
<li>在这个案例中，我们定义了一个名为InterestsForm的表单类</li>
<li>其中包含了一个interests字段用于选择兴趣�?</li>
<li>通过设置widget=forms.SelectMultiple，我们将该字段渲染为支持多选的下拉菜单�?</li>
</ul>
<h4 id="�-）单选checkbox">�?）单选checkbox</h4>
<ul>
<li>要渲染单选checkbox字段，您可以使用forms.CheckboxInput字段�?</li>
<li>以下是一个案例演示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AgreeForm</span>(forms.Form):</span><br><span class="line">    agree = forms.BooleanField(widget=forms.CheckboxInput)</span><br></pre></td></tr></table></figure>
<ul>
<li>在这个案例中，我们定义了一个名为AgreeForm的表单类</li>
<li>其中包含了一个agree字段用于接受条款�?</li>
<li>通过设置widget=forms.CheckboxInput，我们将该字段渲染为单选复选框�?</li>
</ul>
<h4 id="�-）多选checkbox">�?）多选checkbox</h4>
<ul>
<li>要渲染多选checkbox字段</li>
<li>可以使用forms.CheckboxSelectMultiple字段�?</li>
<li>以下是一个案例演�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ColorsForm</span>(forms.Form):</span><br><span class="line">    color_choices = [</span><br><span class="line">        (<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;Red&#x27;</span>),</span><br><span class="line">        (<span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;Green&#x27;</span>),</span><br><span class="line">        (<span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;Blue&#x27;</span>),</span><br><span class="line">    ]</span><br><span class="line">    colors = forms.MultipleChoiceField(choices=color_choices, widget=forms.CheckboxSelectMultiple)</span><br></pre></td></tr></table></figure>
<ul>
<li>在这个案例中，我们定义了一个名为ColorsForm的表单类，其中包含了一个colors字段用于选择颜色�?</li>
<li>通过设置widget=forms.CheckboxSelectMultiple，我们将该字段渲染为多个复选框供用户选择�?</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/2.0Scrapy%E6%A1%86%E6%9E%B6%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/2.0Scrapy%E6%A1%86%E6%9E%B6%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-2-0Scrapy��ܰ�װdate-2023-01-01categories-Blogtags-Blog">title: 2.0Scrapy��ܰ�װ<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Scrapy框架安装</h1>
<h2 id="【零】安�">【零】安�?</h2>
<p>方法一</p>
<ul>
<li>
<p>windows系统：pip install scrapy（这个方法一般就会成功）</p>
</li>
<li>
<p>如果这个方法安装失败：用下面的方�?</p>
</li>
</ul>
<h2 id="【二】Windows平台">【二】Windows平台</h2>
<h3 id="�-】安装wheel文件">�?】安装wheel文件</h3>
<ul>
<li>
<p>�?Windows 平台上安�?Scrapy 之前</p>
</li>
<li>
<ul>
<li>首先需要安�?wheel 文件。wheel 文件是一�?Python 包的分发格式，可以方便地进行安装�?</li>
<li>可以通过以下命令来安�?wheel�?</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install wheel</span><br></pre></td></tr></table></figure>
<h3 id="�-】安�-lxml-解析�">�?】安�?lxml 解析�?</h3>
<ul>
<li>Scrapy 使用 lxml 解析器来进行 HTML �?XML 的解析工作�?</li>
<li>要安�?lxml，可以执行以下命令：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install lxml</span><br></pre></td></tr></table></figure>
<h3 id="�-】安�-pyopenssl">�?】安�?pyopenssl</h3>
<ul>
<li>Scrapy 在进�?HTTPS 请求时，需要使�?pyopenssl 模块来提�?SSL/TLS 支持�?</li>
<li>安装 pyopenssl 可以使用以下命令�?</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install pyopenssl</span><br></pre></td></tr></table></figure>
<h3 id="�-】下载并安装pywin32">�?】下载并安装pywin32</h3>
<ul>
<li>下载并安�?pywin32 可以从其官网下载最适合您的版本：<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/pywin32/files/pywin32/">https://sourceforge.net/projects/pywin32/files/pywin32/</a></li>
<li>请根据您的操作系统和Python版本选择正确的安装文件进行下载�?</li>
<li>下载完成后，按照安装向导进行安装�?</li>
</ul>
<h3 id="�-】下载twisted的wheel文件">�?】下载twisted的wheel文件</h3>
<ul>
<li>要安�?Scrapy，需要先下载 twisted �?wheel 文件�?</li>
<li>可以从官方网站下�?twisted �?wheel 文件：<a target="_blank" rel="noopener" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted">http://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted</a></li>
<li>请注意选择与您的Python环境相匹配的 wheel 文件进行下载�?</li>
</ul>
<h3 id="�-】安装twisted">�?】安装twisted</h3>
<ul>
<li>下载完成 twisted �?wheel 文件后，可以使用以下命令安装 twisted�?</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install 下载目录\Twisted-17.9.0-cp36-cp36m-win_amd**.whl</span><br></pre></td></tr></table></figure>
<ul>
<li>�?下载目录 替换为您实际下载 twistedwheel 文件所在的目录</li>
<li>并根据您�?Python 环境选择正确的文件名进行替换�?</li>
</ul>
<h3 id="�-】安装scrapy">�?】安装scrapy</h3>
<ul>
<li>可以优先尝试这个命令，报错再按照上述安装对应的依�?</li>
<li>当上述依赖项都安装完成后，可以使用以下命令来安装 Scrapy�?</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install scrapy</span><br></pre></td></tr></table></figure>
<h2 id="【二】Linux平台">【二】Linux平台</h2>
<ul>
<li>�?Linux 平台上安�?Scrapy，可以通过以下命令进行安装�?</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install scrapy</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/2.0SQL%E8%AF%AD%E5%8F%A5%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/2.0SQL%E8%AF%AD%E5%8F%A5%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-2-0SQL������date-2023-01-01categories-Blogtags-Blog">title: 2.0SQL������<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>SQL语句介绍</h1>
<h2 id="【一】SQL语句的由�">【一】SQL语句的由�?</h2>
<h3 id="�-】socket通信">�?】socket通信</h3>
<ul>
<li>任何基于网络通信的应用程序底层用的都是socket
<ul>
<li>服务�?
<ul>
<li>基于socket通信</li>
<li>收发信息</li>
</ul>
</li>
<li>客户�?
<ul>
<li>基于socket通信</li>
<li>收发信息</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="�-】SQL语句的由�">�?】SQL语句的由�?</h3>
<ul>
<li>为了�?MySQL 不仅能支�?MySQL 自己的客户端应用程序，还能支持其他编程语言</li>
<li>MySQL 采用�?SQL 作为统一的语言来进行数据操作�?</li>
<li>这样就可以让服务器端兼容所有语言，因为所有的客户端应用程序都可以通过执行相同�?SQL 语句来进行数据操作�?</li>
</ul>
<h2 id="【二】库-�-记录-表头-表单">【二】库/�?记录/表头/表单</h2>
<h3 id="�-】库（Database�">�?】库（Database�?</h3>
<ul>
<li>库是指在数据库管理系统中用于存储和组织数据的容器�?</li>
<li>它可以视为一个文件夹，用于存放相关的数据表�?数据库中可以包含多个库，每个库可以包含多个表�?</li>
</ul>
<h3 id="�-】表（Table�">�?】表（Table�?</h3>
<ul>
<li>表是数据库中的一个基本组成单位，用于存储和展示数据�?</li>
<li>表由行（记录）和列（字段）组成，每一行表示一个记录，每一列表示一个字段�?</li>
<li>表可以看作是一个二维数据结构，类似于电子表格�?</li>
</ul>
<h3 id="�-】记录（Record�">�?】记录（Record�?</h3>
<ul>
<li>记录也称作行，是表中的一个数据项或实体�?</li>
<li>每一行都代表了一个完整的数据记录，其中包含了各个字段的具体数值或信息�?</li>
<li>例如，在一个学生信息表中，每一行代表一个学生的具体信息�?</li>
</ul>
<h3 id="�-】表头（Header�">�?】表头（Header�?</h3>
<ul>
<li>
<p>表头是表中的第一行，用于描述每个列字段的含义或名称�?</p>
</li>
<li>
<p>表头通常包含了列的标签或标题，通过表头可以了解每个列字段所代表的意义，方便数据的理解和查询�?</p>
</li>
</ul>
<h3 id="�-】表单（Form�">�?】表单（Form�?</h3>
<ul>
<li>表单是一种用来收集和展示数据的界面形式，常见于数据输入和显示的场景中�?</li>
<li>表单通常包含了各种输入字段（例如文本框、下拉列表等）和相关的操作按钮，用户可以通过表单进行数据的录入、编辑和提交等操作�?</li>
<li>表单的数据可以被存储到相应的表中，用于后续的数据处理和分析�?</li>
</ul>
<h3 id="�-】小�">�?】小�?</h3>
<ul>
<li>库：
<ul>
<li>相当于我们的文件�?</li>
</ul>
</li>
<li>�?
<ul>
<li>相当于我们的文件</li>
</ul>
</li>
<li>记录
<ul>
<li>相当于我们一行一行的数据</li>
</ul>
</li>
<li>表头
<ul>
<li>表格的第一行代�?</li>
</ul>
</li>
<li>表单
<ul>
<li>表头对应的每一条数�?</li>
</ul>
</li>
</ul>
<h1>SQL语句基础</h1>
<h2 id="【一】引�">【一】引�?</h2>
<ul>
<li>mysql是关系型数据�?</li>
<li>所以我们要操作mysql就需要SQL（结构化查询语言�?</li>
</ul>
<h2 id="【二】SQL规范">【二】SQL规范</h2>
<ul>
<li>在数据库管理系统中，SQL语句不区分大小写（建议用大写），因为参数区分大小�?
<ul>
<li>建议命令大写，数据库名、数据表名、字段名统一小写，如数据库名、数据表名、字段名与关键字同名，使用反引号 圈起来，避免冲突�?</li>
</ul>
</li>
<li>SQL语句单行或多行书写，默认以英文分号（;）结尾，关键字不能跨多行或简�?</li>
<li>字符串跟日期类型的值都要以 单引号括起来，单词之间需要使用半角的空格隔开</li>
<li>用空格和缩进来提高SQL语句的可读性�?</li>
</ul>
<h2 id="【三】注释语�">【三】注释语�?</h2>
<h3 id="�-】单行注�">�?】单行注�?</h3>
<ul>
<li>�?–空格</li>
<li>一�?也是注释</li>
<li>mysql支持单行注释</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--这是单行注释</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】多行注�">�?】多行注�?</h3>
<ul>
<li>/*   */</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h2 id="【四】SQL类型">【四】SQL类型</h2>
<ul>
<li>不同的用途，SQL语句通常�?大类�?</li>
</ul>
<h3 id="�-】数据定义语言（Data-Definition-Language-DDL�">�?】数据定义语言（Data Definition Language,DDL�?</h3>
<ul>
<li>用于创建或删除数据库以及数据表的语句，DDL包含一下指令：</li>
<li>CREATE：创建数据库和表等对�?</li>
<li>DROP：删除数据库和表对象</li>
<li>ALTER:修改数据库和表对象的结构</li>
</ul>
<h3 id="�-】数据操纵语言（Data-Manipulation-Language，DML�">�?】数据操纵语言（Data Manipulation Language，DML�?</h3>
<ul>
<li>用于对数据表中的数据进行增删改查</li>
<li>SELECT：查询表中的数据</li>
<li>INSERT:向表中插入新数据</li>
<li>UPDATE：变更表中的数据</li>
<li>DELETE:删除表中的数�?</li>
</ul>
<h3 id="�-】数据控制语言（Data-Control-Language，DCL�">�?】数据控制语言（Data Control Language，DCL�?</h3>
<ul>
<li>用于对控制数据库的操作权限，包括用户权限以及数据操作权限</li>
<li>COMMIT：确认对数据库中的数据进行变�?</li>
<li>ROLLBACK:取消对数据库中的数据进行变更</li>
<li>GRANT：赋予用户操作权�?</li>
<li>REMOVE:取消用户的操作权�?</li>
</ul>
<h2 id="【五】常用命�">【五】常用命�?</h2>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>help</td>
<td>用作显示帮助信息或特定命�?功能的说�?</td>
</tr>
<tr>
<td>status</td>
<td>查看数据库管理系统的状态信�?</td>
</tr>
<tr>
<td>exit</td>
<td>退出数据库终端连接</td>
</tr>
<tr>
<td>quit</td>
<td>退出数据库终端连接</td>
</tr>
<tr>
<td>\c</td>
<td>当打错命令了，想换行重新写时可以在错误命令后面跟着\c回车</td>
</tr>
</tbody>
</table>
<h1>SQL语句操作MySQL数据库基础</h1>
<h2 id="【一】针对库的增删改查（文件夹）">【一】针对库的增删改查（文件夹）</h2>
<h3 id="�-】创建数据库">�?】创建数据库</h3>
<h4 id="�-）语�">�?）语�?</h4>
<ul>
<li>在磁盘上创建一个储存数据表的文件夹</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database[if <span class="keyword">not</span> <span class="keyword">exists</span>] 数据库名 [<span class="keyword">character set</span> 编码字符]</span><br></pre></td></tr></table></figure>
<ul>
<li>注意mysql中的编码字符集中utf-8，要换成utf8mb4.SQL语句中的中括号部分表示可�?</li>
</ul>
<h4 id="�-）例�">�?）例�?</h4>
<ul>
<li>create：创�?</li>
<li>database：数据库</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database day01;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#设置库的默认编码</span><br><span class="line"><span class="keyword">create</span> databases db1 charset<span class="operator">=</span><span class="string">&#x27;gbk&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527162547220.png" alt="image-20240527162547220"></p>
<h3 id="�-】查看数据库">�?】查看数据库</h3>
<h4 id="�-）语�-2">�?）语�?</h4>
<ul>
<li>show : 显示</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;  <span class="comment">-- 查看所有数据库</span></span><br><span class="line"><span class="keyword">show</span> databases <span class="keyword">like</span> <span class="string">&#x27;%test%&#x27;</span>; <span class="comment">-- 查看名字中包含test的数据库</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database 数据库名; <span class="comment">-- 查看指定�?</span></span><br></pre></td></tr></table></figure>
<h4 id="2-例子">(2)例子</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 查看所有库</span><br><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"># 查看指定�?</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database db1;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527162818655.png" alt="image-20240527162818655"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527162926181.png" alt="image-20240527162926181"></p>
<h3 id="�-】修改数据库的编码格�">�?】修改数据库的编码格�?</h3>
<h4 id="�-）语�-3">�?）语�?</h4>
<ul>
<li>character �?字符</li>
<li>set : �?</li>
<li>alter：改动，修改</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> database 数据库名 [<span class="keyword">character set</span> 编码字符集];</span><br></pre></td></tr></table></figure>
<h4 id="2-例子-2">(2)例子</h4>
<ul>
<li>charset �?字符�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> database day01 charset<span class="operator">=</span><span class="string">&#x27;gbk&#x27;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527164011652.png" alt="image-20240527164011652"></p>
<h4 id="3-删除�">(3)删除�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database [if <span class="keyword">exists</span>] 数据库名;</span><br></pre></td></tr></table></figure>
<ul>
<li>例子</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database db2;</span><br></pre></td></tr></table></figure>
<h2 id="【二】针对表的增删改查（文件�">【二】针对表的增删改查（文件�?</h2>
<ul>
<li>在操作表的时候要指定所在的�?</li>
</ul>
<h3 id="�-】查看当前所在库的名�">�?】查看当前所在库的名�?</h3>
<h4 id="�-）语�-4">�?）语�?</h4>
<ul>
<li>select �?选择</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database(); <span class="comment">-- 查看当前使用的数据库</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）例�-2">�?）例�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database();</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527164306600.png" alt="image-20240527164306600"></p>
<h3 id="�-】切换到指定�">�?】切换到指定�?</h3>
<h4 id="�-）语�-5">�?）语�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名;     <span class="comment">--切换数据�?</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）例�-3">�?）例�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use sys;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527164740766.png" alt="image-20240527164740766"></p>
<ul>
<li>切换数据库要注意：进入到某一个数据库后没办法再回到之前的状态，但可以通过use在切换回�?</li>
</ul>
<h3 id="�-】创建表">�?】创建表</h3>
<ul>
<li>
<p>数据表也是有表名的，就像文件有文件名一�?</p>
</li>
<li>
<p>数据表中的一条记录就相当于文件的一行内�?</p>
</li>
<li>
<p>只是不同的是，数据表需要定义表头，成为表的字段名�?</p>
</li>
<li>
<p>而且因为数据库的存储数据更加科学、严谨，所以需要创建表时要给每个字段设置数据类型以及字段约束（完整性约束条件）</p>
</li>
</ul>
<h4 id="�-）语�-6">�?）语�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create table</span>  [if <span class="keyword">not</span> <span class="keyword">exists</span>]  表名 (</span><br><span class="line">    字段�?    数据类型[ ( 存储空间 )    字段约束 ],</span><br><span class="line">    字段�?    数据类型[ ( 存储空间 )    字段约束 ],</span><br><span class="line">    字段�?    数据类型[ ( 存储空间 )    字段约束 ],</span><br><span class="line">    .....</span><br><span class="line">    字段名n   数据类型[ ( 存储空间 )    字段约束 ],</span><br><span class="line">    <span class="keyword">primary key</span>(一�?�?多个 字段�?    <span class="comment">-- 注意，最后一段定义语句，不能有英文逗号的出现，否则报错�?</span></span><br><span class="line">) [engine <span class="operator">=</span> 存储引擎 <span class="keyword">character set</span> 字符集];</span><br></pre></td></tr></table></figure>
<ul>
<li>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create table</span> 表名(字段�?字段类型(长度) 约束条件,字段�?字段类型(长度) 约束条件);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注意</p>
<ul>
<li>上面SQL语句中，小括号中的定义字段语句后面必须以英文逗号结尾，而最后一个字段的定义语句不能有英文逗号出现，否则报错�?</li>
</ul>
</li>
<li>
<ul>
<li>在同一张数据表中，字段名是不能相同，否则报错！</li>
</ul>
</li>
</ul>
<h4 id="�-）例�-4">�?）例�?</h4>
<ul>
<li>创建表定义字�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- mysql中创建数据表要以 create table `表名`</span></span><br><span class="line"><span class="comment">-- 表的字段信息必须写在 (  )  小括号里�?</span></span><br><span class="line"><span class="keyword">create table</span> classes (</span><br><span class="line">    <span class="comment">-- 建议一行一个字段，id 就是字段�?</span></span><br><span class="line">    <span class="comment">-- int 表示设置字段值要以整数的格式保存到硬盘中�?</span></span><br><span class="line">    <span class="comment">-- auto_increment表示当前字段值在每次新增数据时自�?1作为值保�?</span></span><br><span class="line">    <span class="comment">-- primary key，mysql中叫主键，表示用于区分一个数据表中不同行的数据的唯一性，同时还具备加快查询速度的作�?</span></span><br><span class="line">    <span class="comment">-- 注意：auto_increment与primary key 一般是配合使用的，对应的字段名一般也叫id，而且在一个数据表中只有一个字段能使用auto_increment primary key进行设置�?</span></span><br><span class="line">    id <span class="type">int</span> auto_increment <span class="keyword">primary key</span>,</span><br><span class="line">    <span class="comment">-- 字段名：name</span></span><br><span class="line">    <span class="comment">-- varchar(10) 表示当前name这一列可以存储的数据是字符串格式，并且最多只能存10个字�?</span></span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">    <span class="comment">-- 字段名：address</span></span><br><span class="line">    <span class="comment">-- varchar(100) 表示adderss这一列可以存储的数据是字符串格式，并且最多只能存100个字�?</span></span><br><span class="line">    address <span class="type">varchar</span>(<span class="number">100</span>),</span><br><span class="line">    <span class="comment">-- 字段名：total</span></span><br><span class="line">    <span class="comment">-- int 表示当前total这一列的数据只能是整数，而且一个数据表中，整数的最大范围只能是42�?</span></span><br><span class="line">    total <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527170454446.png" alt="image-20240527170454446"></p>
<ul>
<li>上面的SQL语句就相当于创建一个表�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527170602367.png" alt="image-20240527170602367"></p>
<h4 id="3-练习：创建学生表">(3)练习：创建学生表</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create table</span> student(</span><br><span class="line">    id <span class="type">int</span> auto_increment,   <span class="comment">-- 字段名：id，数据类型：int整型，auto_increment整数自动增长+1</span></span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">10</span>),   <span class="comment">-- 字段名：name�?数据类型：varchar字符串（长度限制最�?0个字符）</span></span><br><span class="line">    sex <span class="type">int</span> <span class="keyword">default</span> <span class="number">1</span>,  <span class="comment">-- 字段名：sex，数据类型：int整型，默认值（default）：1 相当于True </span></span><br><span class="line">    classes <span class="type">int</span>,         <span class="comment">-- 字段名：classes�?数据类型：int整型�?</span></span><br><span class="line">    age <span class="type">int</span>,             <span class="comment">-- 字段名：age，数据类型：int整数,</span></span><br><span class="line">    description text,  <span class="comment">-- 字段名：description，数据类型：text文本</span></span><br><span class="line">    <span class="keyword">primary key</span> (id)  <span class="comment">-- 设置主键(id) 每个表必须都有主键，用以区分不同行的数据</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527171009874.png" alt="image-20240527171009874"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527171020991.png" alt="image-20240527171020991"></p>
<h4 id="4-练习：创建课程表">(4)练习：创建课程表</h4>
<ul>
<li>假设现在我们有一个课程表(courses)�?</li>
<li>里面需要保存课程编号（id），课程名（cource），授课老师（lecturer），教室（address�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527171235002.png" alt="image-20240527171235002"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create table</span> courses (</span><br><span class="line">  id <span class="type">int</span> auto_increment <span class="keyword">primary key</span> comment &quot;课程编号&quot;,</span><br><span class="line">  course <span class="type">varchar</span>(<span class="number">50</span>) comment &quot;课程名称&quot;,</span><br><span class="line">  lecturer <span class="type">int</span> comment &quot;讲师编号&quot;,</span><br><span class="line">  address <span class="type">int</span> comment &quot;教室编号&quot;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="�-】查看当前库下面的所有表">�?】查看当前库下面的所有表</h3>
<h4 id="�-）查看所有表">�?）查看所有表</h4>
<ul>
<li>列出当前库的所有的数据�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527171020991.png" alt="image-20240527171020991"></p>
<h4 id="2-查看指定的表">(2)查看指定的表</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create table</span> 表名;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527171537164.png" alt="image-20240527171537164"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create table</span> 表名\G;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527171739165.png" alt="image-20240527171739165"></p>
<h4 id="3-查看当前表的详细信息">(3)查看当前表的详细信息</h4>
<ul>
<li>以表格形式列出当前数据表的结构信�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">describe</span> 表名;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527171923357.png" alt="image-20240527171923357"></p>
<ul>
<li>查看当前表的详细信息（缩写）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> 表名;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527172041242.png" alt="image-20240527172041242"></p>
<h4 id="�-）查看建表语�">�?）查看建表语�?</h4>
<ul>
<li>我们当时创建的格�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create table</span> 表名 \G;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527172207726.png" alt="image-20240527172207726"></p>
<h3 id="�-】修改表">�?】修改表</h3>
<h4 id="�-）修改表的字段类�">�?）修改表的字段类�?</h4>
<ul>
<li>modify：修�?</li>
<li>modify（只能改类型不能改名字）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> 表名 modify 字段�?字段类型(宽度);</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527172711238.png" alt="image-20240527172711238"></p>
<ul>
<li>change:变化</li>
<li>change（名字类型都可）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> 表名 change 旧字段名 字段�?字段类型（宽度）;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240528145449547.png" alt="image-20240528145449547"></p>
<h4 id="2-修改表名�">(2)修改表名�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> 原表�?rename 新表�?</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527190751393.png" alt="image-20240527190751393"></p>
<h4 id="3-添加字段">(3)添加字段</h4>
<ul>
<li>默认是尾部追加字�?</li>
<li>alter �?改动</li>
<li>table ：表�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> 表名 <span class="keyword">add</span> 字段�?字段类型;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527191501404.png" alt="image-20240527191501404"></p>
<ul>
<li>指定追加位置</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> 表名 <span class="keyword">add</span> 字段�?字段类型 after 原字段名;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527191744360.png" alt="image-20240527191744360"></p>
<ul>
<li>指定头部添加字段</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> 表名 <span class="keyword">add</span> 字段�?字段类型 <span class="keyword">first</span>;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527192108535.png" alt="image-20240527192108535"></p>
<h4 id="4-删除字段">(4)删除字段</h4>
<ul>
<li>drop �?下降</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> 表名 <span class="keyword">drop</span> 字段�?</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527192227663.png" alt="image-20240527192227663"></p>
<h3 id="�-】删除表">�?】删除表</h3>
<ul>
<li>删除表结构并且把数据一并删�?</li>
</ul>
<h4 id="�-）语�-7">�?）语�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>
<h4 id="2-例子-3">(2)例子</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student01;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527192430257.png" alt="image-20240527192430257"></p>
<h4 id="3-提示">(3)提示</h4>
<ul>
<li>
<p>DROP DATABASE：删除数据库</p>
</li>
<li>
<p>使用DROP DATABASE命令时要非常谨慎</p>
</li>
<li>
<p>在执行该命令后，MySQL 不会给出任何提示确认信息�?</p>
</li>
<li>
<p>DROP DATABASE 删除数据库后，数据库中存储的所有数据表和数据也将一同被删除，而且不能恢复�?</p>
</li>
<li>
<p>最好在删除数据库之前先将数据库进行备份</p>
</li>
</ul>
<h3 id="�-】以绝对路径的形式操作不同的�">�?】以绝对路径的形式操作不同的�?</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create table</span> db2.t1(id <span class="type">int</span>);</span><br></pre></td></tr></table></figure>
<h3 id="�-】重置表信息">�?】重置表信息</h3>
<ul>
<li>保留数据表结构，但是把数据表存储的数据以及数据表的状态回滚，</li>
<li>相当于删除原表，并新建一张一模一样的空数据表</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>
<h2 id="【三】针对数据的增删改查（一行行数据�">【三】针对数据的增删改查（一行行数据�?</h2>
<ul>
<li>操作数据要有明确的数据库下的数据�?</li>
</ul>
<h3 id="�-】数据的增加">�?】数据的增加</h3>
<h4 id="�-）语�-8">�?）语�?</h4>
<ul>
<li>INSERT…VALUES 语句</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> [<span class="keyword">INTO</span>] <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [ <span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span> [ , �?<span class="operator">&lt;</span>列名n<span class="operator">&gt;</span>] ] <span class="keyword">VALUES</span> (�?) [�?, (值n) ];</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>指定需要插入数据的列名。若向表中的所有列插入数据，则全部的列名均可以省略，直接采�?INSERT&lt;表名&gt;VALUES(�? 即可�?</p>
</li>
<li>
<p>INSERT 语句后面的列名称顺序可以不是 表定义时的顺序，即插入数据时，不需要按照表定义的顺序插入，只要保证值的顺序与列字段的顺序相同就可以�?</p>
</li>
<li>
<p>使用 INSERT…VALUES 语句可以向表中插入一行数据，也可以插入多行数据；</p>
<ul>
<li>插入多行数据</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> [<span class="keyword">INTO</span>] <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [ <span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span> [ , �?<span class="operator">&lt;</span>列名n<span class="operator">&gt;</span>] ] <span class="keyword">VALUES</span> (�?�?值n),</span><br><span class="line">                                                      (�?�?值n),</span><br><span class="line">                                                      ...</span><br><span class="line">                                                      (�?�?值n);</span><br><span class="line"><span class="comment">-- 用单�?INSERT 语句处理多个插入要比使用多条 INSERT 语句更快�?</span></span><br></pre></td></tr></table></figure>
<h4 id="2-例子-4">(2)例子</h4>
<ul>
<li>可以添加多个数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert into</span> classes(name) <span class="keyword">values</span>(&quot;tom&quot;);</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527194001569.png" alt="image-20240527194001569"></p>
<ul>
<li>也可以这样写</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> employee (name,gender,birthday,salary,department) <span class="keyword">VALUES</span> </span><br><span class="line">                                                             (&quot;dream&quot;,<span class="number">1</span>,&quot;1985-12-12&quot;,<span class="number">8000</span>,&quot;教学�?),</span><br><span class="line">                                                             (&quot;hope&quot;,1,&quot;<span class="number">1987</span><span class="number">-08</span><span class="number">-08</span>&quot;,5000,&quot;保安�?),</span><br><span class="line">                                                             (&quot;meng&quot;,<span class="number">1</span>,&quot;1990-06-06&quot;,<span class="number">20000</span>,&quot;销售部&quot;);</span><br></pre></td></tr></table></figure>
<ul>
<li>插入单条数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert into</span> classes(id,name,total) <span class="keyword">values</span>(<span class="number">22</span>,&quot;hope&quot;,<span class="number">8</span>);</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527194625368.png" alt="image-20240527194625368"></p>
<ul>
<li>插入多条数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert into</span> classes(id,name,total) <span class="keyword">values</span>(<span class="number">64</span>,&quot;asd&quot;,<span class="number">52</span>),(<span class="number">84</span>,&quot;zcx&quot;,<span class="number">66</span>);</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527195227107.png" alt="image-20240527195227107"></p>
<ul>
<li>批量添加信息</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT INTO</span> emp (name,gender,age,dep,city,salary) <span class="keyword">VALUES</span></span><br><span class="line">                (&quot;yuan&quot;,&quot;male&quot;,<span class="number">24</span>,&quot;教学�?,&quot;河北�?,<span class="number">8000</span>),</span><br><span class="line">                (&quot;eric&quot;,&quot;male&quot;,<span class="number">34</span>,&quot;销售部&quot;,&quot;山东�?,8000),</span><br><span class="line">                (&quot;rain&quot;,&quot;male&quot;,28,&quot;销售部&quot;,&quot;山东�?,<span class="number">10000</span>),</span><br><span class="line">                (&quot;alvin&quot;,&quot;female&quot;,<span class="number">22</span>,&quot;教学�?,&quot;北京&quot;,9000),</span><br><span class="line">                (&quot;George&quot;, &quot;male&quot;,24,&quot;教学�?,&quot;河北�?,6000),</span><br><span class="line">                (&quot;danae&quot;, &quot;male&quot;,32,&quot;运营�?,&quot;北京&quot;,<span class="number">12000</span>),</span><br><span class="line">                (&quot;Sera&quot;, &quot;male&quot;,<span class="number">38</span>,&quot;运营�?,&quot;河北�?,<span class="number">7000</span>),</span><br><span class="line">                (&quot;Echo&quot;, &quot;male&quot;,<span class="number">19</span>,&quot;运营�?,&quot;河北�?,<span class="number">9000</span>),</span><br><span class="line">                (&quot;Abel&quot;, &quot;female&quot;,<span class="number">24</span>,&quot;销售部&quot;,&quot;北京&quot;,<span class="number">9000</span>);</span><br></pre></td></tr></table></figure>
<h3 id="�-】数据的查看">�?】数据的查看</h3>
<ul>
<li>数据量的时候不建议使用</li>
<li>数据会冲击服务器导致瘫痪</li>
</ul>
<h4 id="�-）语�-9">�?）语�?</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="operator">|</span>field1,filed2 ...   <span class="keyword">FROM</span> tab_name</span><br><span class="line">                  					 <span class="keyword">WHERE</span> 条件</span><br><span class="line">                  					 <span class="keyword">GROUP</span> <span class="keyword">BY</span> field</span><br><span class="line">                  					 <span class="keyword">HAVING</span> 筛�?</span><br><span class="line">                  					 <span class="keyword">ORDER</span> <span class="keyword">BY</span> field</span><br><span class="line">                  					 LIMIT 限制条数</span><br></pre></td></tr></table></figure>
<ul>
<li>MySQL在执行sql语句时的执行顺序�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- from  where  select  group by  having order by</span></span><br></pre></td></tr></table></figure>
<h4 id="2-例子-5">(2)例子</h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 查看全部数据</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> classes;</span><br><span class="line"># 根据指定字段查看数据</span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> classes;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527200318956.png" alt="image-20240527200318956"></p>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527200240879.png" alt="image-20240527200240879"></p>
<h3 id="�-】数据的更改">�?】数据的更改</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 以限定调价修改指定字段的数据</span><br><span class="line"><span class="keyword">update</span> classes <span class="keyword">set</span> name<span class="operator">=</span><span class="string">&#x27;tom&#x27;</span> <span class="keyword">where</span> id <span class="operator">&gt;</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527201046163.png" alt="image-20240527201046163"></p>
<ul>
<li>id &gt; 1 : id只要大于1的都会被改为“tom�?</li>
</ul>
<h3 id="�-】删除数�">�?】删除数�?</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># </span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t1;</span><br></pre></td></tr></table></figure>
<ul>
<li>删除指定字段的数�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> classes <span class="keyword">where</span> id <span class="operator">&gt;</span> <span class="number">60</span>;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527201349621.png" alt="image-20240527201349621"></p>
<ul>
<li>删除指定字段的数�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> classes <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527201534020.png" alt="image-20240527201534020"></p>
<ul>
<li>清空当前表的所有数�?</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> classes;</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240527201753976.png" alt="image-20240527201753976"></p>
<h2 id="【四】总结">【四】总结</h2>
<ul>
<li>MySQL–&gt;SQL语句–&gt;创建数据�?-&gt;库里面的�?-&gt;数据</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/2.0HTML%E5%9F%BA%E7%A1%80%EF%BC%8CHTML%E6%A0%87%E7%AD%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/2.0HTML%E5%9F%BA%E7%A1%80%EF%BC%8CHTML%E6%A0%87%E7%AD%BE/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-2-0HTML������HTML��kdate-2023-01-01categories-Blogtags-Blog">title: 2.0HTML������HTML��ǩ<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>HTML基础</h1>
<h2 id="【一】HTML简�">【一】HTML简�?</h2>
<h3 id="�-】什么是HTML">�?】什么是HTML</h3>
<ul>
<li>超文本标记语言</li>
<li>如果想要让浏览器能够渲染出写的页面，都必须遵从HTML语法</li>
<li>我们在浏览器看到的页面，内部其实都是用HTML代码写的</li>
<li>所有网站都是用HTML代码</li>
</ul>
<h3 id="�-】最基础的页�">�?】最基础的页�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span> # 声明当前文档的类�?</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span> # lang：语言 # 文档的头</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span> # �?</span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span> # mate声明编码格式</span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span> # title 定义你的页面标题</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> # 头的尾巴</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> # 身体</span><br><span class="line"># 放想要的标签及页面样�?</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://tse3-mm.cn.bing.net/th/id/OIP-C.XJ-2yBSMNIAvjkHkW8-r9gHaHa?w=190&amp;h=190&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;my wifi&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> # 身体结尾</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> # 整个文档的结�?</span><br></pre></td></tr></table></figure>
<ul>
<li>上面的语法就是HTML用于构建网页的骨架（所有的网页都是由HTML组成�?</li>
</ul>
<h3 id="�-】总结">�?】总结</h3>
<ul>
<li>HTML都就是书写页面的一套标�?</li>
</ul>
<h2 id="【二】HTML中的注释语法">【二】HTML中的注释语法</h2>
<h3 id="�-】单行注�">�?】单行注�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--单行注释--&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】多行注�">�?】多行注�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">多行注释1</span></span><br><span class="line"><span class="comment">多行注释2</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="【三】HTML文档的结�">【三】HTML文档的结�?</h2>
<h3 id="�-】基本结�">�?】基本结�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span> # 声明当前文档的类�?</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span> # lang：语言</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span> # �?</span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span> # mate声明编码格式</span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span> # Title 你的页面标题</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> # 头的尾巴</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> # 身体</span><br><span class="line"># 放想要的标签及页面样�?页面的内�?</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://tse3-mm.cn.bing.net/th/id/OIP-C.XJ-2yBSMNIAvjkHkW8-r9gHaHa?w=190&amp;h=190&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;my wifi&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span> # 身体结尾</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> # 整个文档的结�?</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://tse3-mm.cn.bing.net/th/id/OIP-C.XJ-2yBSMNIAvjkHkW8-r9gHaHa?w=190&amp;h=190&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;my wifi&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>HTML代码是没有格式的，可以全部写在一行，只不过我们习惯了缩进来表示代�?</p>
</li>
<li>
<p>首先�?!DOCTYPE html&gt; 声明定义了当前文件是一�?HTML 文件�?</p>
</li>
<li>
<ul>
<li>接下来是 <html> 标签，它是整�?HTML 文档的根元素�?</li>
<li>�?<html> 标签之内，有两个主要的部分： <head> �?<body>�?</li>
</ul>
</li>
<li>
<head> 用于定义文档的头部信息，其中可以包含一些重要的元素 
</li>
<li>
<ul>
<li>例如 <title> 设置页面标题�?meta&gt; 设置字符编码、关键词等�?</li>
<li>这些元素通常不会展示在浏览器中，而是提供一些关于页面的描述和配置�?</li>
</ul>
</li>
<li>
<body> 则包含了整个页面的可见内�?
</li>
<li>
<ul>
<li>例如段落、标题、图像、链接等�?</li>
<li>这些元素将直接影响和呈现到用户所看到的页面上�?</li>
</ul>
</li>
<li>
<p>需要注意的是，HTML 的标签是有层级关系的，内部的标签必须位于外部标签的范围之内，无法单独存在�?</p>
</li>
</ul>
<h2 id="【四】HTML标签的分�">【四】HTML标签的分�?</h2>
<h3 id="�-】单标签（自闭标签）">�?】单标签（自闭标签）</h3>
<ul>
<li>标签自己闭合，不需要另一半标�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】双标签">�?】双标签</h3>
<ul>
<li>有头有尾</li>
<li>内容写在中间</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>herf  ：<code>href</code> 属性的值可以是一个绝�?URL，也可以是相对于当前页面的相�?URL�?</li>
</ul>
<h2 id="【五】head常用标签">【五】head常用标签</h2>
<h3 id="�-】title–-标题标签">�?】title–&gt;标题标签</h3>
<ul>
<li>控制网络小标�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】stryle–-内部用来写css代码">�?】stryle–&gt;内部用来写css代码</h3>
<ul>
<li>css：叠样式表，是用于描述HTML或XML（包括如SVG、MathML等衍生语言）文档样式的计算机语言�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--标签颜色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h2</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>:black;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】script–-内部用来书写js动作代码（可以引用外部JS文件�">�?】script–&gt;内部用来书写js动作代码（可以引用外部JS文件�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--script标签  用来书写 JavaScript  动作 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 获取到当�?id 值为 d1 的标�?</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#d1&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="number">111</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】link–-应用外部css文件">�?】link–&gt;应用外部css文件</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>href</code> 属性指定了被链接文档的位置，通常是CSS文件的URL�?</li>
</ul>
<h3 id="�-】meta">�?】meta</h3>
<h4 id="�-）介�">�?）介�?</h4>
<ul>
<li>
<p><meta>标签是一种HTML标签，用于在网页中提供元数据（metadata�?</p>
<ul>
<li>元数据是描述数据的数据，它们提供关于网页内容，字符集，作者，关键字等信息，帮助搜索引擎和浏览器理解和处理网页</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--meta 标签用来定义当前文档的参�?元数�?charset：默认文档的编码格式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-常见的-meta-标签">(2)常见的<code>&lt;meta&gt;</code>标签</h4>
<ul>
<li>
<p>&lt;meta charset=&quot;字符�?&gt;�?</p>
</li>
<li>
<ul>
<li>指定网页文档使用的字符集，常见的字符集有UTF-8、ISO-8859-1等�?</li>
</ul>
</li>
<li>
<p><meta name="viewport" content="viewport设置">�?</p>
</li>
<li>
<ul>
<li>用于指定网页在移动设备上的视口（viewport）设置，包括网页的宽度、初始缩放比例等�?</li>
</ul>
</li>
<li>
<p>&lt;meta name=“keywords” content=&quot;关键�?&gt;�?</p>
</li>
<li>
<ul>
<li>*<em>用于指定网页的关键词，帮助搜索引擎判断网页的相关性�?</em></li>
</ul>
</li>
<li>
<p><meta name="description" content="网页描述">�?</p>
</li>
<li>
<ul>
<li>*<em>用于提供对网页内容的简要描述，显示在搜索结果页面中作为网页摘要�?</em></li>
</ul>
</li>
<li>
<p><meta name="robots" content="指令">�?</p>
</li>
<li>
<ul>
<li>指定搜索引擎对网页的索引和抓取规则，如通过&quot;noindex&quot;禁止索引网页�?</li>
</ul>
</li>
<li>
<p><meta http-equiv="参数" content="内容">�?</p>
</li>
<li>
<ul>
<li>用于设置HTTP响应头信�?</li>
<li>�?meta http-equiv=“refresh” content=“5;url=<a target="_blank" rel="noopener" href="http://example.com/">http://example.com/</a>”&gt;可在5秒后自动跳转到指定地址�?</li>
</ul>
</li>
</ul>
<p><meta>标签通常放置在HTML文件�?head&gt;标签内，起到提供关于网页的元数据的作用�?</p>
<p>正确使用<meta>标签可以优化网页的SEO、改善用户体验以及与搜索引擎的交互�?</p>
<h2 id="【六】body常用标签">【六】body常用标签</h2>
<h3 id="�-】-h1-–-级别标题标签">�?】<code>&lt;h1&gt;</code>–&gt;级别标题标签</h3>
<ul>
<li>用于显示网页标题的级数（1-6级）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span><span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span><span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】-b-–-加粗文字">�?】<code>&lt;b&gt;</code>–&gt;加粗文字</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>加粗文字<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】-i-–-斜体">�?】<code>&lt;i&gt;</code>–&gt;斜体</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>字体是斜�?/i&gt;</span><br></pre></td></tr></table></figure>
<h3 id="�-】-u-–-下划�">�?】<code>&lt;u&gt;</code>–&gt;下划�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>下划�?/u&gt;</span><br></pre></td></tr></table></figure>
<h3 id="�-】-s-–-删除�">�?】<code>&lt;s&gt;</code>–&gt;删除�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">s</span>&gt;</span>删除�?/s&gt;</span><br></pre></td></tr></table></figure>
<h3 id="�-】-p-–-段落标签">�?】<code>&lt;p&gt;</code>–&gt;段落标签</h3>
<ul>
<li>一个p代表一�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一�?p 标签就是一�?/p&gt;</span><br></pre></td></tr></table></figure>
<h3 id="�-】-br">�?】<code>&lt;br&gt;</code></h3>
<ul>
<li>换行</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】-hr-–-水平分割�">�?】<code>&lt;hr&gt;</code>–&gt;水平分割�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】-a-–-用于创建一个超链接">�?】<code>&lt;a&gt;</code>–&gt;用于创建一个超链接</h3>
<ul>
<li>使用户点击链接跳转到其他页面或下载文件�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://weixin.qq.com/&quot;</span>&gt;</span>点击进入<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-0】-img-–-用户网页中插入图�">�?0】<code>&lt;img&gt;</code>–&gt;用户网页中插入图�?</h3>
<ul>
<li>可以指定图像的URL来显示图�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://tse3-mm.cn.bing.net/th/id/OIP-C.XJ-2yBSMNIAvjkHkW8-r9gHaHa?w=190&amp;h=190&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-1】-ul-�-li-–-创建无序列表">�?1】<code>&lt;ul&gt;�?li&gt;</code>–&gt;创建无序列表</h3>
<ul>
<li><code>&lt;ul&gt;定义列表�?li&gt;定义列表项</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>b<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>c<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-2】-ol-�-li-–-有序列表">�?2】<code>&lt;ol&gt;�?li&gt;</code>–&gt;有序列表</h3>
<ul>
<li><code>&lt;ol&gt;定义列表，�?li&gt;定义每个列表项</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ol&gt;</span><br><span class="line">    &lt;li&gt;a&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;b&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;c&lt;/li&gt;</span><br><span class="line">&lt;/ol&gt;</span><br></pre></td></tr></table></figure>
<h3 id="�-3】-div-–-将文档分成逻辑部分或组合内�">�?3】<code>&lt;div&gt;</code>–&gt;将文档分成逻辑部分或组合内�?</h3>
<ul>
<li>就是将数据合为一体，6666  8888为一体，9999 4444为一�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>6666<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>8888<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>9999<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>4444<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-4】-span-–-该标签对文本进行样式划或划定特定区域">�?4】<code>&lt;span&gt;</code>–&gt;该标签对文本进行样式划或划定特定区域</h3>
<ul>
<li>通常和CSS一起使�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--span标签：行级标签每一个span都是一�?-&gt;</span></span><br><span class="line"><span class="comment">&lt;span&gt;第一�?/span&gt;</span></span><br><span class="line"><span class="comment">&lt;span&gt;第二�?/span&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-5】-table-�-tr-�-tb">�?5】<code>&lt;table&gt;�?tr&gt;�?tb&gt;</code></h3>
<ul>
<li><code>&lt;table&gt;</code>:定义整个表格</li>
<li><code>&lt;tr&gt;</code>:定义表格的行</li>
<li><code>&lt;td&gt;</code>:定义表格的单元格</li>
<li><code>&lt;thead&gt;</code>：表头数�?</li>
<li><code>&lt;tbody&gt;</code>：表体数�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--style：表格边界线--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px solid red&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--表头--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--一行数�?标识--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--加粗--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>用户�?/th&gt;</span><br><span class="line">        <span class="comment">&lt;!--普�?-&gt;</span></span><br><span class="line"><span class="comment">        &lt;th&gt;密码&lt;/th&gt;</span></span><br><span class="line"><span class="comment">    &lt;/tr&gt;</span></span><br><span class="line"><span class="comment">    &lt;/thead&gt;</span></span><br><span class="line"><span class="comment">    &lt;!--表体--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>username<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>password<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 得到</span><br><span class="line">用户�?密码</span><br><span class="line">username	password</span><br></pre></td></tr></table></figure>
<h3 id="�-6】-from-–-创建一个表�">�?6】<code>&lt;from&gt;</code>–&gt;创建一个表�?</h3>
<ul>
<li>用户可以在表单中输入信息并提�?</li>
</ul>
<h2 id="【七】标签的分类">【七】标签的分类</h2>
<ul>
<li>标签分为两位类：块级标签和行级标�?</li>
</ul>
<h3 id="�-】块级标签（Block-level-elements�">�?】块级标签（Block-level elements�?</h3>
<h4 id="�-）介�-2">�?）介�?</h4>
<ul>
<li>块级标签是指 ：一类会独自占据一行的HYML元素</li>
<li>从新的一行开始到遇到下一个块级标签和行级标签</li>
<li>块级标签用于组织和结构化的不同部分，并且包含其他的块级元素和行级元素</li>
</ul>
<h4 id="�-）常见的块级标签">�?）常见的块级标签</h4>
<ul>
<li>
<p><code>&lt;div&gt;</code>：定义文档中的一个区域和一个区�?</p>
</li>
<li>
<p><code>&lt;p&gt;</code>：定义段�?</p>
</li>
<li>
<p><code>&lt;h1&gt;</code>-<code>&lt;h6&gt;</code>：定义标题的级别</p>
</li>
<li>
<p><code>&lt;ul&gt;</code>-<code>&lt;li&gt;</code>：ul里面包着li，组成无序列�?</p>
</li>
<li>
<p><code>&lt;ol&gt;</code>-<code>&lt;li&gt;</code>：ol里面包着li，组成有序列�?</p>
</li>
<li>
<p><code>&lt;table&gt;</code>：用于定义表�?</p>
<ul>
<li><code>&lt;thead&gt;</code>：表头数�?</li>
<li><code>&lt;tbody&gt;</code>：表体数�?</li>
<li><code>&lt;tr&gt;</code>：表的行数据</li>
<li><code>&lt;td&gt;</code>：定义表的单元格</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>【一】块级标�?/h1&gt;</span><br><span class="line"><span class="comment">&lt;!--块级标签内可以嵌套任意的块级标签和行级标签，p标签例外--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>最常用的块级标签就是div标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一整块数据<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一整块数据<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>p标签：用于定义段落，没一行数据都是一�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>h1-h6�?-6级标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>ul,li是无序列�?/li&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>无序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是有序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>有序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&#x27;border: 1px solid red&#x27;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 表头数据thead  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--   表的行数据tr --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    数据进行加粗th--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>编号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>名字<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--   表体数据tbody --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    表体--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>18<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240605155624325.png" alt="[image-20240605155624325]"></p>
<h3 id="�-】行级标签（Inline-elements�">�?】行级标签（Inline elements�?</h3>
<h4 id="�-）介�-3">�?）介�?</h4>
<ul>
<li>一行内显示的HTML元素，不会打断当前行�?<em>并且只会占据所需的内容宽�?</em></li>
<li>行级标签只能包含其他的行级元�?</li>
</ul>
<h4 id="�-）常见的行级元素">�?）常见的行级元素</h4>
<ul>
<li>
<p><code>&lt;span&gt;</code>：一行数据，用于文本中的某个部分进行样式化或划定特定区域</p>
</li>
<li>
<p><code>&lt;a&gt;</code>：创建超链接</p>
</li>
<li>
<p><code>&lt;strong&gt;</code>：加粗文本信�?</p>
</li>
<li>
<p><code>&lt;em&gt;</code> ：是文本变为倾斜�?</p>
</li>
<li>
<p><code>&lt;alt&gt;</code>  ：插入图�?</p>
<ul>
<li>
<p>里面的参�?</p>
</li>
<li>
<p>title：鼠标悬浮在图片上显示的信息</p>
</li>
<li>
<p>height：图片展示的高度</p>
</li>
<li>
<p>width：图片展示的宽度</p>
</li>
</ul>
</li>
<li>
<p><code>&lt;br&gt;</code>：换行符</p>
</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240605160953932.png" alt="image-20240605160953932"></p>
<h3 id="�-】补�">�?】补�?</h3>
<ul>
<li>需要注意的是，HTML5中引入了一些新的标签和元素，它们的性质可能介于块级和行内之间，被称为块级行内元素（block-level inline element）或行内块级元素（inline block-level element�?</li>
</ul>
<h3 id="�-】总结-2">�?】总结</h3>
<ul>
<li>块级标签可以需改长度，行级标签不可以修改长度，及时修改也不会发生变�?</li>
<li>块级标签可以嵌套任意的块级标签和行级标签（p标签除外，p标签里面只能嵌套行级标签�?</li>
</ul>
<h2 id="【八】特殊字�">【八】特殊字�?</h2>
<h3 id="�-】空�">�?】空�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;nbsp;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】大于号">�?】大于号</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】小于号">�?】小于号</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;lt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-�-�">�?�?�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;amp;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】￥�">�?】￥�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;yen;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】版权符">�?】版权符</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;copy;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】注册商标符">�?】注册商标符</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;reg;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】商标符">�?】商标符</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;trade;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】乘�">�?】乘�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;times;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-0】除�">�?0】除�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;divide;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240605164028631.png" alt="image-20240605164028631"></p>
<h3 id="�-1】总结">�?1】总结</h3>
<ul>
<li>
<p>特殊�?</p>
</li>
<li>
<ul>
<li>版权符号：©，表示方法�?copy; 或�?©�?</li>
<li>注册商标符号：®，表示方法�?reg; 或�?®�?</li>
<li>商标符号：™，表示方法为™ 或�?™�?</li>
<li>惊叹号：！，直接输入&quot;!&quot; 即可�?</li>
<li>问号：？，直接输�??&quot; 即可�?</li>
<li>减号�?，直接输�?“-” 即可�?</li>
<li>加号�?，直接输�?“+” 即可�?</li>
<li>百分号：%，直接输�?“%” 即可�?</li>
<li>等于号：=，直接输�?“=” 即可�?</li>
<li>乘号：×，表示方法�?× 或�?×�?</li>
<li>除号：÷，表示方法�?divide; 或�?÷�?</li>
<li>分号：；，直接输�?;&quot; 即可�?</li>
<li>冒号：：，直接输�?:&quot; 即可�?</li>
<li>单引号：‘，直接输�?’&quot; 即可�?</li>
<li>双引号：“，直接输�?”“” 即可�?</li>
</ul>
</li>
</ul>
<h2 id="【九】常用标�">【九】常用标�?</h2>
<h3 id="�-】div标签">�?】div标签</h3>
<ul>
<li>最长用的div容器标签，用于见将文档分隔成独立的区�?</li>
<li>div可以包裹其他的标�?</li>
<li>常用于定义页面的整体结构或划分不同的内容区域</li>
</ul>
<h3 id="�-】span标签">�?】span标签</h3>
<ul>
<li>
<p>Span标签通常用于对特定部分进行样式修饰或添加特殊效果</p>
<ul>
<li>如修改文字颜色、加粗、斜体等，或者配合CSS实现一些交互效�?</li>
</ul>
</li>
<li>
<p>span更多用于样式上的调整</p>
</li>
<li>
<p>普通文本可以用span占位，然后再去装饰页�?</p>
</li>
<li>
<p>在构造初期最常使用，页面的布局一般先用div和span占位后再去调整样式，尤其是div使用最为频�?</p>
</li>
</ul>
<h3 id="�-】img标签">�?】img标签</h3>
<ul>
<li>图片标签</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">title</span>=<span class="string">&quot;&quot;</span> <span class="attr">height</span>=<span class="string">&quot;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>src:存放图片的路径（也可以上网上的链接）</li>
<li>alt：图片加载不成功时，加载出的图片描述信息</li>
<li>title：当鼠标悬浮在图片上面上之后，展示图片信�?</li>
<li>height：图片展示在页面的高�?–》单位是xp</li>
<li>width：图片展示在页面的宽�?–》单位是xp</li>
</ul>
<h3 id="�-】a标签">�?】a标签</h3>
<ul>
<li>链接标签</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>href : 指定 url 用户点击该链接就会跳转到目标链接</p>
<ul>
<li>
<p>�?a 标签指定的网址从来没有被点击过，那么a标签的字体颜色就是蓝�?</p>
</li>
<li>
<p>�?a 标签指定的网址从来被点击过后，那么a标签的字体颜色就是紫�?</p>
</li>
<li>
<p>可以放其他标签的id值，点击即可跳转到对应的标签位置</p>
</li>
</ul>
</li>
<li>
<p>target</p>
</li>
<li>
<ul>
<li>_self</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>默认 a 标签是在当前页面完成跳转</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>_blank</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>跳转到新建的标签�?</li>
</ul>
</li>
</ul>
</li>
<li>
<p>a标签的锚点功�?</p>
<ul>
<li>意思就是点击文本标题就会跳转到标题对应的区�?
<ul>
<li>前提是你也要在最顶上定义a</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span>&gt;</span>顶部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;d2&quot;</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;d3&quot;</span>&gt;</span>底部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#d1&quot;</span>&gt;</span>回到顶部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#d2&quot;</span>&gt;</span>回到中间<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="【十】标签的两个重要的属�">【十】标签的两个重要的属�?</h2>
<h3 id="�-】id属�">�?】id属�?</h3>
<ul>
<li>是类似于标签的唯一标识符，用于在同一个页面上唯一标识一个特定的元素�?</li>
<li>每个id值在整个文档中都必须是唯一的，不能重复使用�?</li>
<li>通过id值，我们可以在JavaScript或CSS中引用特定标签，并对其进行操作或样式化�?</li>
<li>类似于标签的身份证号，在同一个页面上id值不能重�?</li>
</ul>
<h3 id="�-】class属�">�?】class属�?</h3>
<ul>
<li>一个HTML可具有多个class标签，这些带有class值的标签会享有同一个属�?</li>
<li>多个class值之间使用空格分�?</li>
<li>通过class值，我们可以定义一组相关的样式或行为，并将其应用于多个标签，实现代码的重用和简化�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.red_color</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#p1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: deeppink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>蒹葭苍苍，白露为�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;red_color&quot;</span>&gt;</span>所谓伊人，在水一�?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240605172624647.png" alt="image-20240605172624647"></p>
<h2 id="【十一】列表标�">【十一】列表标�?</h2>
<h3 id="�-】无序列�">�?】无序列�?</h3>
<ul>
<li><code>&lt;ul&gt;&lt;li&gt;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>ul,li是无序列�?/li&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>无序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】有序列�">�?】有序列�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是有序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>有序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】标题列�">�?】标题列�?</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>标题一<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容一<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>标题�?/dt&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容�?/dd&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>标题�?/dt&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容�?/dd&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>标题�?/dt&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容�?/dd&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1>HTML的块级标签，行级标签和特殊符号的示例</h1>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>【一】块级标�?/h1&gt;</span><br><span class="line"><span class="comment">&lt;!--块级标签内可以嵌套任意的块级标签和行级标签，p标签例外--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>最常用的块级标签就是div标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一整块数据<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一整块数据<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>p标签：用于定义段落，没一行数据都是一�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>h1-h6�?-6级标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>ul,li是无序列�?/li&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>无序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是有序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>有序列表<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--dl,dt,dd标题列表--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>标题一<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容一<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&#x27;border: 1px solid red&#x27;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 表头数据thead  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--   表的行数据tr --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    数据进行加粗th--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>编号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>名字<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--   表体数据tbody --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    表体--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>18<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>【二】行级标�?/h1&gt;</span><br><span class="line"><span class="comment">&lt;!--行级标签只能嵌套行级标签--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>行级标题就是只有这一行的数据，里面不能是块级标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>常见的行级标题span<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>这是一行数�?/span&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>a是超链接，href是连接地址<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com/index.htm&quot;</span>&gt;</span>点击有惊�?/a&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>加粗文本strong<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>将文本加�?/strong&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>是文本斜体显�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>文本是斜�?/em&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>插入图片alt<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>src图片的地址<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>alt是图签加载不成功，加载出图片的描述性信�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>title ：鼠标悬浮在图片上的时候，显示的信�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>height ：图片展示的高度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>width：图片展示的宽度<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://n.sinaimg.cn/ent/4_img/upload/1f0ce517/160/w1024h1536/20210413/f3cc-knqqqmv1022303.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;图片错误&quot;</span> <span class="attr">title</span>=<span class="string">&quot;刘岩图签&quot;</span> <span class="attr">height</span>=<span class="string">&quot;600xp&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400xp&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--xp是像素的单位--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--换行符br--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!----&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>【三】特殊字�?/h1&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>空格字符<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--前面几个空格就写几个&amp;nbsp;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>    <span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span>1111    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>大于�?/h2&gt;</span><br><span class="line"><span class="comment">&lt;!--&amp;gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>100 <span class="symbol">&amp;gt;</span> 50<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>小于�?/h2&gt;</span><br><span class="line"><span class="comment">&lt;!--&amp;lt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>100 <span class="symbol">&amp;lt;</span> 200<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&amp;符号<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&amp;amp;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>10 <span class="symbol">&amp;amp;</span> 20<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>￥中文版<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&amp;yen;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>10 <span class="symbol">&amp;yen;</span> 20<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>版权 �?/h2&gt;</span><br><span class="line"><span class="comment">&lt;!--也可以一�?#169;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&amp;copy;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>10 <span class="symbol">&amp;copy;</span> 20<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>注册商标 �?/h2&gt;</span><br><span class="line"><span class="comment">&lt;!--也可以用&amp;#174;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&amp;reg;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span> 10 <span class="symbol">&amp;reg;</span> 20<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>商标符号<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&amp;trade;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--或者是&amp;#8482;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>10 <span class="symbol">&amp;trade;</span> 20<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>乘号<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&amp;times;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--或�?#215;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>10 <span class="symbol">&amp;times;</span> 20<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>除号<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&amp;divide;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--或�?#247;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>10 <span class="symbol">&amp;divide;</span> 20<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      �?惊叹号：！，直接输入&quot;!&quot; 即可�?</span><br><span class="line">  �?问号：？，直接输�??&quot; 即可�?</span><br><span class="line">  �?减号�?，直接输�?&quot;-&quot; 即可�?</span><br><span class="line">  �?加号�?，直接输�?&quot;+&quot; 即可�?</span><br><span class="line">  �?百分号：%，直接输�?&quot;%&quot; 即可�?</span><br><span class="line">  �?等于号：=，直接输�?&quot;=&quot; 即可�?</span><br><span class="line">      �?分号：；，直接输�?;&quot; 即可�?</span><br><span class="line">  �?冒号：：，直接输�?:&quot; 即可�?</span><br><span class="line">  �?单引号：&#x27;，直接输�?&#x27;&quot; 即可�?</span><br><span class="line">  �?双引号：&quot;，直接输�?&quot;&quot;&quot; 即可�?</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">【一】块级标�?</span><br><span class="line">最常用的块级标签就是div标签</span><br><span class="line"></span><br><span class="line">这是一整块数据</span><br><span class="line"></span><br><span class="line">这是一整块数据</span><br><span class="line"></span><br><span class="line">p标签：用于定义段落，没一行数据都是一�?</span><br><span class="line"></span><br><span class="line">h1-h6�?-6级标�?</span><br><span class="line">ul,li是无序列�?</span><br><span class="line">无序列表</span><br><span class="line">这是有序列表</span><br><span class="line">有序列表</span><br><span class="line">标题一</span><br><span class="line">内容一</span><br><span class="line">编号	名字	年龄</span><br><span class="line">1	tom	18</span><br><span class="line">【二】行级标�?</span><br><span class="line">行级标题就是只有这一行的数据，里面不能是块级标签</span><br><span class="line"></span><br><span class="line">常见的行级标题span</span><br><span class="line"></span><br><span class="line">这是一行数�?</span><br><span class="line">a是超链接，href是连接地址</span><br><span class="line"></span><br><span class="line">点击有惊�?</span><br><span class="line">加粗文本strong</span><br><span class="line"></span><br><span class="line">将文本加�?</span><br><span class="line">是文本斜体显�?</span><br><span class="line"></span><br><span class="line">文本是斜�?</span><br><span class="line">插入图片alt</span><br><span class="line"></span><br><span class="line">src图片的地址</span><br><span class="line"></span><br><span class="line">alt是图签加载不成功，加载出图片的描述性信�?</span><br><span class="line"></span><br><span class="line">title ：鼠标悬浮在图片上的时候，显示的信�?</span><br><span class="line"></span><br><span class="line">height ：图片展示的高度</span><br><span class="line"></span><br><span class="line">width：图片展示的宽度</span><br><span class="line"></span><br><span class="line">图片错误</span><br><span class="line">【三】特殊字�?</span><br><span class="line">空格字符</span><br><span class="line">    1111</span><br><span class="line">大于�?</span><br><span class="line">100 &gt; 50</span><br><span class="line">小于�?</span><br><span class="line">100 &lt; 200</span><br><span class="line">&amp;符号</span><br><span class="line">10 &amp; 20</span><br><span class="line">￥中文版</span><br><span class="line">10 ¥ 20</span><br><span class="line">版权 �?</span><br><span class="line">10 © 20</span><br><span class="line">注册商标 �?</span><br><span class="line">10 ® 20</span><br><span class="line">商标符号</span><br><span class="line">10 �?20</span><br><span class="line">乘号</span><br><span class="line">10 × 20</span><br><span class="line">除号</span><br><span class="line">10 ÷ 20</span><br><span class="line">�?惊叹号：！，直接输入&quot;!&quot; 即可�?�?问号：？，直接输�??&quot; 即可�?�?减号�?，直接输�?&quot;-&quot; 即可�?�?加号�?，直接输�?&quot;+&quot; 即可�?�?百分号：%，直接输�?&quot;%&quot; 即可�?�?等于号：=，直接输�?&quot;=&quot; 即可�?�?分号：；，直接输�?;&quot; 即可�?�?冒号：：，直接输�?:&quot; 即可�?�?单引号：&#x27;，直接输�?&#x27;&quot; 即可�?�?双引号：&quot;，直接输�?&quot;&quot;&quot; 即可�?</span><br><span class="line">点击返回头顶</span><br></pre></td></tr></table></figure>
<h1>HTML的标签用�?</h1>
<ul>
<li>在xxx.html文件中书写，带你文件里面的浏览器标志</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        src = <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--title：控制页面上显示的页面标题内�?-&gt;</span></span><br><span class="line"><span class="comment">    &lt;title&gt;title&lt;/title&gt;</span></span><br><span class="line"><span class="comment">    &lt;!--style标签 用来书写css样式--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--script标签 用来书写JavaScript的动�?-&gt;</span></span><br><span class="line"><span class="comment">    &lt;script&gt;</span></span><br><span class="line"><span class="comment">        //获取当前id值为d1的标�?</span></span><br><span class="line"><span class="comment">        $(&quot;#d1&quot;).click(function () &#123;</span></span><br><span class="line"><span class="comment">            alert(111)</span></span><br><span class="line"><span class="comment">        &#125;)</span></span><br><span class="line"><span class="comment">    &lt;/script&gt;</span></span><br><span class="line"><span class="comment">    &lt;!--link标签 用来引用css文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;h2.css&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--meta 标签用来定义当前文档的参�?元数�?charset：默认文档的编码格式--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--标签颜色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h2</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>:black;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>【一】标签分两类<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span>&gt;</span>�?】单标签(自闭和标�?<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>段落标签 （一�?p 标签就是一行）只有头没有尾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】双标签<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一�?p 标签就是一�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>【二】head常用标签<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>link：引入css文件<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>script：内部可以书写js代码 标签可以引用js文件<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>style：内部书写css代码<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>【三】body常用标签<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】标题标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>网页标题1-6�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】加粗标�?/h2&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>加粗文字<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】斜体标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>字体是斜�?/i&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】下划线标签<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>下划�?/u&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】删除标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">s</span>&gt;</span>删除�?/s&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】段落标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一�?p 标签就是一�?/p&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】换行标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>嘀嘀嘀 <span class="tag">&lt;<span class="name">br</span>&gt;</span> 弟弟弟弟<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】水平分割线<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?】a标签：超连接标签<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://weixin.qq.com/&quot;</span>&gt;</span>点击进入<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?0】img标签：图片渲染标�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>渲染图片 用于网络中插入图�?本地或者基于网络的链接<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://tse3-mm.cn.bing.net/th/id/OIP-C.XJ-2yBSMNIAvjkHkW8-r9gHaHa?w=190&amp;h=190&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?1】无序列�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>b<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>c<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>�?2】有序列�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>b<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>c<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>dic标签：分组，将文档分成逻辑部分和组合部�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>6666<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>8888<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>9999<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>4444<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>span标签：行级标签每一个span都是一�?/h2&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>第一�?/span&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>第二�?/span&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>table标签：表格标�?/h2&gt;</span><br><span class="line"><span class="comment">&lt;!--style：表格边界线--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px solid red&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--表头--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--一行数�?标识--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--加粗--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>用户�?/th&gt;</span><br><span class="line">        <span class="comment">&lt;!--普�?-&gt;</span></span><br><span class="line"><span class="comment">        &lt;th&gt;密码&lt;/th&gt;</span></span><br><span class="line"><span class="comment">    &lt;/tr&gt;</span></span><br><span class="line"><span class="comment">    &lt;/thead&gt;</span></span><br><span class="line"><span class="comment">    &lt;!--表体--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>username<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>password<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>浏览器上的接�?</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">【一】标签分两类</span><br><span class="line">�?】单标签(自闭和标�?</span><br><span class="line">段落标签 （一�?p 标签就是一行）只有头没有尾</span><br><span class="line"></span><br><span class="line">�?】双标签</span><br><span class="line">一�?p 标签就是一�?</span><br><span class="line"></span><br><span class="line">【二】head常用标签</span><br><span class="line">link：引入css文件</span><br><span class="line"></span><br><span class="line">script：内部可以书写js代码 标签可以引用js文件</span><br><span class="line"></span><br><span class="line">style：内部书写css代码</span><br><span class="line"></span><br><span class="line">【三】body常用标签</span><br><span class="line">�?】标题标�?</span><br><span class="line">网页标题1-6�?</span><br><span class="line"></span><br><span class="line">�?】加粗标�?</span><br><span class="line">加粗文字</span><br><span class="line">�?】斜体标�?</span><br><span class="line">字体是斜�?</span><br><span class="line">�?】下划线标签</span><br><span class="line">下划�?</span><br><span class="line">�?】删除标�?</span><br><span class="line">删除�?</span><br><span class="line">�?】段落标�?</span><br><span class="line">一�?p 标签就是一�?</span><br><span class="line"></span><br><span class="line">�?】换行标�?</span><br><span class="line">嘀嘀嘀</span><br><span class="line">弟弟弟弟</span><br><span class="line"></span><br><span class="line">�?】水平分割线</span><br><span class="line">--------------------------------------------------------------------</span><br><span class="line">�?】a标签：超连接标签</span><br><span class="line">点击进入</span><br><span class="line">�?0】img标签：图片渲染标�?</span><br><span class="line">渲染图片 用于网络中插入图�?本地或者基于网络的链接</span><br><span class="line">(这里有一张图�?</span><br><span class="line"></span><br><span class="line">�?1】无序列�?</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">�?2】有序列�?</span><br><span class="line">1.a</span><br><span class="line">2.b</span><br><span class="line">3.c</span><br><span class="line">dic标签：分组，将文档分成逻辑部分和组合部�?</span><br><span class="line">6666</span><br><span class="line"></span><br><span class="line">8888</span><br><span class="line"></span><br><span class="line">9999</span><br><span class="line"></span><br><span class="line">4444</span><br><span class="line"></span><br><span class="line">span标签：行级标签每一个span都是一�?</span><br><span class="line">第一�?第二�?</span><br><span class="line">table标签：表格标�?</span><br><span class="line">用户�?密码</span><br><span class="line">username	password</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/2.0requests%E6%A8%A1%E5%9D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/2.0requests%E6%A8%A1%E5%9D%97/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-2-0requestsg��date-2023-01-01categories-Blogtags-Blog">title: 2.0requestsģ��<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>requests模块</h1>
<h2 id="【一】Requests模块初始">【一】Requests模块初始</h2>
<h3 id="�-】介�">�?】介�?</h3>
<ul>
<li>
<p>Requests 是⽤Python语⾔编写，基�?urllib ，采⽤Apache2 Licensed开源协议的 HTTP �?</p>
</li>
<li>
<p>它⽐ urllib 更加⽅便，可以节约我们⼤量的⼯作，完全满⾜HTTP测试需�?</p>
</li>
<li>
<p>它用于发送HTTP请求</p>
</li>
</ul>
<h3 id="�-】来�">�?】来�?</h3>
<ul>
<li>
<p>requests模块最初由Kenneth Reitz�?010年创建并开源，旨在提供一种更人性化的方式来发送HTTP请求</p>
</li>
<li>
<p>可以模拟发送HTTP请求</p>
</li>
</ul>
<h3 id="�-】浏览器开发者模式：介绍">�?】浏览器开发者模式：介绍</h3>
<ul>
<li>
<p>元素 就是渲染在当前页面上的所有源代码</p>
</li>
<li>
<p>控制�?可以控制当前页面文档对象和浏览器对象</p>
</li>
<li>
<p>源代�?你自己的项目源码结构</p>
</li>
<li>
<p>网络 捕获到所有发送和接收到的数据�?从网络入�?</p>
</li>
<li>
<p>应用 存储当前页面中的部分数据 Cookie / session</p>
</li>
</ul>
<h2 id="【二】初步使�">【二】初步使�?</h2>
<h3 id="�-】安装requests模块">�?】安装requests模块</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure>
<h3 id="�-】引入模�">�?】引入模�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br></pre></td></tr></table></figure>
<h3 id="�-】爬虫的流程">�?】爬虫的流程</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment"># 目标地址</span></span><br><span class="line">target_url = <span class="string">&quot;https://www.baidu.com/?tn=15007414_13_dg&quot;</span></span><br><span class="line"><span class="comment"># # 发送请求，获取响应</span></span><br><span class="line">response = requests.get(target_url)</span><br><span class="line"><span class="comment"># 你的到信息是乱码，原因是编码格式不一�?utf-8/gbk</span></span><br><span class="line"><span class="comment"># 将响应编码，解析</span></span><br><span class="line">response.encoding = <span class="string">&#x27;utf8&#x27;</span></span><br><span class="line"><span class="comment"># 解析响应内容，相应内容格式是txt格式</span></span><br><span class="line">page_text = response.text</span><br><span class="line"><span class="built_in">print</span>(page_text)</span><br><span class="line"><span class="comment"># 得到的是一堆数�?</span></span><br><span class="line"><span class="comment"># 存储数据</span></span><br><span class="line"><span class="comment"># 你可以打开你的html文件夹，然后再页面中打开，它就是一个百度的页面</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;baidu.html&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(page_text)</span><br></pre></td></tr></table></figure>
<h2 id="【三】requests模块之请�">【三】requests模块之请�?</h2>
<h3 id="�-】请求发�">�?】请求发�?</h3>
<ul>
<li>默认是发送到get请求，数据不超过1k只内</li>
<li>发送的get请求
<ul>
<li>浏览器地址栏回�?</li>
<li>点击别人给你的链�?</li>
<li>form 表单</li>
<li>Ajax</li>
<li>import requests</li>
</ul>
</li>
</ul>
<h3 id="�-】携带请求头数据">�?】携带请求头数据</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 携带请求头数�?</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">target_url = <span class="string">&quot;https://www.baidu.com/s?wd=%E5%91%A8%E6%98%9F%E9%A9%B0&quot;</span></span><br><span class="line">response = requests.get(url=target_url)</span><br><span class="line">response.encoding = <span class="string">&quot;utf8&quot;</span></span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br><span class="line"><span class="comment"># 得到的数�?不是你想要的，看着好像被拦截了，原因是你和浏览器不�?</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）浏览器标识UA">�?）浏览器标识UA</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 我们的开发者模式中网络里第一个文件夹，里面有一个User-Agent:</span></span><br><span class="line"><span class="comment"># User-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># User-Agent 浏览器标�?�?能够让服务器识别出来我是正常的浏览器</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）requests模块的UA">�?）requests模块的UA</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># # requests模块的UA</span></span><br><span class="line">target_url = <span class="string">&quot;https://www.baidu.com/?tn=15007414_13_dg&quot;</span></span><br><span class="line">response = requests.get(url=target_url)</span><br><span class="line"><span class="built_in">print</span>(response.request.headers)</span><br><span class="line"><span class="comment"># &#123;&#x27;User-Agent&#x27;: &#x27;python-requests/2.31.0&#x27;, &#x27;Accept-Encoding&#x27;: &#x27;gzip, deflate&#x27;, &#x27;Accept&#x27;: &#x27;*/*&#x27;, &#x27;Connection&#x27;: &#x27;keep-alive&#x27;&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="�-）携带浏览器标识获取浏览器数�-–UA">�?）携带浏览器标识获取浏览器数�?–UA</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 携带浏览器标识获取到数据</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">target_url = <span class="string">&quot;https://www.baidu.com/&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.3.5211 SLBChan/105&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url=target_url, headers=headers)</span><br><span class="line">response.encoding = <span class="string">&quot;utf8&quot;</span></span><br><span class="line">page_text = response.text</span><br><span class="line"><span class="built_in">print</span>(page_text)</span><br><span class="line"><span class="comment"># 得到弄想要的数据</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）随机UA模块介绍">�?）随机UA模块介绍</h4>
<ul>
<li>安装随机生成请求头的模块</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install fake-useragent</span><br></pre></td></tr></table></figure>
<ul>
<li>引入模块</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">form fake_useragent impot UserAgent</span><br></pre></td></tr></table></figure>
<ul>
<li>使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line">target_url = <span class="string">&quot;https://www.baidu.com/&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: UserAgent().random</span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url=target_url, headers=headers)</span><br><span class="line">response.encoding = <span class="string">&quot;utf8&quot;</span></span><br><span class="line">page_text = response.text</span><br><span class="line"><span class="built_in">print</span>(page_text)</span><br></pre></td></tr></table></figure>
<h4 id="�-）小�">�?）小�?</h4>
<ul>
<li>
<p>常见的HTTP头部字段包括</p>
<ul>
<li>
<p>Host：指定目标浏览器的域名和IP地址</p>
</li>
<li>
<p>User-Agent：标识发送请求的用户代理（通常是浏览器�?</p>
<ul>
<li>PC浏览�?</li>
<li>APP浏览�?</li>
<li>Linux</li>
<li>macOS</li>
</ul>
</li>
<li>
<p>Accept：指定客户端能够接收的客户类�?</p>
</li>
<li>
<p>Content-Type：指定请求或响应中实体的媒体类型</p>
</li>
<li>
<p>Content-Length：指定实体主体的长度（以字节为单位）</p>
</li>
<li>
<p>Cookie：向服务器传递保存在客户端的cookie信息</p>
</li>
<li>
<p>Cache-Control：指定如何缓存和重新验证响应</p>
</li>
<li>
<p>Referer：大型网站通常都会根据该参数判断请求的来源</p>
</li>
</ul>
</li>
</ul>
<h3 id="�-】携带请求体参数-及对参数进行编码">�?】携带请求体参数,及对参数进行编码</h3>
<h4 id="�-）方式一">�?）方式一</h4>
<ul>
<li>直接复制目标网址发送请�?</li>
<li>需要安全验�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line">target_url = <span class="string">&quot;https://www.baidu.com/s?wd=%E5%91%A8%E6%98%9F%E9%A9%B0&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: UserAgent().random</span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url=target_url, headers=headers)</span><br><span class="line">response.encoding = <span class="string">&quot;utf8&quot;</span></span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br><span class="line"><span class="comment"># 不可访问，需要安全验�?</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）方式二">�?）方式二</h4>
<ul>
<li>主动编码</li>
<li>在浏览器中会默认将所有些参数进行URL编码—&gt;urlencode</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编码练习</span></span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line"></span><br><span class="line">keyword = &#123;</span><br><span class="line">    <span class="string">&quot;wd&quot;</span>: <span class="string">&quot;周星�?</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">url_encode = urlencode(keyword, encoding=&quot;</span>utf8<span class="string">&quot;)</span></span><br><span class="line"><span class="string">print(url_encode)</span></span><br><span class="line"><span class="string"># 得到的是浏览器后面跟着的后面的乱码信息</span></span><br><span class="line"><span class="string"># wd=%E5%91%A8%E6%98%9F%E9%A9%B0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引入编码格式的方�?</span></span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line">keyword = &#123;</span><br><span class="line">    <span class="string">&quot;wd&quot;</span>: <span class="string">&quot;周星�?</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">target_url = &quot;</span>https://www.baidu.com/<span class="string">&quot; + &quot;</span>?<span class="string">&quot; + urlencode(keyword, encoding=&quot;</span>utf8<span class="string">&quot;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">headers = &#123;</span></span><br><span class="line"><span class="string">    &quot;</span>User-Agent<span class="string">&quot;: UserAgent().random</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">response = requests.get(url=target_url, headers=headers)</span></span><br><span class="line"><span class="string">response.encoding = &quot;</span>utf8<span class="string">&quot;</span></span><br><span class="line"><span class="string">page_text = response.text</span></span><br><span class="line"><span class="string">print(page_text)</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）requests自动编码">�?）requests自动编码</h4>
<ul>
<li>requests模块自带一个帮助我们转码的参数:<code>params</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line">keyword = &#123;</span><br><span class="line">    <span class="string">&quot;wd&quot;</span>: <span class="string">&quot;周星�?</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">target_url = &quot;</span>https://www.baidu.com/<span class="string">&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">headers = &#123;</span></span><br><span class="line"><span class="string">    &quot;</span>User-Agent<span class="string">&quot;: UserAgent().random,</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">response = requests.get(url=target_url, headers=headers, params=keyword)</span></span><br><span class="line"><span class="string">response.encoding = &quot;</span>utf8<span class="string">&quot;</span></span><br><span class="line"><span class="string">page_text = response.text</span></span><br><span class="line"><span class="string">print(page_text)</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】请求中携带Cookie">�?】请求中携带Cookie</h3>
<ul>
<li>Cookie的作用就是为了保存登入信�?</li>
</ul>
<h4 id="�-）方式一-2">�?）方式一</h4>
<ul>
<li>直接携带在请求中</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line"><span class="comment"># 登入京东，搜索零食的网址</span></span><br><span class="line">target_url = <span class="string">&quot;https://search.jd.com/Search?keyword=%E9%9B%B6%E9%A3%9F&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: UserAgent().random,</span><br><span class="line">    <span class="string">&quot;Cookie&quot;</span>:<span class="string">&quot;开发者模式，网络的第一个文件夹，把Cookie复制出来&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url=target_url, headers=headers)</span><br><span class="line">response.encoding = <span class="string">&quot;utf8&quot;</span></span><br><span class="line">page_text = response.text</span><br><span class="line"><span class="built_in">print</span>(response.url)</span><br><span class="line"><span class="comment"># 得到的是京东的登入地址，不登入进不去，需要加Cookie</span></span><br><span class="line"><span class="comment"># 所以我们打开开发者模式，网络的第一个文件夹，把Cookie复制出来</span></span><br><span class="line"><span class="built_in">print</span>(page_text)</span><br><span class="line"><span class="comment"># 把Cookie加上就拿打了，京东搜索零食的页面信息</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）方式二-2">�?）方式二</h3>
<ul>
<li>携带在请求参数中</li>
<li>将cookie进行切分，做成键值对的形�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line">target_url = <span class="string">&quot;https://search.jd.com/Search?keyword=%E9%9B%B6%E9%A3%9F&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对cookie参数进行切分</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">split_cookie</span>(<span class="params">cookies</span>):</span><br><span class="line">    first_data_start = cookies.split(<span class="string">&quot;;&quot;</span>)</span><br><span class="line">    <span class="comment"># for item in first_data_start:</span></span><br><span class="line">    <span class="comment">#     for k, v in item.split(&quot;=&quot;):</span></span><br><span class="line">    <span class="comment">#         data_dict = &#123;k: v&#125;</span></span><br><span class="line">    <span class="comment"># return data_dict</span></span><br><span class="line">    <span class="keyword">return</span> &#123;key: value <span class="keyword">for</span> key, value <span class="keyword">in</span> [item.split(<span class="string">&quot;=&quot;</span>) <span class="keyword">for</span> item <span class="keyword">in</span> first_data_start]&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="comment"># 在请求头中携带Cookie</span></span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: UserAgent().random</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">old_cookie = <span class="string">&quot;开发者模式，网络的第一个文件夹，把Cookie复制出来&quot;</span></span><br><span class="line">cookie = split_cookie(cookies=old_cookie)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(cookie)</span><br><span class="line"><span class="comment"># 得的的是一个字�?</span></span><br><span class="line"></span><br><span class="line">response = requests.get(url=target_url, headers=headers, cookies=cookie)</span><br><span class="line">response.encoding = <span class="string">&quot;utf8&quot;</span></span><br><span class="line">page_text = response.text</span><br><span class="line"><span class="built_in">print</span>(page_text)</span><br></pre></td></tr></table></figure>
<h2 id="【四】requests模块之POST请求">【四】requests模块之POST请求</h2>
<ul>
<li>post和get请求是一样的，携带请求体数据不一�?</li>
<li>GET 请求 携带在URL地址�?/ 带在requests参数�?</li>
<li>POST 请求 携带在requests参数�?</li>
</ul>
<h3 id="�-】目标网址">�?】目标网址</h3>
<ul>
<li><code>http://www.aa7a.cn/user.php</code></li>
</ul>
<h3 id="�-】分�">�?】分�?</h3>
<ul>
<li>
<p>我们输入信息，点击登�?</p>
</li>
<li>
<p>通过抓包发现，请求方式是POST，目标网址是<code>http://www.aa7a.cn/user.php</code></p>
</li>
<li>
<p>还有你输入的信息</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">username: <span class="number">2870005304</span>@qq.com</span><br><span class="line">password: lsk2lmy13</span><br><span class="line">captcha: jzf5</span><br><span class="line">remember: <span class="number">1</span></span><br><span class="line">ref: http://www.aa7a.cn</span><br><span class="line">act: act_login</span><br></pre></td></tr></table></figure>
<h3 id="�-】模拟请�">�?】模拟请�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">target_url = <span class="string">&quot;http://www.aa7a.cn/user.php&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: UserAgent().random</span><br><span class="line">&#125;</span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;username&quot;</span>: <span class="string">&quot;2870005304@qq.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;captcha&quot;</span>: <span class="string">&quot;skcc&quot;</span>,</span><br><span class="line">    <span class="string">&quot;remember&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;ref&quot;</span>: <span class="string">&quot;http://www.aa7a.cn&quot;</span>,</span><br><span class="line">    <span class="string">&quot;act&quot;</span>: <span class="string">&quot;act_login&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 携带请求体参数有两种方式</span></span><br><span class="line">response = requests.post(</span><br><span class="line">    target_url, headers=headers, </span><br><span class="line">    <span class="comment"># 方式一</span></span><br><span class="line">    <span class="comment"># data=data,</span></span><br><span class="line">    <span class="comment"># 方式�?</span></span><br><span class="line">    json=data</span><br><span class="line">)</span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br></pre></td></tr></table></figure>
<h4 id="�-）json-data">�?）json=data</h4>
<ul>
<li>当使用requests.post方式�?</li>
<li>将data参数设置为一个字典，并同时将headers参数中的Content-Type设置为application/json，那么data字典将被自动序列化为JSON字符串，并作为请求的主体数据发�?</li>
<li>这样的请求方式常用于与服务器交互时，需要使用JSON格式进行数据传输的情�?</li>
</ul>
<h4 id="�-）data-data">�?）data=data</h4>
<ul>
<li>
<p>默认情况下，requests.post方法将会将data参数以application/x-www-form-urlencoded格式进行编码</p>
</li>
<li>
<p>这种编码方式将字典数据转换成键值对的形式，并使�?符号进行连接</p>
</li>
<li>
<p>然后，将生成的字符串作为请求的主体数据发送到服务器，这种方式常用于处理表单提交的场景</p>
</li>
</ul>
<h3 id="�-】可能会遇到的情�">�?】可能会遇到的情�?</h3>
<ul>
<li>先对目标网址发起请求</li>
<li>需要拿到cookie</li>
<li>再对网址发起请求，获取到标识token</li>
<li>只有携带你的token和你的用户名密码才能登入成功</li>
</ul>
<p>遇到这种问题，我们需要抓包分�?</p>
<ul>
<li>分析cookie和token再那个包里面</li>
<li>对目标包进行抓取</li>
<li>获取到cookie和token</li>
<li>拿着cookie和token去登�?</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/2.0socketserver%E6%A8%A1%E5%9D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/2.0socketserver%E6%A8%A1%E5%9D%97/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-2-0socketserverg��date-2023-01-01categories-Blogtags-Blog">title: 2.0socketserverģ��<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1><code>socketserver</code>模块</h1>
<h2 id="【一】介�">【一】介�?</h2>
<ul>
<li>
<p><code>socketserver</code>中包含了两种类，</p>
</li>
<li>
<ul>
<li>一种为服务类（server class）：前者提供了许多方法</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>像绑定，监听，运行…�?（也就是建立连接的过程） �?</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>一种为请求处理类（request handle class�?</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>专注于如何处理用户所发送的数据（也就是事务逻辑）�?</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="【二】socketserver-模块中的�">【二】socketserver 模块中的�?</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">�?BaseServer：实现服务器的基本类�?</span><br><span class="line">�?TCPServer：处�?TCP 连接的服务器�?</span><br><span class="line">�?UDPServer：处�?UDP 连接的服务器�?</span><br><span class="line">�?UnixStreamServer：类似于TCPServer提供面向数据流的套接字连接，但是旨在UNIX平台上可用�?</span><br><span class="line">�?UnixDatagramServer：类似于UDPServer提供面向数据报的套接字连接，但是旨在UNIX平台上可用�?</span><br><span class="line">�?ForkingMixIn：实现了核心的进程化功能，用于与服务器类进行混合，提供异步特性�?</span><br><span class="line">�?ThreadingMixIn：实现了核心的线程化功能，用于与服务器类进行混合，异步特性�?</span><br><span class="line">�?ForkingTCPServer：每个请求创建一个新进程�?TCP 服务器。ForkingMixIn和TCPServer`组合�?</span><br><span class="line">�?ForkingUDPServer：每个请求创建一个新进程�?UDP 服务器。ForkingMixIn和UDPServer组合�?</span><br><span class="line">�?ThreadingTCPServer：在单独的线程中处理每个请求�?TCP 服务器。ThreadingMixIn和TCPServer组合�?</span><br><span class="line">�?ThreadingUDPServer：在单独的线程中处理每个请求�?UDP 服务器。ThreadingMixIn和UDPServer组合�?</span><br><span class="line">�?BaseRequestHandler：用于定制Handler类型，自定义的Handler类型只要继承自BaseRequestHandler，并覆盖写入它的handle() 方法即可�?</span><br><span class="line">�?StreamRequestHandler：TCP请求处理类的一个实现�?</span><br><span class="line">�?DataStreamRequestHandler：UDP请求处理类的一个实现�?</span><br></pre></td></tr></table></figure>
<h2 id="【三】总结">【三】总结</h2>
<ul>
<li>
<p>基于tcp的套接字，关键就是两个循�?</p>
</li>
<li>
<ul>
<li>一个链接循�?</li>
<li>一个通信循环</li>
</ul>
</li>
<li>
<p><code>socketserver</code>模块中分两大类：</p>
</li>
<li>
<ul>
<li>server类（解决链接问题�?</li>
<li>request类（解决通信问题�?</li>
</ul>
</li>
</ul>
<h2 id="【四】socket-模块�-socketserver-关系">【四】socket 模块�?socketserver 关系</h2>
<ul>
<li>
<p>socket �?socketserver 是两个不同的 Python 模块，都用于网络编程�?</p>
</li>
<li>
<p>socket 模块提供了通用的套接字编程接口，可用于创建客户端和服务器端程序�?</p>
</li>
<li>
<ul>
<li>它涵盖了与网络通信相关的底层细�?</li>
<li>如创建套接字、绑定地址、监听请求、接受连接、发送数据和接收数据�?</li>
</ul>
</li>
<li>
<p>socketserver 模块�?socket 模块的一个封�?</p>
</li>
<li>
<ul>
<li>它抽象了服务器端网络编程的复杂度，使您能够快速编写服务器端程序�?</li>
<li>它提供了多种服务器类�?</li>
<li>如多线程服务器、多进程服务器和单进程服务器，以满足不同的网络编程需求�?</li>
<li>此外，它还提供了简单的面向对象编程模型，允许您扩展基础类并定制服务器行为�?</li>
</ul>
</li>
<li>
<p>小结</p>
</li>
<li>
<ul>
<li>如果您需要快速编写简单的服务器端程序，那�?socketserver 模块可能是您的最佳选择</li>
<li>如果您需要更多的灵活性和细节控制，则可以使用 socket 模块�</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">坤</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要，但是你不努力，选择就只是空谈</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">201</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">坤</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">lsk-0912</a> & <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
