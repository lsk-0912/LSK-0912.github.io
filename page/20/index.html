<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aurora-lsk.asia","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:type" content="website">
<meta property="og:title" content="坤博客">
<meta property="og:url" content="https://aurora-lsk.asia/page/20/index.html">
<meta property="og:site_name" content="坤博客">
<meta property="og:description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="坤">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://aurora-lsk.asia/page/20/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>坤博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">坤博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E4%B8%80docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E4%B8%80docker/" class="post-title-link" itemprop="url">һdocker</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】django原生操作mysql</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    os.environ.setdefault(<span class="string">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class="string">&#x27;drf_mysql_deserialize.settings&#x27;</span>)</span><br><span class="line">    django.setup()</span><br><span class="line">    <span class="keyword">from</span> django.db <span class="keyword">import</span> connection</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 执行原生的sql语句---方式一：不经常�?</span></span><br><span class="line">    conn = connection.cursor()</span><br><span class="line">    conn.execute(<span class="string">&#x27;select id,name,price from app1_book where id=1&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(conn.fetchall())</span><br><span class="line">    conn.close()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 执行原生的sql语句---方式二：常用</span></span><br><span class="line">    <span class="comment"># 跟对象做映射</span></span><br><span class="line">    <span class="keyword">from</span> app1.models <span class="keyword">import</span> Book</span><br><span class="line"></span><br><span class="line">    book_list = Book.objects.raw(<span class="string">&#x27;select id,name, price from app1_book where id&gt;10&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(book_list)  <span class="comment"># &lt;RawQuerySet: select name, price from app1_book&gt;</span></span><br><span class="line">    <span class="keyword">for</span> book_obj <span class="keyword">in</span> book_list:</span><br><span class="line">        <span class="built_in">print</span>(book_obj)  <span class="comment"># Book object (32)</span></span><br><span class="line">        <span class="built_in">print</span>(book_obj.name)  <span class="comment"># 西游�?</span></span><br></pre></td></tr></table></figure>
<h1>【二】docker介绍</h1>
<h2 id="�-】虚拟化">�?】虚拟化</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  在计算机中，虚拟化（英语：Virtualization）是一种资源管理技术，是将计算机的各种实体资源，如服务器、网络、内存及存储等，予以抽象、转换后呈现出来，打破实体结构间的不可切割的障碍，使用户可以比原本的组态更好的方式来应用这些资源。这些资源的新虚拟部份是不受现有资源的架设方式，地域或物理组态所限制。一般所指的虚拟化资源包括计算能力和资料存储�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在实际的生产环境中，虚拟化技术主要用来解决高性能的物理硬件产能过剩和老的旧的硬件产能过低的重组重用，透明化底层物理硬件，从而最大化的利用物理硬�? 对资源充分利�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 虚拟化技术种类很多，例如：软件虚拟化、硬件虚拟化、内存虚拟化、网络虚拟化(vip)、桌面虚拟化、服务虚拟化、虚拟机等等�?</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="�-】工具kvm-VMware-openstack-docker-k8s">�?】工具<code>kvm,VMware,openstack,docker,k8s</code></h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. KVM (Kernel-based Virtual Machine)</span></span><br><span class="line">类型：全虚拟�?</span><br><span class="line">特点�?</span><br><span class="line">KVM �?Linux 内核的一部分，将 Linux 转变为一个类�?<span class="number">1</span> 的虚拟机监控器�?</span><br><span class="line">支持多种操作系统的并行运行，包括 Windows 和不同的 Linux 发行版�?</span><br><span class="line">高度集成�?Linux 系统，性能表现良好�?</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. VMware</span></span><br><span class="line">类型：全虚拟�?</span><br><span class="line">特点�?</span><br><span class="line">VMware 提供了多个产品，�?VMware vSphere、VMware Workstation 等�?</span><br><span class="line">强大的管理工具和用户界面，适合企业级应用�?</span><br><span class="line">提供高可用性、负载均衡等功能，广泛应用于数据中心�?</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. OpenStack</span></span><br><span class="line">类型：云计算平台</span><br><span class="line">特点�?</span><br><span class="line">OpenStack 是一个开源云计算管理平台，支持构建和管理公共及私有云�?</span><br><span class="line">支持多种虚拟化技术（包括 KVM �?VMware）�?</span><br><span class="line">提供计算、存储和网络服务，适合大规模部署�?</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. Docker</span></span><br><span class="line">类型：容器化</span><br><span class="line">特点�?</span><br><span class="line">Docker 是一个开源平台，用于自动化应用程序的部署、扩展和管理�?</span><br><span class="line">应用程序在容器中运行，容器共享宿主操作系统内核但相互隔离�?</span><br><span class="line">启动速度快，资源利用率高，适合微服务架构�?</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. Kubernetes (K8s)</span></span><br><span class="line">类型：容器编�?</span><br><span class="line">特点�?</span><br><span class="line">Kubernetes 是一个开源容器编排平台，用于自动化容器的部署、扩展和管理�?</span><br><span class="line">提供服务发现、负载均衡、滚动更新等功能�?</span><br><span class="line">支持多种容器运行时（�?Docker），在大规模环境中非常受欢迎�?</span><br><span class="line"></span><br><span class="line"><span class="comment"># 总结</span></span><br><span class="line">这些技术各自解决了不同的虚拟化和容器化需求，从虚拟机管理到容器编排，为现�?IT 基础设施提供了强大的支持。选择合适的工具取决于具体的业务需求和技术栈�?</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240619105810065.png" alt="image-20240619105810065"></p>
<h2 id="�-】docker介绍">�?】docker介绍</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Docker 是一个开源项目，诞生�?2013 年初，最初是 dotCloud 公司内部的一个业余项目。它基于 Google 公司推出�?Go 语言实现�?加了 Linux 基金会，遵从�?Apache 2.0 协议，项目代码在上进行维护�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 容器化技术，区分于虚拟机，又类虚拟机，兼具虚拟机隔离的优点，又有速度快的优点</span></span><br><span class="line"><span class="comment"># 容器资源隔离，网络隔�?</span></span><br><span class="line"><span class="comment"># 把容器当成一个虚拟机即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker是容器管�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Docker 的基础�?Linux 容器（LXC）等技�?</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】docker和其他虚拟机比较">�?】docker和其他虚拟机比较</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker 不需要虚拟化�?操作系统这一�?--》更轻量�?-占空间更�?--》还能实现隔�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 虚拟机技术的缺点�?</span></span><br><span class="line">    <span class="number">1.</span>资源占用太多</span><br><span class="line">    <span class="number">2.</span>冗余步骤�?</span><br><span class="line">    <span class="number">3.</span>启动很慢</span><br><span class="line"></span><br><span class="line"><span class="comment"># 容器化技�?</span></span><br><span class="line">    <span class="number">1.</span>服务器资源利用率�?</span><br><span class="line">    <span class="number">2.</span>比较轻量�?</span><br><span class="line">    <span class="number">3.</span>打包镜像测试，一键运�?</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">比较Docker和虚拟机技术不同：</span><br><span class="line">�?<span class="number">1.</span>传统虚拟机，虚出一套硬件，运行一个完整的操作系统，然后在这个系统上安装和运行软件</span><br><span class="line">�?<span class="number">2.</span>容器内的应用之间运行�?宿主机的内容，容器是没有自己的内核的，也没有虚拟我们的硬件，所以就轻便�?</span><br><span class="line">�?<span class="number">3.</span>每个容器间是互相隔离的，每个容器内都有属于自己的文件系统，互不影�?</span><br><span class="line">�?<span class="number">4.</span>安全性，docker的安全性更�?</span><br><span class="line">�?<span class="number">5.</span>与虚拟机相比，docker隔离性更弱，docker属于进程之间的隔离，虚拟机可实现系统级别隔离</span><br><span class="line">�?<span class="number">6.</span>docker创建时秒级的，docker的快速迭代性，无论是开发、测试、部署都可以节约大量时间</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240619110513136.png" alt="image-20240619110513136"></p>
<h2 id="�-】docker架构">�?】docker架构</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cs 架构---》客户端服务�?</span></span><br><span class="line">	- c 端：用户操作，输入命�?</span><br><span class="line">    - s端：接收用户命令，执�?</span><br><span class="line">    -c、s通信，使用http协议，遵循restful规范</span><br><span class="line">    	-mysql：tcp---》自定义�?  </span><br><span class="line">        -redis：tcp---》自定义�? </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">  <span class="comment"># 架构</span></span><br><span class="line">	<span class="number">1</span> client：客户端，输入命�?</span><br><span class="line">    <span class="number">2</span> 服务端：</span><br><span class="line">    	containers：容�?</span><br><span class="line">        images:镜像--》从注册中心下来下来�?</span><br><span class="line">        </span><br><span class="line">    <span class="number">3</span> register：注册中�?</span><br><span class="line">    	-放了很多镜像--》redis，nginx，mysql</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240312121741177-17187679368771.png" alt="image-20240312121741177-17187679368771"></p>
<h1>【三】docker安装和配�?</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 1 linux   win 安装</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 win:https://www.docker.com/products/docker-desktop/  下载 docker-desktop</span></span><br><span class="line">	-一路下一步安�?</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 3 centos 7.9 安装</span></span><br><span class="line">	-视频，软件：vmware ，镜像文�?</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 4 创建一个centos 7.9的虚拟机，在这个基础上讲docker</span></span><br><span class="line">	- 创建好虚拟机之后，可以使用finalshell连接你的虚拟机，在finalshell安装docker</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 5 如果之前装过，卸�?</span></span><br><span class="line">    <span class="comment"># yum remove docker docker-common  docker-selinux docker-engine</span></span><br><span class="line">        <span class="comment"># 删除</span></span><br><span class="line">        <span class="comment"># rm -rf /var/lib/docker</span></span><br><span class="line">    yum update  <span class="comment"># 更新yum仓库</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 补充：如果yum install 装软件，装不了，或很慢，把仓库换成阿里云</span></span><br><span class="line">    cd /etc/yum.repos.d</span><br><span class="line">    cp  CentOS-Base.repo CentOS-Base.repo.bk</span><br><span class="line">    <span class="comment"># wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span></span><br><span class="line">        <span class="comment"># 执行上面的代码要是报找不到wget命令的话，就执行下面的代�?</span></span><br><span class="line">        - curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-<span class="number">7.</span>repo</span><br><span class="line">    <span class="comment"># 清理缓存</span></span><br><span class="line">    yum clean <span class="built_in">all</span></span><br><span class="line">    <span class="comment"># 生成缓存</span></span><br><span class="line">    yum makecache</span><br><span class="line">    <span class="comment"># 更新系统</span></span><br><span class="line">    yum update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6 安装</span></span><br><span class="line">    <span class="comment"># 装依�?</span></span><br><span class="line">    yum install -y yum-utils device-mapper-persistent-data lvm2 container-selinux</span><br><span class="line">    <span class="comment"># 这个是拉去docker</span></span><br><span class="line">    yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">    <span class="comment"># 查看docker有哪些版�?--但是前提是你执行了上面的代码</span></span><br><span class="line">    yum <span class="built_in">list</span> docker-ce --showduplicates | sort -r</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 安装</span></span><br><span class="line">    yum install docker-ce docker-ce-cli containerd.io -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7 查看安装的版�?</span></span><br><span class="line">    docker --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8 目前我们只装�?docker-ce docker-ce-cli containerd.io</span></span><br><span class="line">	-只有：c  �?s�?</span><br><span class="line">    -没有docker-compose</span><br><span class="line">    -没有图形化界�?</span><br><span class="line">    -跟docker-destop的区�?</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 9 启动docker</span></span><br><span class="line">    <span class="comment"># 查看docker的状�?</span></span><br><span class="line">    systemctl status docker</span><br><span class="line">    <span class="comment"># 启动docker</span></span><br><span class="line">    systemctl start docker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 10 镜像--》从远程下载下来�?--》hub.docker.com --&gt;仓库下的</span></span><br><span class="line">	-有非常多镜：可以搜索，搜到以后，镜像有不同版�?</span><br><span class="line">    -目前：访问不到了，拉去不下来</span><br><span class="line">    -配置：国内镜像站：阿里云</span><br><span class="line">    <span class="comment"># 这个好像也不可以用了</span></span><br><span class="line">    -https://cr.console.aliyun.com/cn-shanghai/instances/mirrors</span><br><span class="line">    <span class="comment"># 可以找一些docker的镜像站，百度搜�?</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 创建docker</span></span><br><span class="line">    sudo mkdir -p /etc/docker <span class="comment"># 如果有，就不需要创建了</span></span><br><span class="line">    </span><br><span class="line">    vi /etc/docker/daemon.json </span><br><span class="line">    <span class="comment"># 加入</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://docker.1panel.live&quot;</span>,<span class="string">&quot;https://docker.rainbond.cc&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># �?esc</span></span><br><span class="line">    <span class="comment"># 输入  :wq  敲回�?-</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 保存退�?</span></span><br><span class="line">    	- 重新加载docker配置：systemctl daemon-reload</span><br><span class="line">		- 重启docker服务：systemctl restart docker</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 重启之后，下�?</span></span><br><span class="line">    	- docker pull redis</span><br><span class="line">        - 报错的话，很可能镜像源被封了，换镜像�?---百度�?</span><br></pre></td></tr></table></figure>
<h1>【四】docker镜像源操�?</h1>
<h2 id="�-】镜像和容器">�?】镜像和容器</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 镜像：image</span></span><br><span class="line">	- 一堆文�?--》目前咱们从register(hub.docker.com)---》下�?docker pull 名字)---》放在宿主机（centos <span class="number">7.9</span>机器�?</span><br><span class="line">    </span><br><span class="line">    -类比：虚拟上装系�?</span><br><span class="line">    	- 操作系统文件 xx.iso---&gt;装在虚拟机上</span><br><span class="line">        - 镜像你当�?xx.iso 操作系统文件（带软件�?</span><br><span class="line">        - 把iso装在不同虚拟机中---》启�?--》多台有操作系统的机�?</span><br><span class="line">       </span><br><span class="line">    <span class="comment"># 镜像的操�?</span></span><br><span class="line">        - 构建镜像：使�?docker build 命令根据 Dockerfile 创建镜像�?</span><br><span class="line">        - 查看镜像：使�?docker images 命令列出本地存在的镜像�?</span><br><span class="line">        - 删除镜像：使�?docker rmi 命令删除不再需要的镜像</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 容器：container</span></span><br><span class="line">	-镜像运行---》运行成容器</span><br><span class="line">    - 镜像包含了容器运行所需的所有文件和配置</span><br><span class="line">    -类比�?</span><br><span class="line">    	-容器当成一个正在运行的操作系统</span><br><span class="line">    -一个镜像，可以运行成多个容�?</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 容器的生命周�?</span></span><br><span class="line">        - 容器有几个主要的生命周期阶段�?</span><br><span class="line"></span><br><span class="line">        - 创建：使�?docker create �?docker run 命令创建容器实例�?</span><br><span class="line">        - 启动：可以通过 docker start 命令启动已创建的容器。当容器启动时，它会执行 Dockerfile 中定义的命令�?</span><br><span class="line">        - 停止：使�?docker stop 命令可以优雅地停止正在运行的容器�?</span><br><span class="line">        - 删除：通过 docker rm 命令可以删除不再需要的容器�?</span><br><span class="line">    <span class="comment"># 容器的管�?</span></span><br><span class="line">		- 查看容器：使�?docker ps 命令查看正在运行的容器，docker ps -a 查看所有容器（包括已停止的）�?</span><br><span class="line">		- 访问容器：可以使�?docker <span class="built_in">exec</span> 命令在运行中的容器内执行命令，或者使�?docker attach 连接到容器的标准输入输出�?</span><br><span class="line">		- 日志管理：使�?docker logs 命令查看容器的输出日志，方便调试和监控�?</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 理解</span></span><br><span class="line">	- python的面向对�?</span><br><span class="line">    	- 类：镜像</span><br><span class="line">       	- 对象：实例化得到多个对象，没个对象都是独立的</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 以后一个容器，我们就当做是：一个操作系�?+ 软件----》正在运�?</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240926122213317.png" alt="image-20240926122213317"></p>
<h2 id="�-】镜像的操作">�?】镜像的操作</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 0 搜索镜像</span></span><br><span class="line">	-去网站搜：https://hub.docker.com/ </span><br><span class="line">	-使用命令行搜：docker search mysql</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 1 获取镜像，拉去镜�?--》从register下载到本�?-》镜像站--》加速拉�?</span></span><br><span class="line">	docker pull mysql:<span class="number">5.7</span> <span class="comment"># 下载mysql 5.7镜像</span></span><br><span class="line">	docker pull redis:latest <span class="comment"># 下载redis最新的镜像</span></span><br><span class="line">    docker pull nginx:latest  <span class="comment"># 下载 nginx最新的镜像</span></span><br><span class="line">    docker pull centos:centos7  <span class="comment"># 下载 centos最新的镜像</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 2 查看镜像</span></span><br><span class="line">	docker images</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 删除镜像</span></span><br><span class="line">	docker rmi redis:latest</span><br></pre></td></tr></table></figure>
<h1>【五】容器的操作</h1>
<h2 id="�-】镜像操�">�?】镜像操�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 命令</span></span><br><span class="line">	- docker search  <span class="comment"># 查看有那些镜�?</span></span><br><span class="line">    - docker pull    <span class="comment"># 下载镜像</span></span><br><span class="line">    - docker images   <span class="comment"># 查看镜像</span></span><br><span class="line">    - docker rmi    <span class="comment"># 删除镜像</span></span><br><span class="line">    	<span class="comment"># 这个是：docker remove image的缩�?</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 镜像运行，变成容器【一个镜像可以运行多个容器】，我们可以将一个容器当作一个虚拟机</span></span><br><span class="line">	- 虚拟机中有：</span><br><span class="line">    	- 操作系统</span><br><span class="line">        - 文件</span><br><span class="line">        - 软件</span><br><span class="line">        - 网络</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 运行出一个容�?</span></span><br><span class="line">	<span class="comment"># 简单的命令：后面有解释</span></span><br><span class="line">	- docker run -<span class="built_in">id</span> ubuntu</span><br><span class="line">    - docker run -it ubuntu</span><br></pre></td></tr></table></figure>
<h2 id="�-】run-运行容器">�?】run-----运行容器</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 把镜像运行成一个容�?</span></span><br><span class="line">	<span class="comment"># 直接运行，如果镜像没有，会去远程仓库下载</span></span><br><span class="line">    docker run -<span class="built_in">id</span> --name=centos7 centos:<span class="number">7</span></span><br><span class="line">    docker run -it --name=centos7 centos:<span class="number">7</span></span><br><span class="line">    <span class="comment"># 解释</span></span><br><span class="line">    	<span class="comment"># -id：启动容器，不进入容器内�?</span></span><br><span class="line">        <span class="comment"># -it：启动容器，进入容器内部</span></span><br><span class="line">        <span class="comment"># --name：指定容器的名字，容器名字不可以重复，如果重复了就会报错，可以随便起名字，不写的名字的话，会随机生成一个名�?</span></span><br><span class="line">        <span class="comment"># centos:7：基于那个镜像运行容�?</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 2 查看正在运行的容�?</span></span><br><span class="line">	- docker ps</span><br><span class="line"><span class="comment"># 3 进入到容器的内部</span></span><br><span class="line">	- docker <span class="built_in">exec</span> -it centos7 /<span class="built_in">bin</span>/bash</span><br><span class="line">    	- /<span class="built_in">bin</span>/bash：代表要在容器中执行centos7的命令，这里是启动一�?Bash shell</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 4 执行docker run -it  centos:centos7 ：创建并启动一个新的docker容器</span></span><br><span class="line">	- 进入到容器的内部，可以执行centos的命令，但是它是最精简的系统，很多的命令都没有，使用的话需要安�?</span><br><span class="line">    - 退出容器，到宿主机：exit</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 5 容器需要创建然后运�?</span></span><br><span class="line">	- 创建：create�?</span><br><span class="line">    - 运行：run</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 6 容器要运行，内部必须有个前台进度阻塞，否则容器就会停�?</span></span><br><span class="line">	<span class="comment"># 例子�?</span></span><br><span class="line">    	- docker run -<span class="built_in">id</span> --name=-=demo redis:latest sleep <span class="number">10</span></span><br><span class="line">        <span class="comment"># 当过�?0s后，这个容器就会自动停止</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 6 查看所有容�?-包括停止的容�?</span></span><br><span class="line">	- docker ps -a</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 7 启动容器</span></span><br><span class="line">	- docker start centos7</span><br><span class="line">	就比如nginx容器：本质就是一个n操作系统 + 软件</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8 停止容器</span></span><br><span class="line">	- docker stop 容器的<span class="built_in">id</span>�?</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 9 删除容器，删除的这个容器必须停止，不停止不允许删�?</span></span><br><span class="line">	- docker rm 容器的名�?容器的<span class="built_in">id</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 10 一次性删除多个容�?</span></span><br><span class="line">	- docker rm 容器<span class="built_in">id</span>、容器id1</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 11 删除所有的容器</span></span><br><span class="line">	- docker rm `docker ps -a -q`</span><br><span class="line">    <span class="comment"># 解释：docker ps -a -q：是查看所有容器的id�?</span></span><br><span class="line">    - docker rm `docker ps -a -q` -f  <span class="comment"># 高危险命�?</span></span><br><span class="line">    <span class="comment"># 这个命令尽量不要使用，这个是强制删除所有的容器，不管有没有在使�?</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240620102936389.png" alt="image-20240620102936389"></p>
<h2 id="�-】run后面的参�">�?】run后面的参�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 docker run 参数</span></span><br><span class="line">	- i：表示运行容�?</span><br><span class="line">    - d：以守护式进程在后台运行，用这个参数创建出来的容器，命令行还在宿主机上，没有进入到容器内部，用来启动一个新的docker容器</span><br><span class="line">    - t：表示容器启动后，进入到容器内的命令行。即分配一个伪终端</span><br><span class="line">    - name：指定容器的名字，如果不指定会随机一个名�?</span><br><span class="line">    - p：表示端口映射，前者是宿主机端口，后者是容器内的映射端口，可以使用多�?p做多个端口映�?</span><br><span class="line">    - v：表示目录映射关系（前者是宿主机目录，后者是容器的目录），可以是一�?v做多个目录或文件映射。注：最好做目录映射，在宿主机上做修改，然后共享到容器上</span><br></pre></td></tr></table></figure>
<h3 id="【案例�">【案例�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动一个centos容器并进入，名字叫mycentos，在容器内部装一个vim，然后退�?</span></span><br><span class="line">	- <span class="number">1</span>：docker run -<span class="built_in">id</span> --name=mycentos centos:<span class="number">7</span></span><br><span class="line">    - <span class="number">2</span>：在宿主机上</span><br><span class="line">    - <span class="number">3</span>：进入到容器内部（新开了一个bash进程）：docker <span class="built_in">exec</span> -it mycentos /<span class="built_in">bin</span>/bash</span><br><span class="line">    - <span class="number">4</span>: 下载：yum install vim -y（可能会下载不了�?</span><br><span class="line">    - <span class="number">5</span>：curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-<span class="number">7.</span>repo</span><br><span class="line">    - <span class="number">6</span>：在执行：yum install vim -y</span><br><span class="line">    - <span class="number">7</span>：退出容器：exit</span><br><span class="line">    - 这里的容器没有停止，因为容器运行的只是bash进程--结束的只是bash进程</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker exec 命令</span></span><br><span class="line">	- 在宿主机，连接容器，执行命令，把命令结果返回给宿主机</span><br><span class="line">    - docker <span class="built_in">exec</span> 容器的名�?容器的<span class="built_in">id</span>�?ls</span><br><span class="line">    - eg：docker <span class="built_in">exec</span> mycentos ls  <span class="comment"># ls：列出指定目录中的文件和目录</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入到容器的内部</span></span><br><span class="line">	- 进入容器内部：docker <span class="built_in">exec</span> -it 容器名字/容器<span class="built_in">id</span> /<span class="built_in">bin</span>/bash</span><br><span class="line">    <span class="comment"># 在容器上执行命令</span></span><br><span class="line">		- 命令：docker <span class="built_in">exec</span> 容器的名�?容器的<span class="built_in">id</span>�?命令</span><br><span class="line">    - 在宿主机的命令行输入：sh <span class="comment"># 这是一个精简�?bin/bash</span></span><br><span class="line">    <span class="comment"># 退出，结束/bin/bash进程</span></span><br><span class="line">    - exit</span><br></pre></td></tr></table></figure>
<h2 id="�-】v-目录映射">�?】v----目录映射</h2>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240313102219623.png" alt="image-20240313102219623"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -v参数表示运行容器时，跟宿主机的目录做映射</span></span><br><span class="line">	<span class="comment"># 容器要是和宿主机做了映射，你只需要修改宿主机上的文件内容，容器中映射的文件也会跟着修改，是双向�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 案例�?</span></span><br><span class="line">	<span class="comment"># 需�?</span></span><br><span class="line">	- 运行一个centos77容器，不进入，做目录映射</span><br><span class="line">    - 把宿主机�?root/lqz文件夹，映射到容器内部的/lpz文件夹（容器内如果没有lqz文件夹，就会自动创建�?</span><br><span class="line">    - -v可以写多个，可以是文件夹或者是文件</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 实现</span></span><br><span class="line">    - cd <span class="comment"># 跟目录，前提你是root用户</span></span><br><span class="line">    - mkdir lsk <span class="comment"># 在root目录下创建一个lqz文件�?</span></span><br><span class="line">    - 运行容器，做目录映射</span><br><span class="line">    	- docker run -<span class="built_in">id</span> --name=centos77 -v /root/lqz:/lqz centos:<span class="number">7</span></span><br><span class="line">    - 在你宿主机的/root/lsk下创建一个xx.txt</span><br><span class="line">    	- vim xx.txt</span><br><span class="line">    - 进入到centos77容器内部：看你创建的xx.txt文件存在�?</span><br><span class="line">    - 双方是相互影响的</span><br><span class="line">    	- 容器内部修改文件---会影响外部（宿主据）</span><br><span class="line">        - 外部（宿主据）修改文�?---会影响内部（容器�?</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 目录映射好处是，后期咱们部署django项目</span></span><br><span class="line">	- 有个django容器，做好映射，代码放在宿主机上即可，以后更新了代码，只要重启容器，代码就是最新了</span><br><span class="line">    - 运行mysql容器---》mysql配置文件，数据data目录，放在宿主机上做好映�?</span><br><span class="line">    	如果 mysql容器---》表数据，放到容器中---》如果删了容�?--》数据库全没�?</span><br><span class="line">    	表数据，放在宿主机上---》把容器删除---》表数据还在----》再启动一个容器做好映�?--》数据都还在</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 命令</span></span><br><span class="line">	<span class="comment"># 一次性删除所有容�?</span></span><br><span class="line">    	- docker rm `docker ps -a -q`</span><br><span class="line">    <span class="comment"># 一次性删除所有镜�?</span></span><br><span class="line">    	- docker rm `docker images -q`</span><br></pre></td></tr></table></figure>
<h2 id="�-】p-端口映射">�?】p----端口映射</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 -p参数：端口映射，容器中启动一个mysql5.7---容器中的3306监听，宿主机�?306没人监听，做端口映射后，宿主机的3306就放在docker的这个容器监听了</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 案例</span></span><br><span class="line">	- docker run -<span class="built_in">id</span> --name=mysql5<span class="number">.7</span> -p <span class="number">3307</span>:<span class="number">3306</span> -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> mysql:<span class="number">5.7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -p：启动mysql容器 -p 宿主机端�?容器端口</span></span><br><span class="line"><span class="comment"># -e：启动的mysql的root密码�?23456</span></span><br><span class="line"><span class="comment"># 以后台守护进程运行mysql容器，mysql的root用户密码�?23456，宿主机和容器做了端口映�?</span></span><br><span class="line">	- 宿主机的端口<span class="number">3307</span>、映射容器的端口<span class="number">3306</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 2.1 查看宿主�?307端口占用情况</span></span><br><span class="line">	-  netstat -nlp |grep <span class="number">3307</span> <span class="comment"># 查看本机3307端口占用情况</span></span><br><span class="line">    - 可能缺少netstat命令：yum install net-tools -y</span><br><span class="line">    - 在次查看：netstat -nlp |grep <span class="number">3307</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 远程连接宿主机的3307端口</span></span><br><span class="line">	- 以后访问宿主�?<span class="number">307</span>端口就等于访问容器的<span class="number">3306</span>端口</span><br><span class="line">    <span class="comment"># win机器可以远程连接mysql</span></span><br><span class="line">    	- 终端命令行链接：mysql -h <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span> -P <span class="number">3307</span> -uroot -p</span><br><span class="line">        - Navicate�?链接，创建lsk数据�?</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 宿主�?-》进入到容器内部--》进入到mysql，查看有没有创建lsk这个�?</span></span><br><span class="line">        docker <span class="built_in">exec</span> -it mysql5<span class="number">.7</span> /<span class="built_in">bin</span>/bash <span class="comment"># 进入容器内部</span></span><br><span class="line">        mysql -uroot  -p  <span class="comment"># 进入mysql</span></span><br><span class="line">        show databases;  <span class="comment"># 查看所有数据库</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240313104034977.png" alt="image-20240313104034977"></p>
<h2 id="�-】其�">�?】其�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动容器</span></span><br><span class="line">	docker start 容器<span class="built_in">id</span>/容器名字</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止容器</span></span><br><span class="line">	docker stop 容器<span class="built_in">id</span>/容器名字</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有的容器，停止和未停止的全部</span></span><br><span class="line">	docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment">#  mysql的容器底层的操作系统�?centos操作系统，装软件的话需�?</span></span><br><span class="line">	yum install</span><br><span class="line">	<span class="comment"># 如果是debian系统的话---执行下面</span></span><br><span class="line">    apt-get update</span><br><span class="line">    apt-get install vim -y</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 文件拷贝(宿主机执�?</span></span><br><span class="line">	<span class="comment"># 容器的文件cope到宿主机上（不是在容器内执行�?</span></span><br><span class="line">    	docker cp 容器名称:容器目录 需要拷贝的文件或目�?</span><br><span class="line">        docker cp  mysql5<span class="number">.7</span>:/xx.txt /root/lsk/lsk.txt   </span><br><span class="line">    <span class="comment"># 宿主机的文件copy到容器中</span></span><br><span class="line">        docker cp 需要拷贝的文件或目�?容器名称:容器目录</span><br><span class="line">        docker cp /root/lqz/xx.txt  mysql5<span class="number">.7</span>:/xx.txt</span><br><span class="line">            </span><br><span class="line"><span class="comment"># 查看容器的ip地址</span></span><br><span class="line">	docker inspect 容器名称  <span class="comment"># 查看容器的详细描述，很多</span></span><br><span class="line">    docker inspect 容器名称（容器ID�?--<span class="built_in">format</span>=<span class="string">&#x27;`&#123;&#123;.NetworkSettings.Networks.bridge.IPAddress&#125;&#125;`&#x27;</span> </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 在多个容器之间是可以ping通的(容器和宿主机也可�?</span></span><br><span class="line">    <span class="comment"># mycentos:172.17.0.2</span></span><br><span class="line">    <span class="comment"># mysql5.7:172.17.0.4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 缺命令就安装</span></span><br><span class="line">    	apt-get install iputils-ping</span><br><span class="line">    ping <span class="number">172.17</span><span class="number">.0</span><span class="number">.2</span>  <span class="comment"># ping到了mycentos</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 删除容器（删除已停止的容器）</span></span><br><span class="line">	docker rm 容器<span class="built_in">id</span>  </span><br><span class="line">    docker rm `docker ps -a -q` <span class="comment"># 删除所有容器（尽量不要使用�?</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 无状态的服务（在容器中尽量运行无状态的服务�?如果要运行有状态服务要做目录映�?</span></span><br><span class="line">    -mysql reids   有状态，运行过程中产生数据，保存，容器删除，数据就没�?</span><br><span class="line">    -uwsgi+django  无状态的服务</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 补充</span></span><br><span class="line">	<span class="number">1</span> ip地址  ip </span><br><span class="line">        <span class="number">10.0</span><span class="number">.0</span><span class="number">.111</span></span><br><span class="line">        <span class="number">10.0</span><span class="number">.2</span><span class="number">.1</span></span><br><span class="line">        <span class="number">10.0</span><span class="number">.4</span><span class="number">.2</span></span><br><span class="line">    <span class="number">2</span> 子网掩码 mask</span><br><span class="line">    	<span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line">        </span><br><span class="line">    <span class="number">3</span> 网关 gatway</span><br><span class="line">    	<span class="number">10.0</span><span class="number">.0</span><span class="number">.1</span></span><br></pre></td></tr></table></figure>
<h1>【补充�?</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># systemctl restart network  ---重启网卡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker ps   # 查看正在运行的容�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker ps -a  # 查看所有的容器，包括停止的容器</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docekr images  # 查看镜像�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker exec -it 容器名字/容器id /bin/bash # 进入到容器内�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># docker start 容器名字/容器id  # 启动容器</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入到redis容器中添加缓�?</span></span><br><span class="line">	- redis-cli SET mykey <span class="string">&quot;Hello, Redis!&quot;</span></span><br><span class="line">	- 会报错：身份验证</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E8%80%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E8%80%85/" class="post-title-link" itemprop="url">΢�ſ�����</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】对话框</h1>
<h2 id="�-】模态对话框">�?】模态对话框</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;ClickChank&quot;</span>&gt;</span>点击弹出模态框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">ClickChank</span>()&#123;</span><br><span class="line">    wx.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;这是标题&#x27;</span>,</span><br><span class="line">      <span class="attr">content</span>: <span class="string">&#x27;这是内容&#x27;</span>,</span><br><span class="line">      <span class="attr">complete</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">cancel</span>) &#123;</span><br><span class="line">          <span class="comment">// 点击取消</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">          <span class="comment">// 点击确认</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="�-】消息对话框">�?】消息对话框</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;ClickData&quot;</span>&gt;</span>点击弹出对话�?/button&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//弹出消息�?</span></span><br><span class="line">  <span class="title class_">ClickData</span>()&#123;</span><br><span class="line">    wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">      <span class="comment">// 提示信息</span></span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;内容&#x27;</span>,</span><br><span class="line">      <span class="comment">// 弹框的图�?</span></span><br><span class="line">      <span class="attr">icon</span>:<span class="string">&quot;success&quot;</span>,</span><br><span class="line">      <span class="comment">// 弹框消失的时�?</span></span><br><span class="line">      <span class="attr">duration</span>:<span class="number">2000</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h1>【二】储�?</h1>
<h2 id="�-】同�">�?】同�?</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleSave&quot;</span>&gt;</span>存储数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleGet&quot;</span>&gt;</span>获取数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleDelete&quot;</span>&gt;</span>删除数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleClear&quot;</span>&gt;</span>清空数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同步存储</span></span><br><span class="line">  <span class="comment">// 存储数据</span></span><br><span class="line">  <span class="title function_">handleSave</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">setStorageSync</span>(<span class="string">&quot;key&quot;</span>,<span class="string">&quot;value&quot;</span>)</span><br><span class="line">    wx.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;keys&#x27;</span>, &#123;<span class="attr">name</span>:<span class="string">&quot;lsk&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="string">&quot;22&quot;</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取数据</span></span><br><span class="line">  <span class="title function_">handleGet</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> value = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;key&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> dict = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;keys&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(dict);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 删除数据</span></span><br><span class="line">  <span class="title function_">handleDelete</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">removeStorageSync</span>(<span class="string">&#x27;key&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 清空数据</span></span><br><span class="line">  <span class="title function_">handleClear</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">clearStorageSync</span>()</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="�-】异�-—不带Sync">�?】异�?—不带Sync</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleSave&quot;</span>&gt;</span>存储数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleGet&quot;</span>&gt;</span>获取数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleDelete&quot;</span>&gt;</span>删除数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;default&quot;</span> <span class="attr">plain</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleClear&quot;</span>&gt;</span>清空数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// 异步存储</span></span><br><span class="line"><span class="title function_">handleSave</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">setStorage</span>(&#123;</span><br><span class="line">        <span class="attr">key</span>:<span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>:<span class="string">&quot;justin&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    wx.<span class="title function_">setStorage</span>(&#123;</span><br><span class="line">        <span class="attr">key</span>:<span class="string">&#x27;userinfo&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>:&#123;<span class="attr">name</span>:<span class="string">&#x27;lqz&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">handleGet</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> name= <span class="keyword">await</span> wx.<span class="title function_">getStorage</span>(&#123;<span class="attr">key</span>:<span class="string">&#x27;name&#x27;</span>&#125;)</span><br><span class="line">    <span class="keyword">const</span> userinfo= <span class="keyword">await</span> wx.<span class="title function_">getStorage</span>(&#123;<span class="attr">key</span>:<span class="string">&#x27;userinfo&#x27;</span>&#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(userinfo)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">handleDelete</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">removeStorage</span>(&#123;<span class="attr">key</span>:<span class="string">&#x27;name&#x27;</span>&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">handleClear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">clearStorage</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>【三】上拉下拉刷�?</h1>
<h2 id="�-】上拉加载更�">�?】上拉加载更�?</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;```&#123;&#123;goods&#125;&#125;```&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>`&#123;&#123;item&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### wxss###</span><br><span class="line">view&#123;</span><br><span class="line">  height: 400rpx;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">&#125;</span><br><span class="line">/* 奇数 */</span><br><span class="line">view:nth-child(odd)&#123;</span><br><span class="line">  background-color: pink;</span><br><span class="line">&#125;</span><br><span class="line">/* 偶数 */</span><br><span class="line">view:nth-child(even)&#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// json####</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">&quot;onReachBottomDistance&quot;</span>: <span class="number">50</span> # 到达底部距离</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">goods</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 上拉触碰</span></span><br><span class="line">  <span class="title function_">onReachBottom</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;上拉�?);</span></span><br><span class="line"><span class="string">    wx.request(&#123;</span></span><br><span class="line"><span class="string">      url: &#x27;</span><span class="attr">http</span>:<span class="comment">//localhost:8000/weixin/&#x27;,</span></span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">goods</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">goods</span>.<span class="title function_">concat</span>(res.<span class="property">data</span>.<span class="property">data</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">      </span><br><span class="line"><span class="comment">// 后端</span></span><br><span class="line">      <span class="keyword">class</span> <span class="title class_">WeixinLoginView</span>(<span class="title class_">APIView</span>):</span><br><span class="line">      def <span class="title function_">get</span>(self, request, *args, **kwargs):</span><br><span class="line">      	l = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="title function_">range</span>(<span class="number">3</span>):</span><br><span class="line">       		l.<span class="title function_">append</span>(random.<span class="title function_">randint</span>(<span class="number">1</span>, <span class="number">1000</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JsonResponse</span>(&#123;<span class="string">&#x27;data&#x27;</span>: l&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="�-】下拉刷�">�?】下拉刷�?</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;```&#123;&#123;goods&#125;&#125;```&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>`&#123;&#123;item&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### json####</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">&quot;onReachBottomDistance&quot;</span>: <span class="number">50</span>,</span><br><span class="line">  <span class="string">&quot;enablePullDownRefresh&quot;</span>: true, <span class="comment"># 开启下拉刷�?</span></span><br><span class="line">  <span class="string">&quot;backgroundColor&quot;</span>: <span class="string">&quot;#efefef&quot;</span>, <span class="comment">#下拉刷新背景�?</span></span><br><span class="line">  <span class="string">&quot;backgroundTextStyle&quot;</span>:<span class="string">&quot;dark&quot;</span> <span class="comment"># 下拉刷新点颜�?</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// js</span><br><span class="line">data:&#123;</span><br><span class="line">    goods:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">onPullDownRefresh()&#123;</span><br><span class="line">    console.log(<span class="string">&quot;下拉�?);</span></span><br><span class="line"><span class="string">    this.setData(&#123;goods:[1,2,3]&#125;)</span></span><br><span class="line"><span class="string">    // 在下拉刷新后，loading效果可能没回�?</span></span><br><span class="line"><span class="string">    if(this.data.goods.length==3)&#123;</span></span><br><span class="line"><span class="string">      wx.stopPullDownRefresh()</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】使用scroll-view实现">�?】使用scroll-view实现</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##### wxml####</span></span><br><span class="line">&lt;scroll-view </span><br><span class="line"><span class="keyword">class</span>=<span class="string">&quot;scroll&quot;</span></span><br><span class="line">scroll-y  <span class="comment"># 运行y轴滑�?</span></span><br><span class="line">lower-threshold=<span class="string">&quot;100&quot;</span> <span class="comment"># 距离底部还有100px时，触发事件</span></span><br><span class="line">bindscrolltolower=<span class="string">&quot;handleGetData&quot;</span><span class="comment"># 事件处理函数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">refresher-enabled=<span class="string">&quot;true&quot;</span>        <span class="comment"># 开�?下拉刷新</span></span><br><span class="line">refresher-default-style=<span class="string">&quot;black&quot;</span> <span class="comment"># 下拉默认样式</span></span><br><span class="line">refresher-background=<span class="string">&quot;#f0f0f0&quot;</span>  <span class="comment"># 下拉背景�?</span></span><br><span class="line">bindrefresherrefresh=<span class="string">&quot;handleReload&quot;</span> <span class="comment"># 下拉触发事件</span></span><br><span class="line">refresher-triggered=<span class="string">&quot;```&#123;&#123;isRefresh&#125;&#125;```&quot;</span> <span class="comment"># 设置下拉回弹，false允许回弹�?</span></span><br><span class="line"></span><br><span class="line">enable-back-to-top=<span class="string">&quot;true&quot;</span>  <span class="comment"># 快速回到顶部，ios点顶部，安卓点tab</span></span><br><span class="line">&gt;</span><br><span class="line">  &lt;view wx:<span class="keyword">for</span>=<span class="string">&quot;```&#123;&#123;goods&#125;&#125;```&quot;</span> wx:key=<span class="string">&quot;index&quot;</span>&gt;`&#123;&#123;item&#125;&#125;`&lt;/view&gt;</span><br><span class="line">&lt;/scroll-view&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### json###</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">###wxss###</span></span><br><span class="line">.scroll&#123;</span><br><span class="line">  /* 100vh就是指元素的高度等于当前浏览器的视窗高度,即浏览器内部的可视区域的高度大小 */</span><br><span class="line">  height: 100vh; </span><br><span class="line">  background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">view&#123;</span><br><span class="line">  height: 400rpx;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">&#125;</span><br><span class="line">/* 奇数 */</span><br><span class="line">view:nth-child(odd)&#123;</span><br><span class="line">  background-color: pink;</span><br><span class="line">&#125;</span><br><span class="line">/* 偶数 */</span><br><span class="line">view:nth-child(even)&#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#### js####</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    goods:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    isRefresh:false</span><br><span class="line">  &#125;,</span><br><span class="line">  handleGetData()&#123;</span><br><span class="line">    console.log(<span class="string">&#x27;上拉�?)</span></span><br><span class="line"><span class="string">    // 发送请求，加载数据</span></span><br><span class="line"><span class="string">    wx.request(&#123;</span></span><br><span class="line"><span class="string">      url: &#x27;</span>http://<span class="number">192.168</span><span class="number">.71</span><span class="number">.100</span>:<span class="number">5000</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      method:&#x27;</span>GET<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      success:(res)=&gt;&#123;</span></span><br><span class="line"><span class="string">        console.log(res)</span></span><br><span class="line"><span class="string">        this.setData(&#123;</span></span><br><span class="line"><span class="string">          goods:this.data.goods.concat(res.data)</span></span><br><span class="line"><span class="string">        &#125;)</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  handleReload()&#123;</span></span><br><span class="line"><span class="string">    console.log(&#x27;</span>下拉刷新�?)</span><br><span class="line">    wx.showToast(&#123;</span><br><span class="line">      title: <span class="string">&#x27;下拉刷新&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      goods:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      isRefresh:false</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1>【四】更新和生命周期</h1>
<h2 id="�-】小程序更新">�?】小程序更新</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 访问小程序，微信会将小程序代码包，下载到微信本地，打开使用</span></span><br><span class="line"><span class="comment"># 2 当小程序更新版本后，微信会检查小程序版本有没有更新，并下载最新小程序</span></span><br><span class="line"><span class="comment"># 3 更新方式：启动时同步更新，启动时异步更新</span></span><br><span class="line">	<span class="comment">### 同步更新�?</span></span><br><span class="line">    -启动时同步更新：微信运行时，会定期检查最近使用的小程序是否有更新。如果有更新，下次小程序启动时会同步进行更新，更新到最新版本后再打开小程序。如�?用户长时间未使用小程序时，会强制同步检查版本更�?</span><br><span class="line">	-如果更新失败，还是会使用本地版本</span><br><span class="line">	-新版本发�?<span class="number">4</span>小时后，基本会覆盖全部用�?</span><br><span class="line">    <span class="comment">### 异步更新####</span></span><br><span class="line">    启动时异步更新：在启动前没有发现更新，小程序每次 冷启�?时，都会异步检查是否有更新版本。如果发现有新版本，将会异步下载新版本的代码包，将新版本的小程序在下一次冷启动进行使用，当前访问使用的依然是本地的旧版本代�?</span><br><span class="line">    <span class="comment">## 强制更新###</span></span><br><span class="line">    在启动时异步更新的情况下，如果开发者希望立刻进行版本更新，可以使用 wx.getUpdateManager API 进行处理。在有新版本时提示用户重启小程序更新新版�?</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 4 在app.js中加�?</span></span><br><span class="line">App(&#123;</span><br><span class="line">  // 生命周期函数，启动小程序就会执行</span><br><span class="line">  onLaunch()&#123;</span><br><span class="line">    const update=wx.getUpdateManager()</span><br><span class="line">    update.onUpdateReady(function()&#123;</span><br><span class="line">      wx.showModal(&#123;</span><br><span class="line">        title: <span class="string">&#x27;发现新版�?,</span></span><br><span class="line"><span class="string">        content: &#x27;</span>重启应用，更新版本新版本?<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">        success:(res)=&gt;&#123;</span></span><br><span class="line"><span class="string">          if(res.confirm)&#123;</span></span><br><span class="line"><span class="string">            update.applyUpdate()</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】应用生命周�-—全局的js">�?】应用生命周�?—全局的js</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="title class_">App</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onLaunch</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;小程序启动了&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 当小程序启动，或从后台进入前台显示，会触�?onShow</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onShow</span>: <span class="keyword">function</span> (<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;后台切前台了&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 当小程序从前台进入后台，会触�?onHide</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onHide</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;进后台了&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="�-】页面生命周�-—局部的js">�?】页面生命周�?—局部的js</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1 页面加载�?)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string">  onReady() &#123;</span></span><br><span class="line"><span class="string">    console.log(&#x27;</span><span class="number">3</span> 初次渲染完成<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * 生命周期函数--监听页面显示</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string">  onShow() &#123;</span></span><br><span class="line"><span class="string">    console.log(&#x27;</span><span class="number">2</span> 页面显示<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * 生命周期函数--监听页面隐藏</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string">  onHide() &#123;</span></span><br><span class="line"><span class="string">    console.log(&#x27;</span><span class="number">4</span> 页面隐藏<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  /**</span></span><br><span class="line"><span class="string">   * 生命周期函数--监听页面卸载</span></span><br><span class="line"><span class="string">   */</span></span><br><span class="line"><span class="string">  onUnload() &#123;</span></span><br><span class="line"><span class="string">    console.log(&#x27;</span><span class="number">5</span> 页面卸载<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>
<h1>【五】其�?</h1>
<h2 id="�-】转�">�?】转�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 方式一：通过右上�?...</span></span><br><span class="line"><span class="comment"># 2 方式二：通过按钮�?需要给button设置 open-type=&quot;share&quot;</span></span><br><span class="line">&lt;button <span class="built_in">open</span>-<span class="built_in">type</span>=<span class="string">&quot;share&quot;</span>&gt;转发&lt;/button&gt;</span><br><span class="line"><span class="comment"># 3 js中编�?</span></span><br><span class="line">  onShareAppMessage() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      title:<span class="string">&quot;是朋友就点一�?,</span></span><br><span class="line"><span class="string">      path:&quot;</span>/pages/my/my<span class="string">&quot;, //当前转发的页�?</span></span><br><span class="line"><span class="string">      imageUrl:&#x27;/images/b.jpg&#x27;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  &#125;,</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】分享朋友圈">�?】分享朋友圈</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## �?】获取头�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## �?】获取昵�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## �?】手机号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### �?）手机号快速验�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### �?）手机号实时验证</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## �?】客服功�?</span></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"><span class="comment"># 微信为小程序提供客服消息能力，以便小程序用户可以方便快捷地与小程序服务提供方进行沟�?</span></span><br><span class="line">https://developers.weixin.qq.com/miniprogram/introduction/custom.html</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 进入到，微信开放平台，设置客服---可以在web上直接回�?</span></span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">![image-<span class="number">20240910212302346</span>](D:\pycharm\Temporary_notes\图片\image-<span class="number">20240910212302346.</span>png)![image-<span class="number">20240910212342783</span>](D:\pycharm\Temporary_notes\图片\image-<span class="number">20240910212342783.</span>png)</span><br><span class="line"></span><br><span class="line">````xml</span><br><span class="line"><span class="comment">## wxml##</span></span><br><span class="line">&lt;button <span class="built_in">type</span>=<span class="string">&quot;default&quot;</span> plain <span class="built_in">open</span>-<span class="built_in">type</span>=<span class="string">&quot;contact&quot;</span>&gt;联系客服&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<h1>【六】电影案�?</h1>
<h2 id="�-】小程序">�?】小程序</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####wxml</span></span><br><span class="line">&lt;view wx:<span class="keyword">for</span>=<span class="string">&quot;```&#123;&#123;film_list&#125;&#125;```&quot;</span> wx:key=<span class="string">&quot;index&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><br><span class="line">  &lt;image src=<span class="string">&quot;```&#123;&#123;item.poster&#125;&#125;```&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;film_photo&quot;</span> mode=<span class="string">&quot;aspectFit&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;view <span class="keyword">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><br><span class="line">    &lt;view <span class="keyword">class</span>=<span class="string">&quot;name&quot;</span>&gt;`&#123;&#123;item.name&#125;&#125;`&lt;/view&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;text&gt;</span><br><span class="line">      &lt;text <span class="keyword">class</span>=<span class="string">&quot;grade&quot;</span>&gt;  观众评分     &lt;/text&gt;</span><br><span class="line">      &lt;text <span class="keyword">class</span>=<span class="string">&quot;grade2&quot;</span>&gt;`&#123;&#123;item.grade&#125;&#125;`&lt;/text&gt;</span><br><span class="line">    &lt;/text&gt;</span><br><span class="line">    &lt;text <span class="keyword">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span><br><span class="line">      `&#123;&#123;item.nation&#125;&#125;` | `&#123;&#123;item.runtime&#125;&#125;` 分钟</span><br><span class="line">    &lt;/text&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">####wxss</span></span><br><span class="line">page&#123;</span><br><span class="line">  background-color: <span class="comment">#795757;</span></span><br><span class="line">&#125;</span><br><span class="line">.item&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  justify-content: flex-start;</span><br><span class="line">  margin: 10rpx;</span><br><span class="line">  background-color: <span class="comment">#FFFFFF;</span></span><br><span class="line">  border-radius: 20rpx;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.film_photo&#123;</span><br><span class="line">  height: 250rpx;</span><br><span class="line">  width: 200rpx;</span><br><span class="line">  flex-shrink: <span class="number">0</span>;</span><br><span class="line">  padding: 5rpx;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.content&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.name&#123;</span><br><span class="line">  color: <span class="comment">#191a1b;</span></span><br><span class="line">  height: 22px;</span><br><span class="line">  line-height: 22px;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">  font-size:40rpx</span><br><span class="line">&#125;</span><br><span class="line">.grade&#123;</span><br><span class="line">  font-size: 30rpx;</span><br><span class="line">  margin-top: 4px;</span><br><span class="line">  color: <span class="comment">#797d82;</span></span><br><span class="line">&#125;</span><br><span class="line">.grade2&#123;</span><br><span class="line">  color: <span class="comment">#ffb232;</span></span><br><span class="line">  font-size: 30rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.label&#123;</span><br><span class="line">  font-size: 30rpx;</span><br><span class="line">  margin-top: 4px;</span><br><span class="line">  color: <span class="comment">#797d82;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">######js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    film_list:[]</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  /**</span><br><span class="line">   * 生命周期函数--监听页面加载</span><br><span class="line">   */</span><br><span class="line">  onLoad: function (options) &#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">&#x27;http://127.0.0.1:8000/weixin/&#x27;</span>,</span><br><span class="line">      method:<span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">      success:(res)=&gt;&#123;</span><br><span class="line">        console.log(res.data)</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">          film_list:res.data.data.result</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="�-】后�">�?】后�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">WeixinLoginView</span>(<span class="title class_ inherited__">APIView</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./film.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            res_dic = json.load(f)</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&#x27;data&#x27;</span>: res_dic&#125;)</span><br></pre></td></tr></table></figure>
<h1>【七】<code>vant-app</code></h1>
<h2 id="�-】使用npm�">�?】使用<code>npm</code>�</h2>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E5%BD%BC%E5%B2%B8%E5%9B%BE%E7%BD%91%20%E6%A1%88%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E5%BD%BC%E5%B2%B8%E5%9B%BE%E7%BD%91%20%E6%A1%88%E4%BE%8B/" class="post-title-link" itemprop="url">�˰�ͼ�� ����</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>彼岸图网 案例</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Current username：爬�?</span></span><br><span class="line"><span class="comment"># current date�?024/7/17</span></span><br><span class="line"><span class="comment"># current time �?9:11</span></span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># SpiderImage:爬图�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpiderImage</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 目标网址</span></span><br><span class="line">        <span class="variable language_">self</span>.target_url = <span class="string">&quot;https://pic.netbian.com&quot;</span></span><br><span class="line">        <span class="comment"># 定义了HTTP请求的一个请求头（header�?</span></span><br><span class="line">        <span class="variable language_">self</span>.headers = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: UserAgent().random</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># 当前文件路径</span></span><br><span class="line">        <span class="variable language_">self</span>.BASE_URL = os.path.dirname(__file__)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建目标网址</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_target_url</span>(<span class="params">self, original_url, start_numm, end_num</span>):</span><br><span class="line">        target_url_list = []</span><br><span class="line">        <span class="comment"># 模仿页面：https://pic.netbian.com/4kdongman/index_2.html</span></span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(start_numm, end_num):</span><br><span class="line">            <span class="comment"># 等于1的时候就是第一�?</span></span><br><span class="line">            <span class="keyword">if</span> page == <span class="number">1</span>:</span><br><span class="line">                target_url = original_url</span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                target_url = <span class="string">f&quot;https://pic.netbian.com/4kdongman/index_<span class="subst">&#123;page&#125;</span>.html&quot;</span></span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line">        <span class="keyword">return</span> target_url_list</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对目标网址发起请求获取页面源码</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_page_soup</span>(<span class="params">self, target_url=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> target_url:</span><br><span class="line">            <span class="comment"># 目标地址</span></span><br><span class="line">            target_url = <span class="variable language_">self</span>.target_url</span><br><span class="line">        <span class="comment"># 请求的到响应</span></span><br><span class="line">        response = requests.get(url=target_url,</span><br><span class="line">                                headers=<span class="variable language_">self</span>.headers)</span><br><span class="line">        <span class="comment"># 编码</span></span><br><span class="line">        response.encoding = <span class="string">&quot;gbk&quot;</span></span><br><span class="line">        <span class="comment"># 获得目标地址的页面信�?</span></span><br><span class="line">        page_text = response.text</span><br><span class="line">        <span class="comment"># 对页面源码生成soup对象</span></span><br><span class="line">        soup = BeautifulSoup(page_text, <span class="string">&quot;lxml&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> soup</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对页面进行分析提取数�?</span></span><br><span class="line">    <span class="comment"># 提取页面上的分类</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_category</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 先拿到页面生成器对象</span></span><br><span class="line">        soup = <span class="variable language_">self</span>.spider_page_soup()</span><br><span class="line">        <span class="comment"># 分析代码，提取标�?</span></span><br><span class="line">        <span class="comment"># 取到每一个a标签</span></span><br><span class="line">        category_list_obj = soup.find_all(<span class="string">&#x27;div&#x27;</span>, class_=<span class="string">&#x27;classify&#x27;</span>)[<span class="number">0</span>].find_all(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        <span class="comment"># print(category_list_obj)</span></span><br><span class="line">        <span class="comment"># 对每一个标签进行提�?</span></span><br><span class="line">        category_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> category_obj <span class="keyword">in</span> category_list_obj:</span><br><span class="line">            <span class="comment"># print(category_obj)</span></span><br><span class="line">            category_name = category_obj.text</span><br><span class="line">            category_url = category_obj.attrs.get(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line">            <span class="comment"># print(category_name, category_url)</span></span><br><span class="line">            <span class="comment"># 观察网址我们可以看出，网站也需要拼接，前面是带域名�?</span></span><br><span class="line">            category_url = <span class="variable language_">self</span>.target_url + category_url</span><br><span class="line">            <span class="comment"># print(target_url)</span></span><br><span class="line">            <span class="comment"># 将得到的路径存起�?</span></span><br><span class="line">            category_data[category_name] = category_url</span><br><span class="line">        <span class="keyword">return</span> category_data</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 提取的当前页面上的图片的详情链接</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_image_detail_url</span>(<span class="params">self, soup=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="comment"># soup没有的话给空�?</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> soup:</span><br><span class="line">            soup = <span class="variable language_">self</span>.spider_page_soup()</span><br><span class="line">        <span class="comment"># 观察页面代码，发现图片都在ur标签的li标签�?</span></span><br><span class="line">        <span class="comment"># 我们需要ur下面的li标签</span></span><br><span class="line">        li_list = soup.select(<span class="string">&quot;#main &gt; div.slist &gt; ul &gt;li&quot;</span>)</span><br><span class="line">        <span class="comment"># print(li_list)</span></span><br><span class="line">        <span class="comment"># 遍历每个里标�?</span></span><br><span class="line">        img_detail_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            <span class="comment"># 我们需要图片的url</span></span><br><span class="line">            <span class="comment"># #main &gt; div.slist &gt; ul &gt; li:nth-child(1) &gt; a</span></span><br><span class="line">            <span class="comment"># 路径不完整我需要拼�?</span></span><br><span class="line">            <span class="comment"># 模仿url：https://pic.netbian.com/tupian/34749.html</span></span><br><span class="line">            href = <span class="variable language_">self</span>.target_url + li.select(<span class="string">&quot; a&quot;</span>)[<span class="number">0</span>].attrs.get(<span class="string">&quot;href&quot;</span>)</span><br><span class="line">            <span class="comment"># print(title, href)</span></span><br><span class="line">            <span class="comment"># 我们拿到了图片的详情链接，继续取完整的图�?</span></span><br><span class="line">            <span class="comment"># 我们要获得当前详情页面的soup对象</span></span><br><span class="line">            soup = <span class="variable language_">self</span>.spider_page_soup(target_url=href)</span><br><span class="line">            <span class="comment"># 图片的url,缺域名，加上域名</span></span><br><span class="line">            img_url = <span class="variable language_">self</span>.target_url + soup.select(<span class="string">&quot;#img &gt; img&quot;</span>)[<span class="number">0</span>].attrs.get(<span class="string">&quot;src&quot;</span>)</span><br><span class="line">            <span class="comment"># 拿到图片，地址</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 我们还需要title，来保存图片</span></span><br><span class="line">            img_title = soup.select(<span class="string">&quot;#img &gt; img&quot;</span>)[<span class="number">0</span>].attrs.get(<span class="string">&quot;title&quot;</span>)</span><br><span class="line">            <span class="comment"># 图片名字不能带有*，需要去�?</span></span><br><span class="line">            <span class="comment"># 检测到每个图片名字*的索引位�?</span></span><br><span class="line">            last_index = img_title.find(<span class="string">&quot;4k&quot;</span>) <span class="keyword">if</span> img_title.find(<span class="string">&quot;4k&quot;</span>) != -<span class="number">1</span> <span class="keyword">else</span> img_title.find(<span class="string">&quot;4K&quot;</span>)</span><br><span class="line">            <span class="comment"># 截取</span></span><br><span class="line">            img_title = img_title[:last_index]</span><br><span class="line">            <span class="comment"># print(img_title)</span></span><br><span class="line">            <span class="comment"># 将图片链接和图片�?名字存到字典�?</span></span><br><span class="line">            img_detail_data[img_title] = img_url</span><br><span class="line">        <span class="keyword">return</span> img_detail_data</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 下载图片</span></span><br><span class="line">    <span class="comment"># 根据不同的分类去下载，传入category_name</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">download_image</span>(<span class="params">self, category_name, img_url, img_title</span>):</span><br><span class="line">        <span class="comment"># 对你想下载的图片发起请求</span></span><br><span class="line">        response = requests.get(url=img_url)</span><br><span class="line">        <span class="comment"># 拿到图片的响应数�?</span></span><br><span class="line">        <span class="comment"># content = response.content</span></span><br><span class="line">        <span class="comment"># 图片存放的路径，进行拼接</span></span><br><span class="line">        img_dir = os.path.join(<span class="variable language_">self</span>.BASE_URL, <span class="string">&quot;img&quot;</span>, <span class="built_in">str</span>(category_name))</span><br><span class="line">        <span class="comment"># 文件夹不存在自动创建</span></span><br><span class="line">        os.makedirs(img_dir, exist_ok=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 拼接图片文件路径,记得加图片的后缀</span></span><br><span class="line">        img_path = os.path.join(img_dir, img_title + <span class="string">&#x27;.png&#x27;</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(img_path, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            <span class="keyword">for</span> data <span class="keyword">in</span> response.iter_content(<span class="number">1024</span>):</span><br><span class="line">                fp.write(data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;图片<span class="subst">&#123;img_title&#125;</span>下载完成�?)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # 入口</span></span><br><span class="line"><span class="string">    def main(self):</span></span><br><span class="line"><span class="string">        # 拿到所有的分类</span></span><br><span class="line"><span class="string">        img_category = self.parse_category()</span></span><br><span class="line"><span class="string">        print(img_category)</span></span><br><span class="line"><span class="string">        category_name_data = <span class="subst">&#123;&#125;</span></span></span><br><span class="line"><span class="string">        # enumerate对象，它是一个迭代器，包含元组（包含两个元素，索引和值）</span></span><br><span class="line"><span class="string">        # start:所以从1开�?</span></span><br><span class="line"><span class="string">        for index, category_name in enumerate(img_category.keys(), start=1):</span></span><br><span class="line"><span class="string">            print(f&quot;</span>当前第&#123;index&#125;个分类：----&#123;category_name&#125;<span class="string">&quot;)</span></span><br><span class="line"><span class="string">            category_name_data[index] = category_name</span></span><br><span class="line"><span class="string">        # 用户选择下载的分�?</span></span><br><span class="line"><span class="string">        category_id = input(&quot;</span>输入你选择的分类<span class="built_in">id</span>�?--�?)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取类名</span></span><br><span class="line">        category_name = category_name_data[<span class="built_in">int</span>(category_id)]</span><br><span class="line">        <span class="comment"># 起始的url</span></span><br><span class="line">        original_url = img_category[category_name]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 让用户输入想要下载的起始的页码数和结束的页码�?</span></span><br><span class="line">        start_num = <span class="built_in">input</span>(<span class="string">&quot;输入你要开始下载的起始页码数：----�?)</span></span><br><span class="line"><span class="string">        end_num = input(&quot;</span>输入你要结束下载的页码数�?---�?)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建目标地址</span></span><br><span class="line">        target_url_list = <span class="variable language_">self</span>.create_target_url(</span><br><span class="line">            original_url=original_url,</span><br><span class="line">            start_numm=<span class="built_in">int</span>(start_num),</span><br><span class="line">            end_num=<span class="built_in">int</span>(end_num)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 遍历每一网址，或的每一个soup对象</span></span><br><span class="line">        img_detail_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> target_url <span class="keyword">in</span> target_url_list:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                soup = <span class="variable language_">self</span>.spider_page_soup(target_url=target_url)</span><br><span class="line">                <span class="comment"># 获取到图片的地址和详情标�?</span></span><br><span class="line">                img_detail_data.update(<span class="variable language_">self</span>.parse_image_detail_url(soup=soup))</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">for</span> img_title, img_url <span class="keyword">in</span> img_detail_data.items():</span><br><span class="line">            <span class="variable language_">self</span>.download_image(img_url=img_url, img_title=img_title, category_name=category_name)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># img_detail_data = self.parse_image_detail_url()</span></span><br><span class="line">        <span class="comment"># # 拆分，字�?</span></span><br><span class="line">        <span class="comment"># for img_title, img_url in img_detail_data.items():</span></span><br><span class="line">        <span class="comment">#     self.download_image(img_url, img_title)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = SpiderImage()</span><br><span class="line">    s.main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E4%BA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E4%BA%8C/" class="post-title-link" itemprop="url">�ǻ�������Ŀ��</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】活动Tab�?</h1>
<h2 id="�-】前�">�?】前�?</h2>
<h3 id="�-）wxml">�?）<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）`js`</span><br><span class="line"></span><br><span class="line">````js</span><br></pre></td></tr></table></figure>
<h3 id="�-）wxss">�?）<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）`json`</span><br><span class="line"></span><br><span class="line">````json</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 【二】登录功�?</span><br><span class="line"></span><br><span class="line">## �?】前�?</span><br><span class="line"></span><br><span class="line">### �?）`wxml`</span><br><span class="line"></span><br><span class="line">````xml</span><br><span class="line"></span><br><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）`js`</span><br><span class="line"></span><br><span class="line">````js</span><br><span class="line"></span><br><span class="line">````</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）`wxss`</span><br><span class="line"></span><br><span class="line">```css</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）json">�?）<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1>【三】活动报�?</h1>
<h2 id="�-】前�-2">�?】前�?</h2>
<h3 id="�-）wxml-2">�?）<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）js">�?）<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）wxss-2">�?）<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）json-2">�?）<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1>【四】积分商�?</h1>
<h2 id="�-】前�-3">�?】前�?</h2>
<h3 id="�-）wxml-3">�?）<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）js-2">�?）<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）wxss-3">�?）<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）json-3">�?）<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h1>【五】后端上�?</h1>
<h1>【六】小程序上线</h1>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E7%BB%BC%E5%90%88%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E7%BB%BC%E5%90%88%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">�ۺ����ú�������</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>综合内置函数方法</h1>
<ul>
<li>
<p>内置函数就是python给你提供�? 拿来直接用的函数</p>
</li>
<li>
<p>所有内置方法：<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html">https://docs.python.org/3/library/functions.html</a></p>
</li>
</ul>
<p><img src="C:%5CUsers%5C86177%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240424163342054.png" alt="image-20240424163342054"></p>
<h2 id="【一】数据类型转换（8种）">【一】数据类型转换（8种）</h2>
<ul>
<li>数据类型转换–》int</li>
<li>浮点数类型转�?-》float</li>
<li>字符串类型转�?–》str</li>
<li>字典类型转换–》dict</li>
<li>列表类型转换–》list</li>
<li>布尔类型转换–》bool</li>
<li>元组类型转换–》tuple：函数可接受可迭代对象，用键值对初始化字典�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例</span></span><br><span class="line">dictionary = <span class="built_in">dict</span>([(<span class="number">1</span>, <span class="string">&#x27;one&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;two&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;three&#x27;</span>)])</span><br><span class="line"><span class="built_in">print</span>(dictionary)</span><br><span class="line"><span class="comment"># 输出：&#123;1: &#x27;one&#x27;, 2: &#x27;two&#x27;, 3: &#x27;three&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>集合类型转换–》set：创建一个集合，自动去除重复元素�?</li>
</ul>
<h2 id="【二】数据进制转换（3种）">【二】数据进制转换（3种）</h2>
<ul>
<li>十进制转二进�?-》bin：转换之后里面的数字都是0,1的就�?进制</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">999</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(num))<span class="comment">#0b 1111100111</span></span><br></pre></td></tr></table></figure>
<ul>
<li>十进制转换八进制–》oct：转换之后里面的数字最大不超过8的就是八进制</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">999</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">oct</span>(num))<span class="comment">#0o 1747</span></span><br></pre></td></tr></table></figure>
<ul>
<li>十进制转换十六进�?-》hex：转换之后里面不止一个字母的就是十六进制</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">999</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hex</span>(num))<span class="comment">#0x 3e7</span></span><br></pre></td></tr></table></figure>
<h2 id="【三】数学运算（8种）">【三】数学运算（8种）</h2>
<ul>
<li>获取绝对�?-》abs</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">abs</span>(-<span class="number">9</span>))<span class="comment">#9</span></span><br></pre></td></tr></table></figure>
<ul>
<li>获取商和余数–》divmod</li>
<li>divmod(被除�?除数)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">divmod</span>(<span class="number">9</span>, <span class="number">2</span>))<span class="comment">#(4,1)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">divmod</span>(<span class="number">2</span>, <span class="number">9</span>))<span class="comment">#(0,2)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>四舍五入—》round</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 四舍五入的时候如果后面的数字等于5 5后面的数字如果大�? �?</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(<span class="number">4.51</span>))  <span class="comment"># 5</span></span><br><span class="line"><span class="comment"># 四舍五入的时候如果后面的数字等于5 5后面的数字如果不大于0 不进1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(<span class="number">4.50</span>))  <span class="comment"># 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 四舍五入的时候如果后面的数字等于5 5后面的数字如果大�? �?</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(<span class="number">4.451</span>, <span class="number">1</span>))  <span class="comment"># 4.5</span></span><br><span class="line"><span class="comment"># 四舍五入的时候如果后面的数字等于5 5后面的数字如果不大于0 �?</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(<span class="number">4.450</span>, <span class="number">1</span>))  <span class="comment"># 4.5</span></span><br></pre></td></tr></table></figure>
<ul>
<li>幂次�?-》pow</li>
<li>pow（x,y,z�?
<ul>
<li>x �?数值表达式(整数或者浮点数)</li>
<li>y �?数值表达式(整数或者浮点数)</li>
<li>z �?数值表达式(整数或者浮点数)，默认不设置z�?</li>
<li>返回值：返回 xy(x的y次方)的值；如果设置了z�?则再对结果进行取�?其结果等效于pow(x,y) % z</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 两个参数的是获取到当前的幂次�?</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">pow</span>(<span class="number">2</span>, <span class="number">4</span>))  <span class="comment"># 16</span></span><br><span class="line"><span class="comment">#  三个参数的时候获取到的是当前幂次方的余数</span></span><br><span class="line"><span class="comment"># 16 / 5 = 3 .. 1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">pow</span>(<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>))  <span class="comment"># 1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>求和–》sum</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]))  <span class="comment"># 求和:55</span></span><br></pre></td></tr></table></figure>
<ul>
<li>最小�?-》min</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">min</span>(<span class="number">5</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">7</span>,<span class="number">2</span>))  <span class="comment"># 求最小�?2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>求最大�?-》max</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(<span class="number">7</span>,<span class="number">3</span>,<span class="number">15</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">13</span>))  <span class="comment"># 求最大�?15</span></span><br></pre></td></tr></table></figure>
<ul>
<li>复数转换–》complex</li>
<li>complex(re, im) : 具有实部 re、虚�?im 的复数。im 默认为零�?</li>
<li>参考链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/koulongxin123/article/details/121301172">https://blog.csdn.net/koulongxin123/article/details/121301172</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">start = <span class="built_in">complex</span>(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(start)  <span class="comment"># (3+4j)</span></span><br><span class="line"></span><br><span class="line">second = <span class="built_in">complex</span>(<span class="number">5</span>, <span class="number">9</span>)</span><br><span class="line"><span class="built_in">print</span>(second)  <span class="comment"># (5+9j)</span></span><br><span class="line"></span><br><span class="line">res = start + second</span><br><span class="line"><span class="built_in">print</span>(res) <span class="comment"># (8+13j)</span></span><br></pre></td></tr></table></figure>
<h2 id="【四】数据结构相关（18种）">【四】数据结构相关（18种）</h2>
<h3 id="�-】序列相关（5种）">�?】序列相关（5种）</h3>
<ul>
<li>翻转–》reversed</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">list_num = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">reversed</span>(list_num))<span class="comment">#&lt;list_reverseiterator object at 0x0000027C4DD4B190&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">reversed</span>(list_num)))<span class="comment">#[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>切片–》slice</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#:</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">1</span>:<span class="number">3</span>:<span class="number">1</span>])  <span class="comment"># [2,3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#,</span></span><br><span class="line">s = <span class="built_in">slice</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment">#  切片用的</span></span><br><span class="line"><span class="built_in">print</span>(lst[s])<span class="comment"># [2,3]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>计算长度–》len（）</li>
<li>排序–》sorted
<ul>
<li>语法：sorted(Iterable, key=函数(排序规则), reverse=False)
<ul>
<li>Iterable: 可迭代对�?</li>
<li>key: 排序规则(排序函数), 在sorted内部会将可迭代对象中的每一个元素传递给这个函数的参�? 根据函数运算的结果进行排�?</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">1</span>, <span class="number">13</span>, <span class="number">9</span>, <span class="number">18</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># sort是list里面的一个方�? sort 方法没有返回�?</span></span><br><span class="line">lst.sort()</span><br><span class="line"><span class="built_in">print</span>(lst)</span><br><span class="line"><span class="comment"># [1, 5, 5, 6, 7, 9, 12, 13, 18]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 内置函数. 返回给你一个新列表  新列表是被排序的</span></span><br><span class="line">ll = <span class="built_in">sorted</span>(lst)</span><br><span class="line"><span class="built_in">print</span>(ll)</span><br><span class="line"><span class="comment"># [1, 5, 5, 6, 7, 9, 12, 13, 18]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 倒序</span></span><br><span class="line">l2 = <span class="built_in">sorted</span>(lst, reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(l2)</span><br><span class="line"><span class="comment"># [18, 13, 12, 9, 7, 6, 5, 5, 1]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据字符串长度给列表排序</span></span><br><span class="line">lst = [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;five&#x27;</span>, <span class="string">&#x27;six&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(s)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">l1 = <span class="built_in">sorted</span>(lst, key=f)</span><br><span class="line"><span class="built_in">print</span>(l1)  <span class="comment"># [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;six&#x27;, &#x27;four&#x27;, &#x27;five&#x27;, &#x27;three&#x27;]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">user_data = &#123;</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>: <span class="string">&quot;dream&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="string">&#x27;18&#x27;</span>,</span><br><span class="line">    <span class="string">&quot;gender&quot;</span>: <span class="string">&quot;male&quot;</span>,</span><br><span class="line">    <span class="string">&quot;hobby&quot;</span>: <span class="string">&quot;listen&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">aaa</span>(<span class="params">item</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(item[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(user_data))<span class="comment">#[&#x27;age&#x27;, &#x27;gender&#x27;, &#x27;hobby&#x27;, &#x27;username&#x27;]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>枚举函数</strong>–》enumerate</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;five&#x27;</span>]</span><br><span class="line"><span class="comment"># 把索引和元素一起获�?索引默认�?开�? 可以更改</span></span><br><span class="line"><span class="comment"># 下面更改默认索引�?0 开�?</span></span><br><span class="line"><span class="keyword">for</span> index, el <span class="keyword">in</span> <span class="built_in">enumerate</span>(lst, <span class="number">1</span>):  </span><br><span class="line">    <span class="built_in">print</span>(index)</span><br><span class="line">    <span class="built_in">print</span>(el)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># one</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># two</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># three</span></span><br><span class="line"><span class="comment"># 4</span></span><br><span class="line"><span class="comment"># four</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># five</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】字符串�-种）">�?】字符串�?种）</h3>
<ul>
<li>格式化输�?-》format
<ul>
<li>居中对齐</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;hello world!&quot;</span></span><br><span class="line"><span class="comment">#20的意思是s的总长度加上空格等�?0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(s, <span class="string">&quot;^20&quot;</span>))  <span class="comment"># �? �?</span></span><br><span class="line"><span class="comment">#     hello world!</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(s, <span class="string">&quot;&lt;20&quot;</span>))  <span class="comment"># 左对�?</span></span><br><span class="line"><span class="comment"># hello world!</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(s, <span class="string">&quot;&gt;20&quot;</span>))  <span class="comment"># 右对�?</span></span><br><span class="line"><span class="comment">#         hello world!</span></span><br></pre></td></tr></table></figure>
<ul>
<li>进制转换</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">3</span>, <span class="string">&#x27;b&#x27;</span>))  <span class="comment"># 二进�?11</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">97</span>, <span class="string">&#x27;c&#x27;</span>))  <span class="comment"># 转换成unicode字符:a</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">11</span>, <span class="string">&#x27;d&#x27;</span>))  <span class="comment"># ⼗进�?11</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">11</span>, <span class="string">&#x27;o&#x27;</span>))  <span class="comment"># 八进�?13</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">11</span>, <span class="string">&#x27;x&#x27;</span>))  <span class="comment"># 十六进制(⼩写字母):b</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">11</span>, <span class="string">&#x27;X&#x27;</span>))  <span class="comment"># 十六进制(大写字母):B</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">11</span>, <span class="string">&#x27;n&#x27;</span>))  <span class="comment"># 和d⼀�?11</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">11</span>))  <span class="comment"># 和d⼀�?11</span></span><br></pre></td></tr></table></figure>
<ul>
<li>科学计数�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">123456789</span>, <span class="string">&#x27;e&#x27;</span>))  <span class="comment"># 科学计数�? 默认保留6位小�?1.234568e+08</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">123456789</span>, <span class="string">&#x27;0.2e&#x27;</span>))  <span class="comment"># 科学计数�? 保留2位小�?小写):1.23e+08</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">123456789</span>, <span class="string">&#x27;0.2E&#x27;</span>))  <span class="comment"># 科学计数�? 保留2位小�?大写):1.23E+08</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">1.23456789</span>, <span class="string">&#x27;f&#x27;</span>))  <span class="comment"># 小数点计数法. 保留6位小�?1.234568</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">1.23456789</span>, <span class="string">&#x27;0.2f&#x27;</span>))  <span class="comment"># 小数点计数法. 保留2位小�?1.23</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">1.23456789</span>, <span class="string">&#x27;0.10f&#x27;</span>))  <span class="comment"># 小数点计数法. 保留10位小�?1.2345678900</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(<span class="number">1.23456789e+3</span>, <span class="string">&#x27;F&#x27;</span>))  <span class="comment"># 小数点计数法. 很大的时候输出INF:1234.567890</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）字符串转换bytes">�?）字符串转换bytes</h4>
<ul>
<li>bytes()把字符串转换成bytes类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bs = <span class="built_in">bytes</span>(<span class="string">&quot;今天吃饭了吗&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(bs) </span><br><span class="line"><span class="comment"># b&#x27;\xe4\xbb\x8a\xe5\xa4\xa9\xe5\x90\x83\xe9\xa5\xad\xe4\xba\x86\xe5\x90\x97&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="�-）获取字节数�-bytearray">�?）获取字节数�?bytearray)</h4>
<ul>
<li>
<p>bytearray()</p>
<ul>
<li>
<p>返回一个新字节数组. 这个数字的元素是可变�? 并且每个元素的值得范围是[0,256)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ret = <span class="built_in">bytearray</span>(<span class="string">&quot;dream&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(ret[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># 100#ASCII码表</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(ret)</span><br><span class="line"><span class="comment"># bytearray(b&#x27;dream&#x27;)</span></span><br><span class="line"></span><br><span class="line">ret[<span class="number">0</span>] = <span class="number">65</span></span><br><span class="line"><span class="comment"># �?5的位置A赋值给ret[0]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>(ret))</span><br><span class="line"><span class="comment"># bytearray(b&#x27;Aream&#x27;)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="�-）返回对象的字符串格�-repr">�?）返回对象的字符串格�?repr)</h4>
<ul>
<li>
<p>repr() 返回一个对象的string形式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">word = <span class="string">&quot;今天\n吃了%s顿\t�? % 3</span></span><br><span class="line"><span class="string">print(word)</span></span><br><span class="line"><span class="string"># 今天</span></span><br><span class="line"><span class="string"># 吃了3�?�?</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 原样输出,过滤掉转义字�?\n \t \r 不管百分�?</span></span><br><span class="line"><span class="string">print(repr(word))</span></span><br><span class="line"><span class="string"># &#x27;今天\n吃了3顿\t�?</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="�-】字符编码（3种）">�?】字符编码（3种）</h3>
<h4 id="�-）字符编码找数字（ord�">�?）字符编码找数字（ord�?</h4>
<ul>
<li>ord()输入字符</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>))  </span><br><span class="line"><span class="comment"># 字母a在编码表中的码位:97</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&#x27;�?))  </span></span><br><span class="line"><span class="string"># &#x27;</span>�?字在编码表中的位�?<span class="number">20013</span></span><br></pre></td></tr></table></figure>
<h4 id="2-数字找字符编�-chr">(2)数字找字符编�?chr)</h4>
<ul>
<li>
<p>chr() 输入位置数字找出对应的字�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">chr</span>(<span class="number">65</span>))  </span><br><span class="line"><span class="comment"># 已知码位,求字符是什�?A</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">chr</span>(<span class="number">19999</span>))  </span><br><span class="line"><span class="comment"># �?</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="3-数字找ASCII码（ascii�">(3)数字找ASCII码（ascii�?</h4>
<ul>
<li>
<p>ascii() 是ascii码中的返回该�?不是就返回u</p>
</li>
<li>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">65536</span>):  <span class="comment">#打印�?�?5535的字�?</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">chr</span>(i), end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ascii</span>(<span class="string">&quot;@&quot;</span>))  <span class="comment">#&#x27;@&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="�-】数据集�-1�">�?】数据集�?1�?</h3>
<ul>
<li>创建一个冻结的集合(frozenset)</li>
<li>frozenset() 创建一个冻结的集合，冻结的集合不能进行添加和删除操作�?</li>
<li><strong>注释</strong>: <code>frozenset()</code> 函数返回一个不可变�?frozenset 对象，适用于作为字典的键或集合的元素�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例</span></span><br><span class="line">frozen_set = <span class="built_in">frozenset</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(frozen_set)</span><br><span class="line"><span class="comment"># 输出：frozenset(&#123;1, 2, 3, 4, 5&#125;)</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】判断条件（2种）">�?】判断条件（2种）</h3>
<h4 id="�-）所有为真（all�">�?）所有为真（all�?</h4>
<ul>
<li>all() 可迭代对象中全部是True, 结果才是True</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">all</span>([<span class="number">1</span>,<span class="string">&#x27;hello&#x27;</span>,<span class="literal">True</span>,<span class="number">9</span>]))  <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h4 id="2-任意为真（any�">(2)任意为真（any�?</h4>
<ul>
<li>any() 可迭代对象中有一个是True, 结果就是True</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">any</span>([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="literal">False</span>,<span class="number">1</span>,<span class="string">&#x27;good&#x27;</span>]))  <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】高阶函数（3种）">�?】高阶函数（3种）</h3>
<h4 id="�-）打包（zip�">�?）打包（zip�?</h4>
<ul>
<li>zip()函数
<ul>
<li>用于将可迭代的对象作为参�?</li>
<li>将对象中对应的元素打包成一个元�?</li>
<li>然后返回由这些元组组成的列表</li>
</ul>
</li>
<li>如果各个迭代器的元素个数不一�? 则返回列表长度与最短的对象相同</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/" class="post-title-link" itemprop="url">�ǻ�������Ŀ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】项目介�?</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 项目名：智慧社区</span></span><br><span class="line">	-欢迎页面</span><br><span class="line">	-首页</span><br><span class="line">    	-轮播�?</span><br><span class="line">        -公告</span><br><span class="line">        -信息采集，社区活动，人脸检测，语音识别，心率检测，积分商城</span><br><span class="line">   -信息采集页面</span><br><span class="line">		-采集人数</span><br><span class="line">   -采集详情页面</span><br><span class="line">   -采集统计页面</span><br><span class="line">   -人脸检测页�?</span><br><span class="line">   -语音识别页面</span><br><span class="line">   -积分商城页面</span><br><span class="line">   -活动</span><br><span class="line">		-活动列表</span><br><span class="line">    	-报名活动</span><br><span class="line">        -加载更多</span><br><span class="line">   -公告</span><br><span class="line">		-公告列表</span><br><span class="line">   -我的</span><br><span class="line">		-信息展示</span><br><span class="line">   -登录</span><br><span class="line">	-微信快速登�?</span><br><span class="line">    -短信验证码登�?</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240418171500682.png" alt="image-20240418171500682"><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240418171542255.png" alt="image-20240418171542255"><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240418171613009.png" alt="image-20240418171613009"><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240418172048680.png" alt="image-20240418172048680"></p>
<h1>【二】项目创�?</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 前端用微信小程序端写：smart_front</span></span><br><span class="line">	- 直接创建即可，不使用云服务，不选择模板</span><br><span class="line">    - 将创建好的项目修改一下，改成最干净�?</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 后端用django和drf写：smart_api</span></span><br><span class="line">	- 后端我们使用虚拟环境创建fdjango项目</span><br><span class="line">    - 创建虚拟环境，使用pycharm或命令创�?</span><br><span class="line">    - 配置环境和mysql和目录的结构</span><br></pre></td></tr></table></figure>
<h1>【三】小程序欢迎页面</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240912155119604.png" alt="image-20240912155119604"></p>
<h2 id="�-】分�">�?】分�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 小程序一打开，就会显示一个广告页�?</span></span><br><span class="line">	-点击会跳转到广告--》跳转内部页�?-》到广告的页�?</span><br><span class="line">    -广告图片充满全屏，后台控制更�?</span><br><span class="line">    -定时�?-�?s�?---跳转到首页tab</span><br><span class="line">    - 也可以直接点击跳过，进入到首�?</span><br></pre></td></tr></table></figure>
<h2 id="�-】写欢迎页面">�?】写欢迎页面</h2>
<h3 id="�-）wxml">�?）<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 欢迎的广�?--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">bindtap</span>=<span class="string">&quot;doJump&quot;</span> <span class="attr">class</span>=<span class="string">&quot;jump&quot;</span>&gt;</span>跳过`&#123;&#123;seconds&#125;&#125;`�?/text&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;img&quot;</span> <span class="attr">src</span>=<span class="string">&quot;```&#123;&#123;image&#125;&#125;```&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）js">�?）<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里将请求的后端的地址进行了封�?</span></span><br><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&#x27;../../conf/settings&#x27;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">seconds</span>:<span class="number">3</span>,</span><br><span class="line">    <span class="attr">image</span>:<span class="string">&#x27;/images/bg/splash.png&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 点击跳过的时候，跳转到Tab首页</span></span><br><span class="line">  <span class="title function_">doJump</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">switchTab</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 我们的广告展示事件设�?秒钟</span></span><br><span class="line">  <span class="comment">// 三秒后自动跳�?</span></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// 与后端发请求,得到首页图片</span></span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">welcome</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">image</span>:res.<span class="property">data</span>[<span class="number">0</span>].<span class="property">img</span>&#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 启动一个定时器</span></span><br><span class="line">      <span class="comment">// instance:用于存储定时器的 ID</span></span><br><span class="line">      <span class="keyword">var</span> instance = <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">seconds</span>&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// 清除定时�?</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(instance)</span><br><span class="line">            <span class="comment">// 跳转到首�?</span></span><br><span class="line">            wx.<span class="title function_">switchTab</span>(&#123;</span><br><span class="line">              <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="comment">// 时间�?，附加响应式</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">seconds</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">seconds</span> - <span class="number">1</span>&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,<span class="number">1000</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="�-）wxss">�?）<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.img</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">600</span>rpx;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#dddddd</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="�-）后端加载欢迎页�">�?）后端加载欢迎页�?</h3>
<h4 id="1-数据�">[1]数据�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据�?---将数据库的用户名和密码添加到环境变量�?</span></span><br><span class="line">mysql_user = os.environ.get(<span class="string">&quot;MysqlUser&quot;</span>, <span class="string">&quot;luffy&quot;</span>)</span><br><span class="line">mysql_psw = os.environ.get(<span class="string">&quot;MysqlPSW&quot;</span>, <span class="string">&quot;Luffy123?&quot;</span>)</span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="comment"># 数据库IP地址</span></span><br><span class="line">        <span class="string">&quot;HOST&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">        <span class="comment"># 数据库端�?</span></span><br><span class="line">        <span class="string">&quot;PORT&quot;</span>: <span class="number">3308</span>,</span><br><span class="line">        <span class="comment"># 数据库登入名</span></span><br><span class="line">        <span class="string">&quot;USER&quot;</span>: mysql_user,</span><br><span class="line">        <span class="comment"># 数据库密�?</span></span><br><span class="line">        <span class="string">&quot;PASSWORD&quot;</span>: mysql_psw,</span><br><span class="line">        <span class="comment"># 数据库名�?-&gt;不要用DATABASE,用NAME</span></span><br><span class="line">        <span class="string">&quot;NAME&quot;</span>: <span class="string">&quot;smart&quot;</span>,</span><br><span class="line">        <span class="comment"># 数据库编码格�?</span></span><br><span class="line">        <span class="string">&quot;CHARSET&quot;</span>: <span class="string">&quot;utf8mb4&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-表模�">[2]表模�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 欢迎首页�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Welcome</span>(models.Model):</span><br><span class="line">    <span class="comment"># 开启media访问----settings中配�?---url中配�?</span></span><br><span class="line">    <span class="comment"># 安装Pillow 模块</span></span><br><span class="line">    img = models.ImageField(upload_to=<span class="string">&#x27;welcome&#x27;</span>, default=<span class="string">&#x27;slash.png&#x27;</span>, verbose_name=<span class="string">&#x27;欢迎图片&#x27;</span>)</span><br><span class="line">    order = models.IntegerField(verbose_name=<span class="string">&#x27;图片顺序&#x27;</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;创建时间&#x27;</span>)</span><br><span class="line">    is_delete = models.BooleanField(default=<span class="literal">False</span>, verbose_name=<span class="string">&#x27;是否删除&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;welcome&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;欢迎图片&#x27;</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br></pre></td></tr></table></figure>
<h4 id="3-开启media访问">[3]开启media访问</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">########settings.py##</span></span><br><span class="line"><span class="comment"># 开启media访问</span></span><br><span class="line">MEDIA_URL = <span class="string">&#x27;/media/&#x27;</span></span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;media&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#########总路�?##</span></span><br><span class="line">path(<span class="string">&#x27;media/&lt;path:path&gt;&#x27;</span>, serve, &#123;<span class="string">&#x27;document_root&#x27;</span>: settings.MEDIA_ROOT&#125;),</span><br></pre></td></tr></table></figure>
<h4 id="4-视图函数">[4]视图函数</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.mixins <span class="keyword">import</span> ListModelMixin</span><br><span class="line"><span class="keyword">from</span> rest_framework.viewsets <span class="keyword">import</span> GenericViewSet</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Welcome</span><br><span class="line"><span class="keyword">from</span> .serializer <span class="keyword">import</span> WelcomeSerializer</span><br><span class="line"></span><br><span class="line"><span class="comment"># 欢迎用户的首页的接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WelcomeView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    <span class="comment"># 需要筛选，前端只要一�?</span></span><br><span class="line">    queryset = Welcome.objects.<span class="built_in">all</span>().order_by(<span class="string">&quot;order&quot;</span>)[:<span class="number">1</span>]</span><br><span class="line">    serializer_class = WelcomeSerializer</span><br></pre></td></tr></table></figure>
<h4 id="5-序列化类">[5]序列化类</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">WelcomeSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Welcome</span><br><span class="line">        <span class="comment"># 前端只要广告的图�?</span></span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;img&quot;</span>]</span><br></pre></td></tr></table></figure>
<h1>【四】首�?</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240912155146353.png" alt="image-20240912155146353"></p>
<h2 id="�-】app-json">�?】<code>app.json</code></h2>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">     <span class="string">&quot;pages/welcome/welcome&quot;</span><span class="punctuation">,</span>  <span class="comment">// 欢迎页面</span></span><br><span class="line">      <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span>    <span class="comment">// 首页</span></span><br><span class="line">      <span class="string">&quot;pages/my/my&quot;</span><span class="punctuation">,</span>    <span class="comment">// 我的</span></span><br><span class="line">      <span class="string">&quot;pages/activity/activity&quot;</span><span class="punctuation">,</span>  <span class="comment">// 活动tab�?</span></span><br><span class="line">      <span class="string">&quot;pages/notice/notice&quot;</span>  <span class="comment">// 公告tab�?</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// title�?</span></span><br><span class="line">  <span class="attr">&quot;window&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;智慧社区&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigationBarBackgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#fff&quot;</span><span class="punctuation">,</span>   <span class="comment">// 颜色</span></span><br><span class="line">    <span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>    <span class="comment">// 是否可以下拉</span></span><br><span class="line">    <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#00FFFF&quot;</span><span class="punctuation">,</span>   <span class="comment">// 颜色</span></span><br><span class="line">    <span class="attr">&quot;backgroundTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;light&quot;</span><span class="punctuation">,</span>  <span class="comment">// 样式</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;black&quot;</span>  <span class="comment">// 导航栏中使用的颜�?</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// tab�?</span></span><br><span class="line">  <span class="attr">&quot;tabBar&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;selectedColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#1c1c1b&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bottom&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;list&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;首页&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/home.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/home-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/activity/activity&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;活动&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/aid.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/aid-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/notice/notice&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;公告&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/circle.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/circle-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/my/my&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;我的&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/my.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/my-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sitemapLocation&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】wxml">�?】<code>wxml</code></h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 轮播�?--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;banner&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swiper</span> <span class="attr">autoplay</span> <span class="attr">indicator-dots</span> <span class="attr">circular</span> <span class="attr">indicator-color</span>=<span class="string">&#x27;#FFFFF&#x27;</span> <span class="attr">interval</span>=<span class="string">&#x27;3000&#x27;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">swiper-item</span>  <span class="attr">wx:for</span>=<span class="string">&quot;```&#123;&#123;image&#125;&#125;```&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;```&#123;&#123;item.img&#125;&#125;```&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 通知 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-notice-bar</span> <span class="attr">left-icon</span>=<span class="string">&quot;volume-o&quot;</span> <span class="attr">text</span>=<span class="string">&quot;```&#123;&#123;title&#125;&#125;```&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 六宫�?--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-grid</span> <span class="attr">column-num</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/小黄�?png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;信息采集&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoCollection&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/社区活动.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;社区活动&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoActivity&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/人脸检�?png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;人脸检�? bind:click=&quot;</span><span class="attr">gotoFace</span>&quot;/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 可以根据需要添加更多的快捷入口 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/语音识别.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;语音识别&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoVoice&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/Heart beat.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;心率检�? bind:click=&quot;</span><span class="attr">gotoHeart</span>&quot;/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/我的_积分商城_48.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;积分商城&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoGoods&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">van-grid</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 底部的信�?--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_1.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_2.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_3.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_4.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】wxss">�?】<code>wxss</code></h2>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 轮播图的图片 */</span></span><br><span class="line"><span class="selector-class">.banner</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/* 图片宽度拉伸至容器宽�?*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>; <span class="comment">/* 图片高度拉伸至容器高�?*/</span></span><br><span class="line">  <span class="attribute">object-fit</span>: cover; <span class="comment">/* 图片将覆盖整个容器区域，可能被裁�?*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 底部 */</span></span><br><span class="line"><span class="selector-class">.bottom</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-evenly;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">/* 底部的img */</span></span><br><span class="line"><span class="selector-class">.bottom</span>&gt;view&gt;<span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">345</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="�-】js">�?】<code>js</code></h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">image</span>:[<span class="string">&quot;../../images/banner/banner1.png&quot;</span>],</span><br><span class="line">    <span class="attr">title</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 六个跳转页面</span></span><br><span class="line">  <span class="title function_">gotoCollection</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/collection/collection&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoFace</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/face/face&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoVoice</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/voice/voice&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoActivity</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="comment">// 跳转到tab页面</span></span><br><span class="line">      wx.<span class="title function_">switchTab</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&#x27;/pages/activity/activity&#x27;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoHeart</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/heart/heart&#x27;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoGoods</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/goods/goods&#x27;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onLoad</span>: <span class="keyword">function</span> (<span class="params">options</span>) &#123;</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">banner_notice</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="property">data</span>.<span class="property">code</span>==<span class="number">100</span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">image</span>:res.<span class="property">data</span>.<span class="property">banner</span>,<span class="attr">title</span>:res.<span class="property">data</span>.<span class="property">notice</span>.<span class="property">title</span>&#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;报错！！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="�-】app-json-2">�?】<code>app.json</code></h2>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        </span><br><span class="line">        <span class="string">&quot;pages/welcome/welcome&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/my/my&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/activity/activity&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/notice/notice&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// 这里多了五个页面，还有一个跳转到tab�?</span></span><br><span class="line">        <span class="string">&quot;pages/second/collection/collection&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/face/face&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/voice/voice&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/heart/heart&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/goods/goods&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h1>【五】首页轮播图和公告接�?</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240912155041765.png" alt="image-20240912155041765"></p>
<h2 id="�-】后�">�?】后�?</h2>
<h3 id="�-）models-py">�?）<code>models.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 轮播图表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Banner</span>(models.Model):</span><br><span class="line">    img = models.ImageField(upload_to=<span class="string">&#x27;banner&#x27;</span>, default=<span class="string">&#x27;banner1.png&#x27;</span>, verbose_name=<span class="string">&#x27;轮播�?)</span></span><br><span class="line"><span class="string">    order = models.IntegerField(verbose_name=&#x27;</span>顺序<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">    create_time = models.DateTimeField(auto_now=True, verbose_name=&#x27;</span>创建时间<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">    is_delete = models.BooleanField(default=False, verbose_name=&#x27;</span>是否删除<span class="string">&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    class Meta:</span></span><br><span class="line"><span class="string">        db_table = &#x27;</span>Banne<span class="string">r&#x27;</span></span><br><span class="line"><span class="string">        verbose_name = &#x27;</span>轮播�?</span><br><span class="line">        verbose_name_plural = verbose_name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 公告�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Notice</span>(models.Model):</span><br><span class="line">    title = models.CharField(max_length=<span class="number">255</span>, verbose_name=<span class="string">&#x27;公共标题&#x27;</span>)</span><br><span class="line">    content = models.TextField(verbose_name=<span class="string">&#x27;内容&#x27;</span>)</span><br><span class="line">    img = models.ImageField(upload_to=<span class="string">&#x27;notice&#x27;</span>, default=<span class="string">&#x27;notice1.png&#x27;</span>, verbose_name=<span class="string">&#x27;公告照片&#x27;</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;创建时间&#x27;</span>)</span><br><span class="line">    is_delete = models.BooleanField(default=<span class="literal">False</span>, verbose_name=<span class="string">&#x27;是否删除&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;Notice&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;公告�?</span></span><br><span class="line"><span class="string">        verbose_name_plural = verbose_name</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）view-py">�?）<code>view.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 轮播图和公告接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BannerNoticeView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    queryset = Banner.objects.<span class="built_in">filter</span>(is_delete=<span class="literal">False</span>).order_by(<span class="string">&quot;order&quot;</span>)[:<span class="number">2</span>]</span><br><span class="line">    serializer_class = BannerSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># 查询公告信息---查询最早时间的一�?</span></span><br><span class="line">        notices = Notice.objects.<span class="built_in">all</span>().order_by(<span class="string">&quot;create_time&quot;</span>).first()</span><br><span class="line">        <span class="comment"># 序列�?</span></span><br><span class="line">        serializer = NoticeSerializer(instance=notices)</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="string">&quot;100&quot;</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;查询成功&quot;</span>, <span class="string">&quot;banner&quot;</span>: res.data, <span class="string">&quot;notice&quot;</span>: serializer.data&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="�-）serializer-py">�?）<code>serializer.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BannerSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Banner</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoticeSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Notice</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;title&quot;</span>]</span><br></pre></td></tr></table></figure>
<h1>【六】个人中�?</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240912154956752.png" alt="image-20240912154956752"></p>
<h2 id="�-】vant样式�-笔记中有�">�?】vant样式�?---------笔记中有�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 访问地址�?</span></span><br><span class="line">	- https://vant-ui.github.io/vant/<span class="comment">#/zh-CN</span></span><br><span class="line"><span class="comment"># 安装npm</span></span><br><span class="line">	- npm init -y</span><br><span class="line"><span class="comment"># 安装vant</span></span><br><span class="line">	- npm i @vant/weapp -S --production</span><br><span class="line"><span class="comment"># �?app.json 中的 &quot;style&quot;: &quot;v2&quot; 去除</span></span><br><span class="line"><span class="comment"># 使用那个样式在app.json中注册或在xxx.json中注�?</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】json">�?】<code>json</code></h2>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// 这里我们使用了vant的样式库</span></span><br><span class="line">  <span class="attr">&quot;van-notice-bar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@vant/weapp/notice-bar/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;van-grid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@vant/weapp/grid/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;van-grid-item&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@vant/weapp/grid-item/index&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】wxml-2">�?】<code>wxml</code></h2>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"># 判断是否登录�?</span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;```&#123;&#123;userInfo==null&#125;&#125;```&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">class</span>=<span class="string">&quot;login-area&quot;</span> <span class="attr">url</span>=<span class="string">&quot;/pages/login/login&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>一键登�?/view&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:else</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 头部 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;profile-info&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/花香 美女 .png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFill&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;numbers&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>1000<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>积分<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>55<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>77<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>56<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>其他<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 个人信息�?--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-section&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/昵称.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-text&quot;</span>&gt;</span>个人资料<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/昵称.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-text&quot;</span>&gt;</span>设置<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/昵称.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">type</span>=<span class="string">&quot;info-text&quot;</span> <span class="attr">plain</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>联系客服<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/昵称.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">type</span>=<span class="string">&quot;info-text&quot;</span> <span class="attr">plain</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>联系客服<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/昵称.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">type</span>=<span class="string">&quot;info-text&quot;</span> <span class="attr">plain</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>联系客服<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 退出登�?--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;logout-button&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;logout-btn&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleLogout&quot;</span>&gt;</span>退出登�?/button&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】wxss-2">�?】<code>wxss</code></h2>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 全局样式 */</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f4f4f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 头部样式 */</span></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#007bff</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.profile-info</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.avatar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.name</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.name1</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.email</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header-bg</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 信息项样�?*/</span></span><br><span class="line"><span class="selector-class">.info-section</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-item</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-text</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 退出登录按钮样�?*/</span></span><br><span class="line"><span class="selector-class">.logout-button</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logout-btn</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff4d4f</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 一键登�?*/</span></span><br><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-area</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-area</span> <span class="selector-class">.btn</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">500%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#5cb85c</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  </span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  */</span></span><br><span class="line"><span class="selector-class">.numbers</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">0</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.row</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="�-】js-2">�?】<code>js</code></h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="title function_">handleLogout</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;确认退�?,</span></span><br><span class="line"><span class="string">      content: &#x27;</span>您确定要退出登录吗�?,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">          <span class="comment">// 这里可以添加退出登录的逻辑</span></span><br><span class="line">          wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;已退出登�?,</span></span><br><span class="line"><span class="string">            icon: &#x27;</span>success<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">            duration: 2000</span></span><br><span class="line"><span class="string">          &#125;);</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure>
<h1>【七】信息采集页�?</h1>
<h2 id="�-】新建一个跳转的信息采集页面">�?】新建一个跳转的信息采集页面</h2>
<ul>
<li>点击前端的信息采集按钮，跳转到采集信息页�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240422172556754.png" alt="image-20240422172556754"></p>
<h2 id="�-】后�-2">�?】后�?</h2>
<h3 id="�-）view-py-2">�?）<code>view.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> rest_framework.mixins <span class="keyword">import</span> ListModelMixin, DestroyModelMixin</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> rest_framework.viewsets <span class="keyword">import</span> GenericViewSet</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Collection</span><br><span class="line"><span class="keyword">from</span> .serializer <span class="keyword">import</span> CollectionSerializer</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionView</span>(GenericViewSet, ListModelMixin, DestroyModelMixin):</span><br><span class="line">    <span class="comment"># reate_time__gte=datetime.now().date():筛选字段大于或等于当前日期的这些对�?</span></span><br><span class="line">    queryset = Collection.objects.<span class="built_in">all</span>().<span class="built_in">filter</span>(create_time__gte=datetime.now().date())</span><br><span class="line">    serializer_class = CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># 计算采集的多少人</span></span><br><span class="line">        today_count = <span class="built_in">len</span>(<span class="variable language_">self</span>.get_queryset())</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="number">100</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;查看成功&quot;</span>, <span class="string">&quot;collection&quot;</span>: res.data, <span class="string">&quot;today_count&quot;</span>: today_count&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）serializer-py-2">�?）<code>serializer.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> gather.models <span class="keyword">import</span> Collection</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Collection</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;avatar&quot;</span>, <span class="string">&quot;area&quot;</span>]</span><br><span class="line">        <span class="comment"># 往深处取一�?</span></span><br><span class="line">        depth = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）models-py-2">�?）<code>models.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># 采集�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Collection</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">255</span>, verbose_name=<span class="string">&quot;姓名&quot;</span>)</span><br><span class="line">    name_pinyin = models.CharField(max_length=<span class="number">255</span>, verbose_name=<span class="string">&quot;姓名拼音&quot;</span>)</span><br><span class="line">    <span class="comment"># upload_to=&#x27;collection/%Y/%m/%d/&#x27;：这指定了媒体根目录中将存储上传图像的目录。该部分是一种基于日期的格式，可按年、月和日将图像组织到子目录中。例如collection/2024/09/11/�?024 �?9 �?11 日上传的图像将存储在</span></span><br><span class="line">    avatar = models.ImageField(upload_to=<span class="string">&#x27;collection/%Y/%m/%d/&#x27;</span>, default=<span class="string">&#x27;default.png&#x27;</span>, verbose_name=<span class="string">&#x27;头像&#x27;</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;采集时间&#x27;</span>)</span><br><span class="line">    area = models.ForeignKey(to=<span class="string">&#x27;Area&#x27;</span>, null=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;网格区域&#x27;</span>, on_delete=models.CASCADE)</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;collection&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;采集�?</span></span><br><span class="line"><span class="string">        verbose_name_plural = verbose_name</span></span><br><span class="line"><span class="string">    def __str__(self):</span></span><br><span class="line"><span class="string">        return self.name</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 用户�?</span></span><br><span class="line"><span class="string">class UserInfo(models.Model):</span></span><br><span class="line"><span class="string">    name = models.CharField(max_length=255, verbose_name=&quot;用户�?)</span></span><br><span class="line"><span class="string">    avatar = models.FileField(verbose_name=&quot;头像&quot;, max_length=128, upload_to=&#x27;</span>avata<span class="string">r&#x27;)</span></span><br><span class="line"><span class="string">    create_date = models.DateField(verbose_name=&quot;日期&quot;, auto_now_add=True)</span></span><br><span class="line"><span class="string">    score = models.IntegerField(verbose_name=&quot;积分&quot;, default=0)</span></span><br><span class="line"><span class="string">    class Meta:</span></span><br><span class="line"><span class="string">        db_table = &#x27;</span>userinfo<span class="string">&#x27;</span></span><br><span class="line"><span class="string">        verbose_name = &#x27;</span>用户�?</span><br><span class="line">        verbose_name_plural = verbose_name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 区域�?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Area</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&#x27;网格区域�?)</span></span><br><span class="line"><span class="string">    desc = models.CharField(max_length=32, verbose_name=&#x27;</span>网格简�?)</span><br><span class="line">    <span class="comment"># 与用户表是一对多关系</span></span><br><span class="line">    user = models.ForeignKey(to=<span class="string">&#x27;UserInfo&#x27;</span>, on_delete=models.CASCADE, null=<span class="literal">True</span>, verbose_name=<span class="string">&quot;负责用户&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        verbose_name_plural = <span class="string">&#x27;区域�?</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    def __str__(self):</span></span><br><span class="line"><span class="string">        return self.name</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h2 id="�-】引入矢量图标库">�?】引入矢量图标库</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 url:阿里巴巴矢量图标�?</span></span><br><span class="line">	- https://www.iconfont.cn/</span><br><span class="line">	-注册成功</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 2 搜索想要的图�?</span></span><br><span class="line">	-加入购物�?</span><br><span class="line">    -在购物车中添加至项目</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 3 我的项目--项目设置--》打开base64</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 选择font class --》生成代�?-》点击链接地址打开</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 把打开的链接地址内容复制到项目中</span></span><br><span class="line">	-static/css/iconfont.wxss</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 6 在app.wxss中引�?</span></span><br><span class="line"><span class="meta">@import <span class="string">&quot;/static/css/iconfont.wxss&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 7 在想用图标的位置，加入text组件</span></span><br><span class="line">&lt;text <span class="keyword">class</span>=<span class="string">&quot;iconfont icon-anquan&quot;</span>&gt;</span><br></pre></td></tr></table></figure>
<h1>【八】信息采集详情页�?</h1>
<h2 id="�-】小程序–拍照页页�">�?】小程序–拍照页页�?</h2>
<ul>
<li>wxml</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 相机组件 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ```&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; &#125;&#125;```：控制相机的前置后置摄像�?--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- flash闪关�?--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">camera</span> <span class="attr">class</span>=<span class="string">&quot;camera&quot;</span>  <span class="attr">device-position</span>=<span class="string">&quot;```&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; &#125;&#125;```&quot;</span>  <span class="attr">flash</span>=<span class="string">&quot;off&quot;</span> <span class="attr">frame-size</span>=<span class="string">&quot;medium&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">camera</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 按钮和旋转的图标 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;function&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;switch&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- switchCamera：控制拍照的按键 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;record&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;takePhoto&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/camera/record_on.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- takePhoto：控制backFront --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;switch&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;switchCamera&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/camera/rotate-camera-white.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/second/camera/camera.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">backFront</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">switchCamera</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 反转摄像�?</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">backFront</span>: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取照片</span></span><br><span class="line">  <span class="comment">// 文档里面�?</span></span><br><span class="line">  <span class="title function_">takePhoto</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 获得拍的照片</span></span><br><span class="line">    <span class="keyword">const</span> ctx = wx.<span class="title function_">createCameraContext</span>()</span><br><span class="line">    <span class="comment">// 将拍的照片上传到</span></span><br><span class="line">    ctx.<span class="title function_">takePhoto</span>(&#123;</span><br><span class="line">      <span class="attr">quality</span>: <span class="string">&#x27;high&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 获取照片 </span></span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">        <span class="comment">// 对上一个页面中的值，进行修改</span></span><br><span class="line">        <span class="keyword">var</span> pages = <span class="title function_">getCurrentPages</span>();  <span class="comment">// 拿到所有开放的页面：[index collection form camera]</span></span><br><span class="line">        <span class="keyword">var</span> prevPage = pages[pages.<span class="property">length</span> - <span class="number">2</span>];  <span class="comment">// 得到form页面</span></span><br><span class="line">        <span class="comment">// 把上个页面的图片位置设为刚刚拍的�?</span></span><br><span class="line">        prevPage.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">avatar</span>: res.<span class="property">tempImagePath</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//跳转回上一个页�?默认返回上一个页�?</span></span><br><span class="line">        wx.<span class="title function_">navigateBack</span>(&#123;&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>wxss</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.camera</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.function</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">  </span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">160</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">160</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.switch</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.switch</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="�-】小程序–采集页页�">�?】小程序–采集页页�?</h2>
<ul>
<li>wxml</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> &lt;view <span class="keyword">class</span>=<span class="string">&quot;avatar&quot;</span>&gt;</span><br><span class="line">  &lt;image src=<span class="string">&#x27;```&#123;&#123;avatar&#125;&#125;```&#x27;</span> bindtap=<span class="string">&quot;bindToCamera&quot;</span>&gt;&lt;/image&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">&lt;view <span class="keyword">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span><br><span class="line">  &lt;view <span class="keyword">class</span>=<span class="string">&quot;row-group&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">input</span> placeholder=<span class="string">&quot;请填写姓�? placeholder-class=&#x27;txt&#x27; model:value=&quot;</span>```&#123;&#123;name&#125;&#125;```<span class="string">&quot; bindinput=&quot;</span>bindNameChange<span class="string">&quot; /&gt;</span></span><br><span class="line"><span class="string">  &lt;/view&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  &lt;view class=&quot;</span>picker-group<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;picker bindchange=&quot;</span>bindPickerChange<span class="string">&quot; value=&quot;</span>`&#123;&#123;index&#125;&#125;`<span class="string">&quot; range=&quot;</span>```&#123;&#123;objectArray&#125;&#125;```<span class="string">&quot; range-key=&quot;</span>name<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;view wx:if=&quot;</span>```&#123;&#123; index &gt; -<span class="number">1</span>&#125;&#125;```<span class="string">&quot; class=&quot;</span>picker-txt picke<span class="string">r&quot;&gt;当前网格：`&#123;&#123;objectArray[index].name&#125;&#125;`&lt;/view&gt;</span></span><br><span class="line"><span class="string">      &lt;view wx:else class=&quot;</span>picker-txt<span class="string">&quot; &gt;请选择网格&lt;/view&gt;</span></span><br><span class="line"><span class="string">      </span></span><br><span class="line"><span class="string">    &lt;/picker&gt;</span></span><br><span class="line"><span class="string">  &lt;/view&gt;</span></span><br><span class="line"><span class="string">  &lt;view&gt;</span></span><br><span class="line"><span class="string">    &lt;button class=&quot;</span>submit<span class="string">&quot; bindtap=&quot;</span>postUse<span class="string">r&quot; &gt; �?�?&lt;/button&gt;</span></span><br><span class="line"><span class="string">  &lt;/view&gt;</span></span><br><span class="line"><span class="string">&lt;/view&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">avatar</span>: <span class="string">&quot;../../../images/camera/camera.png&quot;</span>,</span><br><span class="line">    <span class="attr">objectArray</span>: [],</span><br><span class="line">    <span class="comment">// 默认-1的意思是，默认状态下什么都不选择</span></span><br><span class="line">    <span class="attr">index</span>: -<span class="number">1</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 点击条状拍照页面</span></span><br><span class="line">  <span class="title function_">bindToCamera</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/pages/second/camera/camera&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// 获得所有的网格</span></span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">area</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">objectArray</span>:res.<span class="property">data</span>&#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 点击提交，提交到后端，保存采集信�?</span></span><br><span class="line">  <span class="title function_">postUser</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 提交等待，wx提高的样�?</span></span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;提交�?,</span></span><br><span class="line"><span class="string">      mask:true,</span></span><br><span class="line"><span class="string">    &#125;),</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    // 提交给后端文件使用这�?</span></span><br><span class="line"><span class="string">    wx.uploadFile(&#123;</span></span><br><span class="line"><span class="string">      // 后端的请求地址</span></span><br><span class="line"><span class="string">      url: api.collection,</span></span><br><span class="line"><span class="string">      // 图片的文�?</span></span><br><span class="line"><span class="string">      filePath: this.data.avatar,</span></span><br><span class="line"><span class="string">      // 照片的名�?</span></span><br><span class="line"><span class="string">      name: &#x27;</span>avatar<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">      // 提交给后端的数据</span></span><br><span class="line"><span class="string">      formData: &#123;</span></span><br><span class="line"><span class="string">        // 姓名</span></span><br><span class="line"><span class="string">        &#x27;</span>name<span class="string">&#x27;: this.data.name,</span></span><br><span class="line"><span class="string">        // 选择的网络，传给后端id</span></span><br><span class="line"><span class="string">        &#x27;</span>area<span class="string">&#x27;: this.data.objectArray[this.data.index].id</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      success:rex=&gt;&#123;</span></span><br><span class="line"><span class="string">          // 上传成功，返回给上一个页�?默认返回上一个页�?</span></span><br><span class="line"><span class="string">          wx.navigateBack()</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      complete() &#123;</span></span><br><span class="line"><span class="string">        // 为了关闭showLoading提示�?</span></span><br><span class="line"><span class="string">        wx.hideLoading()</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // 检测输入的信息</span></span><br><span class="line"><span class="string">  bindPickerChange(e)&#123;</span></span><br><span class="line"><span class="string">    this.setData(&#123;index:e.detail.value&#125;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  // 获得你输入的名字</span></span><br><span class="line"><span class="string">  bindNameChange(event)&#123;</span></span><br><span class="line"><span class="string">    this.setData(&#123;name:event.detail.value&#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>wxss</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.avatar</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.avatar</span> <span class="selector-tag">image</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">140</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span> <span class="selector-tag">text</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">20</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span> <span class="selector-tag">input</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span> <span class="selector-class">.txt</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.picker-group</span>&#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.picker-group</span> <span class="selector-class">.picker-txt</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40</span>rpx <span class="number">0</span> <span class="number">20</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.picker-group</span> <span class="selector-class">.picker</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.submit</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="�-】采集页面后�">�?】采集页面后�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">############view</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionView</span>(GenericViewSet, ListModelMixin, CommonDeleteModelMixin, CommonCreateModelMixin):</span><br><span class="line">    <span class="comment"># reate_time__gte=datetime.now().date():筛选字段大于或等于当前日期的这些对�?</span></span><br><span class="line">    queryset = Collection.objects.<span class="built_in">all</span>().<span class="built_in">filter</span>(create_time__gte=datetime.now().date())</span><br><span class="line">    serializer_class = CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 使用不同的序列化�?</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_serializer_class</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.action == <span class="string">&#x27;create&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSaveSerializer</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># 计算采集的多少人</span></span><br><span class="line">        today_count = <span class="built_in">len</span>(<span class="variable language_">self</span>.get_queryset())</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="number">100</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;查看成功&quot;</span>, <span class="string">&quot;collection&quot;</span>: res.data, <span class="string">&quot;today_count&quot;</span>: today_count&#125;)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 获取所有的网格</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AreaView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    queryset = Area.objects.<span class="built_in">all</span>()</span><br><span class="line">    serializer_class = AreaSerializer</span><br><span class="line">    <span class="comment"># 这里应该写当前的所有登录的用户，重新list进行筛�?</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 这里我们需要加入登入类</span></span><br><span class="line">    <span class="comment"># def list(self, request, *args, **kwargs):</span></span><br><span class="line">    <span class="comment">#     res = self.get_queryset().filter(user=request.user)</span></span><br><span class="line">    <span class="comment">#     serializer = self.get_serializer(instance=res, many=True)</span></span><br><span class="line">    <span class="comment">#     return APIResponse(sults = serializer.data)</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#####################serializer</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionSaveSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Collection</span><br><span class="line">        fields = [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;avatar&quot;</span>, <span class="string">&quot;area&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, validated_data</span>):</span><br><span class="line">        <span class="comment"># 我们需要使用pypinyin模块</span></span><br><span class="line">        <span class="comment"># 我们还需要将人脸上传到百度人脸库�?</span></span><br><span class="line">        <span class="built_in">print</span>(validated_data)</span><br><span class="line">        validated_data[<span class="string">&quot;name_pinyin&quot;</span>] = validated_data[<span class="string">&quot;name&quot;</span>]</span><br><span class="line">        instance = <span class="built_in">super</span>().create(validated_data)</span><br><span class="line">        <span class="keyword">return</span> instance </span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AreaSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Area</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;desc&quot;</span>]</span><br></pre></td></tr></table></figure>
<h1>【九】人脸识别项目中集成</h1>
<h2 id="�-】使用步�">�?】使用步�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 注册百度人脸识别接口</span></span><br><span class="line">https://cloud.baidu.com/product/face.html</span><br><span class="line"><span class="comment"># 2 免费领取额度：https://console.bce.baidu.com/ai/#/ai/face/overview/index</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 创建应用：https://console.bce.baidu.com/ai/#/ai/face/app/list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 查看人脸库：https://console.bce.baidu.com/ai/#/ai/face/facelib/groupList~appId=4652887</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 sdk位置：https://ai.baidu.com/ai-doc/FACE/ek37c1qiz</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】简单使�">�?】简单使�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipFace</span><br><span class="line"><span class="keyword">from</span> pypinyin <span class="keyword">import</span> Style, lazy_pinyin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiDuAI</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,APP_ID=<span class="string">&#x27;115551890&#x27;</span>,API_KEY=<span class="string">&#x27;QqyXyz0Fv5Ans3QBY5ZBd0jF&#x27;</span>,SECRET_KEY=<span class="string">&#x27;ntt3BVfsDcK8KZJCSHAs086jCGWCQOUL&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; 你的 APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.APP_ID = APP_ID</span><br><span class="line">        <span class="variable language_">self</span>.API_KEY = API_KEY</span><br><span class="line">        <span class="variable language_">self</span>.SECRET_KEY = SECRET_KEY</span><br><span class="line">        <span class="variable language_">self</span>.client = AipFace(<span class="variable language_">self</span>.APP_ID, <span class="variable language_">self</span>.API_KEY, <span class="variable language_">self</span>.SECRET_KEY)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name_to_pinyin</span>(<span class="params">self, text</span>):</span><br><span class="line">        style = Style.TONE3</span><br><span class="line">        name_list = lazy_pinyin(text, style=style)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(name_list)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 上传人脸</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_user</span>(<span class="params">self</span>):</span><br><span class="line">        data = base64.b64encode(<span class="built_in">open</span>(<span class="string">&#x27;./lyf.png&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        image = data</span><br><span class="line">        imageType = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        groupId = <span class="string">&quot;100&quot;</span></span><br><span class="line">        userId = <span class="variable language_">self</span>.name_to_pinyin(<span class="string">&#x27;刘亦�?)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot; 调用人脸注册 &quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        res = self.client.addUser(image, imageType, groupId, userId)</span></span><br><span class="line"><span class="string">        print(res)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &quot;&quot;&quot; 如果有可选参�?&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        # options = &#123;&#125;</span></span><br><span class="line"><span class="string">        # options[&quot;user_info&quot;] = &quot;彭于�?</span></span><br><span class="line"><span class="string">        # options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line"><span class="string">        # options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line"><span class="string">        # options[&quot;action_type&quot;] = &quot;REPLACE&quot;</span></span><br><span class="line"><span class="string">        #</span></span><br><span class="line"><span class="string">        # &quot;&quot;&quot; 带参数调用人脸注�?&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        # self.client.addUser(image, imageType, groupId, userId, options)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # 删除百度AI的人�?</span></span><br><span class="line"><span class="string">    def delete(self):</span></span><br><span class="line"><span class="string">        userId = &quot;gu3tian1le4&quot;</span></span><br><span class="line"><span class="string">        groupId = &quot;100&quot;</span></span><br><span class="line"><span class="string">        # 这个是你上传人脸的是后返回的token</span></span><br><span class="line"><span class="string">        faceToken = &quot;4992689fcbbd3cf9851ca2f87ebb6ad0&quot;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot; 调用人脸删除 &quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        res = self.client.faceDelete(userId, groupId, faceToken)</span></span><br><span class="line"><span class="string">        print(res)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # 匹配人脸</span></span><br><span class="line"><span class="string">    def search(self):</span></span><br><span class="line"><span class="string">        data = base64.b64encode(open(&#x27;</span>./lyf.png<span class="string">&#x27;, &#x27;</span><span class="string">rb&#x27;).read()).decode(&#x27;</span>utf-<span class="number">8</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string">        image = data</span></span><br><span class="line"><span class="string">        imageType = &quot;BASE64&quot;</span></span><br><span class="line"><span class="string">        groupIdList = &quot;100,2&quot;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot; 调用人脸搜索 &quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        self.client.search(image, imageType, groupIdList)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot; 如果有可选参�?&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        options = &#123;&#125;</span></span><br><span class="line"><span class="string">        # 识别�?</span></span><br><span class="line"><span class="string">        options[&quot;match_threshold&quot;] = 70</span></span><br><span class="line"><span class="string">        options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line"><span class="string">        options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line"><span class="string">        # 比对id�?</span></span><br><span class="line"><span class="string">        # options[&quot;user_id&quot;] = &quot;233451&quot;</span></span><br><span class="line"><span class="string">        # 返回的数�?</span></span><br><span class="line"><span class="string">        options[&quot;max_user_num&quot;] = 3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &quot;&quot;&quot; 带参数调用人脸搜�?&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        res = self.client.search(image, imageType, groupIdList, options)</span></span><br><span class="line"><span class="string">        print(res)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">if __name__ == &#x27;</span>__main__<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">    ai = BaiDuAI()</span></span><br><span class="line"><span class="string">    # ai.add_user()</span></span><br><span class="line"><span class="string">    # ai.delete()</span></span><br><span class="line"><span class="string">    ai.search()</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】集成到项目�">�?】集成到项目�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##########libs/baidu/baidu_ai.py</span></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipFace</span><br><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipSpeech</span><br><span class="line"><span class="keyword">from</span> pypinyin <span class="keyword">import</span> lazy_pinyin, Style</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiDuAI</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, APP_ID=<span class="string">&#x27;115551890&#x27;</span>, API_KEY=<span class="string">&#x27;QqyXyz0Fv5Ans3QBY5ZBd0jF&#x27;</span>,</span></span><br><span class="line"><span class="params">                 SECRET_KEY=<span class="string">&#x27;ntt3BVfsDcK8KZJCSHAs086jCGWCQOUL&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; 你的 APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.APP_ID = APP_ID</span><br><span class="line">        <span class="variable language_">self</span>.API_KEY = API_KEY</span><br><span class="line">        <span class="variable language_">self</span>.SECRET_KEY = SECRET_KEY</span><br><span class="line">        <span class="variable language_">self</span>.client = AipFace(<span class="variable language_">self</span>.APP_ID, <span class="variable language_">self</span>.API_KEY, <span class="variable language_">self</span>.SECRET_KEY)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name_to_pinyin</span>(<span class="params">self, text</span>):</span><br><span class="line">        style = Style.TONE3</span><br><span class="line">        name_list = lazy_pinyin(text, style=style)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(name_list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_user</span>(<span class="params">self, path, name, userId, groupId=<span class="number">100</span></span>):</span><br><span class="line">        <span class="comment"># image = base64.b64encode(open(path).read()).decode(&#x27;utf-8&#x27;)</span></span><br><span class="line">        image = base64.b64encode(path.read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        imageType = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; 调用人脸注册 &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.addUser(image, imageType, groupId, userId)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; 如果有可选参�?&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># options = &#123;&#125;</span></span><br><span class="line">        <span class="comment"># options[&quot;user_info&quot;] = name</span></span><br><span class="line">        <span class="comment"># options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;action_type&quot;] = &quot;REPLACE&quot;</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; 带参数调用人脸注�?&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># res = self.client.addUser(image, imageType, groupId, userId, options)</span></span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, img_obj</span>):</span><br><span class="line">        image = base64.b64encode(img_obj.read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        image_type = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        group_id_list = <span class="string">&quot;100,101&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; 调用人脸搜索 &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.search(image, image_type, group_id_list)</span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; 如果有可选参�?&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># options = &#123;&#125;</span></span><br><span class="line">        <span class="comment"># options[&quot;match_threshold&quot;] = 70</span></span><br><span class="line">        <span class="comment"># options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line">        <span class="comment"># # options[&quot;user_id&quot;] = &quot;233451&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;max_user_num&quot;] = 3</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; 带参数调用人脸搜�?&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># res = self.client.search(image, imageType, groupIdList, options)</span></span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">delete</span>(<span class="params">self, user_id, face_token, group_id=<span class="number">100</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; 调用人脸删除 &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.faceDelete(user_id, group_id, face_token)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment">###########view.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionView</span>(GenericViewSet, ListModelMixin, CommonDeleteModelMixin, CommonCreateModelMixin):</span><br><span class="line">    <span class="comment"># reate_time__gte=datetime.now().date():筛选字段大于或等于当前日期的这些对�?</span></span><br><span class="line">    queryset = Collection.objects.<span class="built_in">all</span>().<span class="built_in">filter</span>(create_time__gte=datetime.now().date())</span><br><span class="line">    serializer_class = CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 使用不同的序列化�?</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_serializer_class</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.action == <span class="string">&#x27;create&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSaveSerializer</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># 计算采集的多少人</span></span><br><span class="line">        today_count = <span class="built_in">len</span>(<span class="variable language_">self</span>.get_queryset())</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="number">100</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;查看成功&quot;</span>, <span class="string">&quot;collection&quot;</span>: res.data, <span class="string">&quot;today_count&quot;</span>: today_count&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 删除百度AI 的图�?</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">destroy</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        instance = <span class="variable language_">self</span>.get_object()</span><br><span class="line">        baidu = BaiDuAI()</span><br><span class="line">        res = baidu.delete(instance.name_pinyin, face_token=instance.face_token)</span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="variable language_">self</span>.perform_destroy(instance)</span><br><span class="line">        <span class="keyword">return</span> APIResponse()</span><br><span class="line"></span><br><span class="line"><span class="comment">##########serializer.py</span></span><br><span class="line"><span class="comment"># 保存</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionSaveSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Collection</span><br><span class="line">        fields = [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;avatar&quot;</span>, <span class="string">&quot;area&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, validated_data</span>):</span><br><span class="line">        <span class="comment"># 取出图片对象</span></span><br><span class="line">        avatar_file_object = validated_data.get(<span class="string">&quot;avatar&quot;</span>)</span><br><span class="line">        <span class="comment"># 取出name</span></span><br><span class="line">        name = validated_data.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">        <span class="comment"># 获得我们封装的名字转拼音的对�?</span></span><br><span class="line">        baidu = BaiDuAI()</span><br><span class="line">        <span class="comment"># 转成拼音</span></span><br><span class="line">        name_pinyin = baidu.name_to_pinyin(name)</span><br><span class="line">        <span class="comment"># 将有图片传到ai�?</span></span><br><span class="line">        res = baidu.add_user(avatar_file_object, name, name_pinyin)</span><br><span class="line">        validated_data[<span class="string">&#x27;name_pinyin&#x27;</span>] = name_pinyin</span><br><span class="line">        <span class="comment"># 这里我们将保存到ai库中返回的token保存到表�?</span></span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        validated_data[<span class="string">&#x27;face_token&#x27;</span>] = res.get(<span class="string">&#x27;result&#x27;</span>).get(<span class="string">&#x27;face_token&#x27;</span>)</span><br><span class="line">        instance = <span class="built_in">super</span>().create(validated_data)</span><br><span class="line">        <span class="keyword">return</span> instance</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>【十】语音识别项目中集成</h1>
<h2 id="�-】方�">�?】方�?</h2>
<h3 id="�-）收费方�">�?）收费方�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用百度，科大讯飞等第三方平�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 语音识别的SDK地址:</span></span><br><span class="line">	- https://ai.baidu.com/ai-doc/SPEECH/0lbxfnc9b</span><br><span class="line"><span class="comment"># 百度的语音URL�?</span></span><br><span class="line">	- 使用百度，科大讯飞等第三方平�?</span><br><span class="line">    </span><br><span class="line"><span class="comment"># SDK：文档中有步�?</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">speed</span>(<span class="params">file_object</span>):</span><br><span class="line">    <span class="keyword">from</span> aip <span class="keyword">import</span> AipSpeech</span><br><span class="line">    APP_ID = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    API_KEY = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    SECRET_KEY = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    client = AipSpeech(APP_ID, API_KEY, SECRET_KEY)</span><br><span class="line">    data = file_object.read()</span><br><span class="line">    <span class="comment"># 识别本地文件</span></span><br><span class="line">    <span class="keyword">return</span> client.asr(data, <span class="string">&#x27;pcm&#x27;</span>, <span class="number">16000</span>, &#123;<span class="string">&#x27;dev_pid&#x27;</span>: <span class="number">1537</span>&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240913190942906.png" alt="image-20240913190942906"></p>
<h3 id="�-）免费方�">�?）免费方�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip3.11 install --force- SpeechRecognition</span></span><br><span class="line"><span class="comment"># pip3.11 install -i https://pypi.tuna.tsinghua.edu.cn/simple pocketsphinx</span></span><br><span class="line"><span class="comment">#https://pypi.org/project/pocketsphinx/#files</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 目前speech_recognition只有英文（en-US）的脱机识别库，如果需要脱机识别中文（zh-CN），需要手动加入对应的识别库，可参考如下操�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 逐层找到文件�?pocketsphinx-data （参考如下路径）�?</span></span><br><span class="line">\site-packages\speech_recognition\pocketsphinx-data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 随后�?【zh-CN文件�?下载解压到pocketsphinx-data 中，如下图所�?</span></span><br><span class="line"> <span class="comment">#4 检查文件是否缺失以及命名、存放的位置是否一�?</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 语音文件准备 speech_recognition 对脱机识别的文件有要求，目前支持的格式有</span></span><br><span class="line"><span class="number">1.</span>WAV</span><br><span class="line"><span class="number">2.</span>AIFF/AIFF-C</span><br><span class="line"><span class="number">3.</span>FLAC</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6 代码</span></span><br><span class="line"><span class="keyword">import</span> speech_recognition <span class="keyword">as</span> sr</span><br><span class="line"></span><br><span class="line">audio_file = <span class="string">&#x27;./test1.wav&#x27;</span></span><br><span class="line"></span><br><span class="line">r = sr.Recognizer()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> sr.AudioFile(audio_file) <span class="keyword">as</span> source:</span><br><span class="line">    audio = r.record(source)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 识别音频文件</span></span><br><span class="line">result = r.recognize_sphinx(audio, language=<span class="string">&quot;zh-CN&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h2 id="�-】前�">�?】前�?</h2>
<h3 id="�-】json-2">�?】<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;语音识别&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxml-3">�?】<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 显示文本的框 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;等待语音识别自动录入...&quot;</span> <span class="attr">placeholder-class</span>=<span class="string">&quot;hoder&quot;</span> <span class="attr">model:value</span>=<span class="string">&quot;`&#123;&#123;content&#125;&#125;`&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;```&#123;&#123;-1&#125;&#125;```&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 按住说话按钮 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;press&quot;</span> <span class="attr">bind:longpress</span>=<span class="string">&quot;recordStart&quot;</span> <span class="attr">bind:touchcancel</span>=<span class="string">&quot;recordCancel&quot;</span> <span class="attr">bind:touchend</span>=<span class="string">&quot;recordStop&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-microphone&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span> 按住说话<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxss-3">�?】<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.text</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="comment">/* color: #fff; */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: white; </span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.press</span> <span class="selector-tag">label</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#179B16</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.press</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hoder</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="�-】js-3">�?】<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://developers.weixin.qq.com/miniprogram/dev/api/media/recorder/RecorderManager.start.html</span></span><br><span class="line"><span class="comment">// 微信提供了录音管理，生成一个录音对�?</span></span><br><span class="line"><span class="keyword">const</span> recorderManager = wx.<span class="title function_">getRecorderManager</span>()</span><br><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">content</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">record</span>:<span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 开始录�?</span></span><br><span class="line">  <span class="attr">recordStart</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">record</span>:<span class="literal">true</span>&#125;)</span><br><span class="line">    <span class="comment">//  参数</span></span><br><span class="line">    <span class="keyword">const</span> options = &#123;</span><br><span class="line">      <span class="comment">// duration: 6000,//指定录音的时长，单位 ms</span></span><br><span class="line">      <span class="attr">sampleRate</span>: <span class="number">16000</span>,<span class="comment">//采样�?</span></span><br><span class="line">      <span class="attr">numberOfChannels</span>: <span class="number">1</span>,<span class="comment">//录音通道�?</span></span><br><span class="line">      <span class="attr">encodeBitRate</span>: <span class="number">48000</span>,<span class="comment">//编码码率</span></span><br><span class="line">      <span class="attr">format</span>: <span class="string">&#x27;wav&#x27;</span><span class="comment">//音频格式，有效�?</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//开始录�?</span></span><br><span class="line">    recorderManager.<span class="title function_">start</span>(options)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 停止录音</span></span><br><span class="line">  <span class="attr">recordCancel</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;停止&quot;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">record</span>:<span class="literal">false</span>&#125;)</span><br><span class="line">    wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发请求，识别语音</span></span><br><span class="line">  <span class="attr">recordStop</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">record</span>)&#123;<span class="keyword">return</span>&#125;</span><br><span class="line">    <span class="comment">// 关闭录音</span></span><br><span class="line">    recorderManager.<span class="title function_">stop</span>();</span><br><span class="line">    <span class="comment">// 监听录音结束，发请求</span></span><br><span class="line">    recorderManager.<span class="title function_">onStop</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// this.tempFilePath = res.tempFilePath</span></span><br><span class="line">      <span class="comment">// 加载</span></span><br><span class="line">      wx.<span class="title function_">showLoading</span>()</span><br><span class="line">      <span class="comment">// 请求文件类型</span></span><br><span class="line">      wx.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">        <span class="attr">filePath</span>: res.<span class="property">tempFilePath</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;voice&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: api.<span class="property">voice</span>,</span><br><span class="line">        <span class="attr">success</span>:<span class="function">(<span class="params">response</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(response)</span><br><span class="line">          <span class="comment">// &#123;&#x27;code&#x27;: 100, &#x27;msg&#x27;:&#x27;成功&#x27;,&#x27;result&#x27;: [&#x27;欢迎欢迎&#x27;]&#125;</span></span><br><span class="line">          <span class="keyword">let</span> voiceResponse = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(response.<span class="property">data</span>)</span><br><span class="line">          <span class="keyword">if</span>(voiceResponse.<span class="property">code</span> == <span class="number">100</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(voiceResponse)</span><br><span class="line">              <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">                <span class="attr">content</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">content</span> + voiceResponse.<span class="property">result</span>[<span class="number">0</span>]</span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">              <span class="attr">title</span>: <span class="string">&#x27;识别失败，请重新操作�?,</span></span><br><span class="line"><span class="string">              icon: &quot;none&quot;</span></span><br><span class="line"><span class="string">            &#125;)</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        complete:()=&gt;&#123;</span></span><br><span class="line"><span class="string">          wx.hideLoading()</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      )</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    this.setData(&#123;record:false&#125;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】后�-3">�?】后�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##############view.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VoiceView</span>(<span class="title class_ inherited__">GenericViewSet</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># 取出你的音频</span></span><br><span class="line">        voice_object = request.data.get(<span class="string">&#x27;voice&#x27;</span>)</span><br><span class="line">        <span class="comment"># with open(&#x27;./a.wav&#x27;,&#x27;wb&#x27;) as f:</span></span><br><span class="line">        <span class="comment">#     f.write(voice_object.read())</span></span><br><span class="line">        <span class="comment"># 获得语音对象</span></span><br><span class="line">        ai = BaiDuVoice()</span><br><span class="line">        <span class="comment"># 将语音转文字</span></span><br><span class="line">        result = ai.speed(voice_object)</span><br><span class="line">        <span class="comment"># &#123;&#x27;corpus_no&#x27;: &#x27;6847771638436561158&#x27;, &#x27;result&#x27;: [&#x27;你是不是打过来？&#x27;], &#x27;sn&#x27;: &#x27;15921476781594371078&#x27;, &#x27;err_msg&#x27;: &#x27;success.&#x27;, &#x27;err_no&#x27;: 0&#125;</span></span><br><span class="line">        <span class="keyword">if</span> result.get(<span class="string">&#x27;err_no&#x27;</span>) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;<span class="string">&#x27;code&#x27;</span>: <span class="number">100</span>, <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;识别成功&#x27;</span>, <span class="string">&#x27;result&#x27;</span>: result.get(<span class="string">&#x27;result&#x27;</span>)&#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;<span class="string">&#x27;code&#x27;</span>: <span class="number">101</span>, <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;识别失败&#x27;</span>&#125;)</span><br><span class="line">        </span><br><span class="line"><span class="comment">##################libs/baidu/baidu_ia.py</span></span><br><span class="line"><span class="comment"># 语音识别</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiDuVoice</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, APP_ID=<span class="string">&#x27;115576951&#x27;</span>, API_KEY=<span class="string">&#x27;YPkf1jQ7gSpLHf4Gd2H4SqWL&#x27;</span>,</span></span><br><span class="line"><span class="params">                 SECRET_KEY=<span class="string">&#x27;NWdeYXdti2LAIZfF1BEwNhlGS4KEnFkJ&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; 你的 APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.APP_ID = APP_ID</span><br><span class="line">        <span class="variable language_">self</span>.API_KEY = API_KEY</span><br><span class="line">        <span class="variable language_">self</span>.SECRET_KEY = SECRET_KEY</span><br><span class="line">        <span class="variable language_">self</span>.client = AipSpeech(<span class="variable language_">self</span>.APP_ID, <span class="variable language_">self</span>.API_KEY, <span class="variable language_">self</span>.SECRET_KEY)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speed</span>(<span class="params">self, voice_object</span>):</span><br><span class="line">        res = <span class="variable language_">self</span>.client.asr(voice_object.read(), <span class="string">&#x27;pcm&#x27;</span>, <span class="number">16000</span>, &#123;</span><br><span class="line">            <span class="string">&#x27;dev_pid&#x27;</span>: <span class="number">1537</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1>【十一】采集统�?</h1>
<h2 id="�-】前�-2">�?】前�?</h2>
<h3 id="�-】json-3">�?】<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;数据统计&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxml-4">�?】<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;```&#123;&#123;dataList&#125;&#125;```&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;iconfont  icon-SCHEDULE&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span>   `&#123;&#123;item.date&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>`&#123;&#123;item.count&#125;&#125;`�?/label&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxss-4">�?】<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.menu</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: small;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> dotted <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-】js-4">�?】<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数�?</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">dataList</span>:[]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">getRecord</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">getRecord</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;<span class="attr">mask</span>:<span class="literal">true</span>&#125;)</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">statistics</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">dataList</span>:res.<span class="property">data</span>&#125;)</span><br><span class="line">      &#125;,<span class="title function_">complete</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// 隐藏加载</span></span><br><span class="line">        wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 监听下拉</span></span><br><span class="line">  <span class="title function_">onPullDownRefresh</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getRecord</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1>【十二】人脸检�?</h1>
<h2 id="�-】前�-3">�?】前�?</h2>
<h3 id="�-】json-4">�?】<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;人脸检�?,</span></span><br><span class="line"><span class="string">  &quot;</span>navigationBarBackgroundColor<span class="string">&quot;: &quot;</span>#fff<span class="string">&quot;,</span></span><br><span class="line"><span class="string">  &quot;</span>enablePullDownRefresh<span class="string">&quot;: true,</span></span><br><span class="line"><span class="string">  &quot;</span>backgroundColor<span class="string">&quot;: &quot;</span>#<span class="number">00</span>FFFF<span class="string">&quot;,</span></span><br><span class="line"><span class="string">  &quot;</span>backgroundTextStyle<span class="string">&quot;: &quot;</span>light<span class="string">&quot;,</span></span><br><span class="line"><span class="string">  &quot;</span>navigationBarTextStyle<span class="string">&quot;: &quot;</span>black<span class="string">&quot;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxml-5">�?】<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 照相�?--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ```&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; &#125;&#125;```判断摄像头是前置还是后置，默认值是true --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">camera</span> <span class="attr">class</span>=<span class="string">&quot;camera&quot;</span> <span class="attr">device-position</span>=<span class="string">&quot;```&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; &#125;&#125;```&quot;</span> <span class="attr">flash</span>=<span class="string">&quot;off&quot;</span> <span class="attr">frame-size</span>=<span class="string">&quot;medium&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">camera</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;switch&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;switchCamera&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这个图片是相机的反转，绑定了点击事件，来控制backFront的�?--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/camera/rotate-camera-white.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 拍照检测按�?--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;takePhoto&quot;</span>&gt;</span> 拍照检�?<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 这个是显示你测试的人员信�?--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;table&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>检测记�?/view&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;```&#123;&#123;record&#125;&#125;```&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;row&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;record&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 检测的照片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;```&#123;&#123;row.avatar&#125;&#125;```&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 成功的提示信�?--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;```&#123;&#123;row.code == 100&#125;&#125;```&quot;</span> <span class="attr">class</span>=<span class="string">&quot;username&quot;</span>&gt;</span>检测成功：`&#123;&#123;row.user_id&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 失败的提示信�?--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span> <span class="attr">class</span>=<span class="string">&quot;username&quot;</span>&gt;</span>检测失�?`&#123;&#123;row.msg&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;txt-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;zh&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;delete&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;```&#123;&#123;row.code == 100&#125;&#125;```&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-shanchu1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:green&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:else</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-htmal5icon17&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxss-5">�?】<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/face/face.wxss */</span></span><br><span class="line"><span class="selector-class">.header</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.camera</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">600</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.switch</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">20</span>rpx;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.switch</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.submit</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="comment">/* 控制文本的粗�?*/</span></span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1</span>rpx solid <span class="number">#e7e7e7</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#e7e7e7</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table</span> <span class="selector-class">.item</span> <span class="selector-class">.title</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20</span>rpx <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">5</span>rpx solid <span class="number">#02bfae</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">26</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10</span>rpx <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-class">.avatar</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-class">.avatar</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-class">.desc</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">40</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.desc</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">290</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.desc</span> <span class="selector-class">.username</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">25</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.txt-group</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.txt-group</span> <span class="selector-class">.zh</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#8c8c8c</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.txt-group</span> <span class="selector-class">.en</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#cccccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.area</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.delete</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-】js-5">�?】<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">backFront</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">record</span>:[]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 点击反转摄像�?</span></span><br><span class="line">  <span class="title function_">switchCamera</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">backFront</span>:<span class="literal">false</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 拍照检�?</span></span><br><span class="line">  <span class="title function_">takePhoto</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 展示加载</span></span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&quot;检测中...&quot;</span>,</span><br><span class="line">      <span class="attr">mask</span>:<span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 获得照片</span></span><br><span class="line">    <span class="keyword">const</span> ctx = wx.<span class="title function_">createCameraContext</span>()</span><br><span class="line">    <span class="comment">// 发请�?</span></span><br><span class="line">    <span class="comment">// 提交给后端文件使用这�?</span></span><br><span class="line">    ctx.<span class="title function_">takePhoto</span>(&#123;</span><br><span class="line">      <span class="comment">// 图片的质�?</span></span><br><span class="line">      <span class="attr">quality</span>:<span class="string">&quot;high&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        wx.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">          <span class="attr">filePath</span>: res.<span class="property">tempImagePath</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;avatar&#x27;</span>,</span><br><span class="line">          <span class="attr">url</span>: api.<span class="property">face</span>,</span><br><span class="line">          <span class="attr">success</span>:<span class="function"><span class="params">ress</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="comment">// 需要转一�?不然得到的不是字典二十字符串</span></span><br><span class="line">            <span class="keyword">let</span> resdata = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(ress.<span class="property">data</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(resdata)</span><br><span class="line">            <span class="comment">// 判断是否成功----102不是本小区的业主</span></span><br><span class="line">            <span class="keyword">if</span>(resdata.<span class="property">code</span>==<span class="number">100</span> || resdata.<span class="property">code</span>==<span class="number">102</span>)&#123;</span><br><span class="line">              <span class="comment">// 将当前的图片存到resdata�?</span></span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">tempImagePath</span>);</span><br><span class="line">              resdata.<span class="property">avatar</span> = res.<span class="property">tempImagePath</span></span><br><span class="line">              <span class="keyword">var</span> oldRecord = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">record</span></span><br><span class="line">              <span class="comment">// 拼接</span></span><br><span class="line">              oldRecord.<span class="title function_">unshift</span>(resdata)</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(oldRecord);</span><br><span class="line">              <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">                <span class="attr">record</span>:oldRecord</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">                <span class="attr">title</span>: <span class="string">&#x27;请正常拍�?,</span></span><br><span class="line"><span class="string">              &#125;)</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">          &#125;,complete()&#123;</span></span><br><span class="line"><span class="string">            // 隐藏加载</span></span><br><span class="line"><span class="string">            wx.hideLoading()</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;)</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】后�-4">�?】后�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###############view.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FaceView</span>(<span class="title class_ inherited__">GenericViewSet</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># 取出前端传过来的饿图�?</span></span><br><span class="line">        avatar = request.data.get(<span class="string">&#x27;avatar&#x27;</span>)</span><br><span class="line">        <span class="comment"># 判断</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> avatar:</span><br><span class="line">            <span class="keyword">return</span> APIResponse(code=<span class="number">101</span>, msg=<span class="string">&quot;图片未提交！&quot;</span>)</span><br><span class="line">        <span class="comment"># 获的百度ai对象</span></span><br><span class="line">        baidu = BaiDuAI()</span><br><span class="line">        result = baidu.search(avatar)</span><br><span class="line">        <span class="comment"># &#123;&#x27;error_code&#x27;: 0, &#x27;error_msg&#x27;: &#x27;SUCCESS&#x27;, &#x27;log_id&#x27;: 1442474036, &#x27;timestamp&#x27;: 1726233673, &#x27;cached&#x27;: 0, &#x27;result&#x27;: &#123;&#x27;face_token&#x27;: &#x27;32c062967b0de37b260b957894347027&#x27;, &#x27;user_list&#x27;: [&#123;&#x27;group_id&#x27;: &#x27;100&#x27;, &#x27;user_id&#x27;: &#x27;li3mo4mo4&#x27;, &#x27;user_info&#x27;: &#x27;&#x27;, &#x27;score&#x27;: 97.40111541748047&#125;]&#125;&#125;</span></span><br><span class="line">        <span class="keyword">if</span> result.get(<span class="string">&#x27;error_code&#x27;</span>) == <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># 说明抢到�?</span></span><br><span class="line">            <span class="comment"># 获取数据---就是名字的拼�?</span></span><br><span class="line">            user_id = result.get(<span class="string">&quot;result&quot;</span>).get(<span class="string">&quot;user_list&quot;</span>)[<span class="number">0</span>].get(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">            <span class="comment"># 名字</span></span><br><span class="line">            user_info = result.get(<span class="string">&quot;result&quot;</span>).get(<span class="string">&quot;user_list&quot;</span>)[<span class="number">0</span>].get(<span class="string">&quot;user_info&quot;</span>)</span><br><span class="line">            <span class="comment"># 准确�?</span></span><br><span class="line">            score = result.get(<span class="string">&quot;result&quot;</span>).get(<span class="string">&quot;user_list&quot;</span>)[<span class="number">0</span>].get(<span class="string">&quot;score&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> APIResponse(user_id=user_id, user_info=user_info, score=score)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            APIResponse(code=<span class="number">101</span>, msg=<span class="string">&quot;匹配失败！该成员不是我们小区的业主，注意注意！！�?)</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">#############libs/baidu/baidu_ai.py</span></span><br><span class="line"><span class="string">class BaiDuAI:</span></span><br><span class="line"><span class="string">    def __init__(self, APP_ID=&#x27;115551890&#x27;, API_KEY=&#x27;QqyXyz0Fv5Ans3QBY5ZBd0jF&#x27;,</span></span><br><span class="line"><span class="string">                 SECRET_KEY=&#x27;ntt3BVfsDcK8KZJCSHAs086jCGWCQOUL&#x27;):</span></span><br><span class="line"><span class="string">        &quot;</span><span class="string">&quot;&quot;</span> 你的 APPID AK SK <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        self.APP_ID = APP_ID</span></span><br><span class="line"><span class="string">        self.API_KEY = API_KEY</span></span><br><span class="line"><span class="string">        self.SECRET_KEY = SECRET_KEY</span></span><br><span class="line"><span class="string">        self.client = AipFace(self.APP_ID, self.API_KEY, self.SECRET_KEY)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    def search(self, img_obj):</span></span><br><span class="line"><span class="string">        image = base64.b64encode(img_obj.read()).decode(&#x27;utf-8&#x27;)</span></span><br><span class="line"><span class="string">        image_type = &quot;BASE64&quot;</span></span><br><span class="line"><span class="string">        group_id_list = &quot;100,101&quot;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span> 调用人脸搜索 <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        res = self.client.search(image, image_type, group_id_list)</span></span><br><span class="line"><span class="string">        # &quot;&quot;&quot;</span> 如果有可选参�?<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        # options = &#123;&#125;</span></span><br><span class="line"><span class="string">        # options[&quot;match_threshold&quot;] = 70</span></span><br><span class="line"><span class="string">        # options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line"><span class="string">        # options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line"><span class="string">        # # options[&quot;user_id&quot;] = &quot;233451&quot;</span></span><br><span class="line"><span class="string">        # options[&quot;max_user_num&quot;] = 3</span></span><br><span class="line"><span class="string">        #</span></span><br><span class="line"><span class="string">        # &quot;&quot;&quot;</span> 带参数调用人脸搜�?<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        # res = self.client.search(image, imageType, groupIdList, options)</span></span><br><span class="line"><span class="string">        print(res)</span></span><br><span class="line"><span class="string">        return res</span></span><br></pre></td></tr></table></figure>
<h1>【十三】公告tab�?</h1>
<h2 id="�-】前�-4">�?】前�?</h2>
<h3 id="�-】json-5">�?】<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxml-6">�?】<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 使用wx:for循环遍历社区公告列表 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;```&#123;&#123;noticeList&#125;&#125;```&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">class</span>=<span class="string">&quot;notice-item&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 左侧图片 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;notice-image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;```&#123;&#123;item.img&#125;&#125;```&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFill&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 右侧内容 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-title&quot;</span>&gt;</span>`&#123;&#123;item.title&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-time&quot;</span>&gt;</span>`&#123;&#123;item.create_time&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-details&quot;</span>&gt;</span>`&#123;&#123;item.content&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】wxss-6">�?】<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20</span>rpx; <span class="comment">/* 添加间距 */</span></span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#f0f0f0</span>; <span class="comment">/* 添加底部边框 */</span></span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">20</span>rpx; <span class="comment">/* 增加底部内边�?*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-image</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">120</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6</span>rpx;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-content</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-time</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666666</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-details</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-】js-6">�?】<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">noticeList</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;公告标题1&#x27;</span>,</span><br><span class="line">        <span class="attr">create_time</span>: <span class="string">&#x27;2024-04-25&#x27;</span>,</span><br><span class="line">        <span class="attr">content</span>: <span class="string">&#x27;公告内容描述1，公告内容描�?，公告内容描�?�?, // 可以根据实际情况添加更多内容</span></span><br><span class="line"><span class="string">        igm: &#x27;</span>/images/notice/notice1.<span class="property">jpg</span><span class="string">&#x27; // 图片路径，根据实际情况修�?</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      &#123;</span></span><br><span class="line"><span class="string">        title: &#x27;</span>公告标题<span class="number">2</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string">        create_time: &#x27;</span><span class="number">2024</span>-<span class="number">04</span>-<span class="number">26</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string">        content: &#x27;</span>公告内容描述<span class="number">2</span>，公告内容描�?，公告内容描�?�?, <span class="comment">// 可以根据实际情况添加更多内容</span></span><br><span class="line">        <span class="attr">igm</span>: <span class="string">&#x27;/images/notice/notice2.jpg&#x27;</span> <span class="comment">// 图片路径，根据实际情况修�?</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// 可以添加更多社区公告数据</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onLoad</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 页面加载时执行的逻辑</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">refresh</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">refresh</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">mask</span>: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">notice</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">noticeList</span>: res.<span class="property">data</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">complete</span>(<span class="params"></span>) &#123;</span><br><span class="line">        wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="�-】后�-5">�?】后�?</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##########view.py</span></span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Notice</span><br><span class="line"><span class="keyword">from</span> .serializer <span class="keyword">import</span> NoticeSerializer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoticeView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    queryset = Notice.objects.<span class="built_in">all</span>().order_by(<span class="string">&#x27;create_time&#x27;</span>)</span><br><span class="line">    serializer_class = NoticeSerializer</span><br><span class="line">    </span><br><span class="line"><span class="comment">#################serializer.py</span></span><br><span class="line"><span class="comment"># 公告序列化表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoticeSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Notice</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;title&quot;</span>, <span class="string">&quot;img&quot;</span>, <span class="string">&quot;create_time&quot;</span>, <span class="string">&quot;content&quot;</span>]</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">&#x27;create_time&#x27;</span>: &#123;<span class="string">&#x27;format&#x27;</span>: <span class="string">&quot;%Y-%m-%d&quot;</span>&#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E7%A8%8B/" class="post-title-link" itemprop="url">����������̺Ͷ��̺߳�Э��</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】多进程和多线程</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaseSpider</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.url_list = <span class="variable language_">self</span>.create_url_list()</span><br><span class="line">        <span class="comment"># self.url_list = [&#x27;https://pic.netbian.com/4kdongman/&#x27;]</span></span><br><span class="line">        <span class="variable language_">self</span>.headers = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: UserAgent().random</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">self</span>.BASE_DIR = os.path.dirname(__file__)</span><br><span class="line">        <span class="variable language_">self</span>.file_name_path = <span class="variable language_">self</span>.create_file_name()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建url列表</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_url_list</span>(<span class="params">self</span>):</span><br><span class="line">        url_list = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">                index_url = <span class="string">&#x27;https://pic.netbian.com/4kdongman/&#x27;</span></span><br><span class="line">                url_list.append(index_url)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                index_url = <span class="string">f&#x27;https://pic.netbian.com/4kdongman/index_<span class="subst">&#123;i&#125;</span>.html&#x27;</span></span><br><span class="line">                url_list.append(index_url)</span><br><span class="line">        <span class="keyword">return</span> url_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_tree</span>(<span class="params">self, page_text</span>):</span><br><span class="line">        tree = etree.HTML(page_text)</span><br><span class="line">        <span class="keyword">return</span> tree</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_page_text</span>(<span class="params">self, url, encoding=<span class="string">&#x27;gbk&#x27;</span></span>):</span><br><span class="line">        response = requests.get(url, headers=<span class="variable language_">self</span>.headers)</span><br><span class="line">        response.encoding = encoding</span><br><span class="line">        <span class="keyword">return</span> response.text</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_file_name</span>(<span class="params">self, path=<span class="string">&#x27;img&#x27;</span></span>):</span><br><span class="line">        file_name_path = os.path.join(<span class="variable language_">self</span>.BASE_DIR, path)</span><br><span class="line">        os.makedirs(file_name_path, exist_ok=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> file_name_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpiderImg</span>(<span class="title class_ inherited__">BaseSpider</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">timer</span>(<span class="params">func</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">            start_time = time.time()</span><br><span class="line">            res = func(*args, **kwargs)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot; <span class="subst">&#123;func.__name__&#125;</span> | 总耗时 :&gt;&gt;&gt;&gt; <span class="subst">&#123;time.time() - start_time&#125;</span> s&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_index_tree</span>(<span class="params">self</span>):</span><br><span class="line">        tree_list = []</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> <span class="variable language_">self</span>.url_list:</span><br><span class="line">            <span class="comment"># 获取每一页的页面源码</span></span><br><span class="line">            page_text = <span class="variable language_">self</span>.get_page_text(url=url)</span><br><span class="line">            tree = <span class="variable language_">self</span>.get_tree(page_text=page_text)</span><br><span class="line">            tree_list.append(tree)</span><br><span class="line">        <span class="keyword">return</span> tree_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__get_tree_data</span>(<span class="params">self, tree</span>):</span><br><span class="line">        img_data_list = []</span><br><span class="line">        li_list = tree.xpath(<span class="string">&#x27;//*[@id=&quot;main&quot;]/div[3]/ul/li&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            <span class="comment"># ./a/img</span></span><br><span class="line">            img_title = li.xpath(<span class="string">&#x27;./a/img/@alt&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">            img_src = <span class="string">&#x27;https://pic.netbian.com&#x27;</span> + li.xpath(<span class="string">&#x27;./a/img/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">            img_data_list.append(&#123;<span class="string">&#x27;img_title&#x27;</span>: img_title, <span class="string">&#x27;img_src&#x27;</span>: img_src&#125;)</span><br><span class="line">        <span class="keyword">return</span> img_data_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_index_img_data</span>(<span class="params">self</span>):</span><br><span class="line">        img_data_list = []</span><br><span class="line">        tree_list = <span class="variable language_">self</span>.spider_index_tree()</span><br><span class="line">        <span class="keyword">for</span> tree <span class="keyword">in</span> tree_list:</span><br><span class="line">            img_list = <span class="variable language_">self</span>.__get_tree_data(tree=tree)</span><br><span class="line">            <span class="comment"># [&#123;&#125;,&#123;&#125;]</span></span><br><span class="line">            img_data_list.extend(img_list)</span><br><span class="line">        <span class="keyword">return</span> img_data_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">self, img_src, img_title</span>):</span><br><span class="line">        response = requests.get(url=img_src)</span><br><span class="line">        file_path = os.path.join(<span class="variable language_">self</span>.file_name_path, <span class="string">f&#x27;<span class="subst">&#123;img_title&#125;</span>.png&#x27;</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_path, mode=<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            <span class="keyword">for</span> data <span class="keyword">in</span> response.iter_content():</span><br><span class="line">                fp.write(data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;当前图片 :&gt;&gt;&gt;&gt; <span class="subst">&#123;img_title&#125;</span> 保存成功!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @timer</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">download_normal</span>(<span class="params">self</span>):</span><br><span class="line">        img_data_list = <span class="variable language_">self</span>.spider_index_img_data()</span><br><span class="line">        <span class="keyword">for</span> img_data <span class="keyword">in</span> img_data_list:</span><br><span class="line">            img_title = img_data.get(<span class="string">&#x27;img_title&#x27;</span>)</span><br><span class="line">            img_src = img_data.get(<span class="string">&#x27;img_src&#x27;</span>)</span><br><span class="line">            <span class="variable language_">self</span>.download(img_src=img_src, img_title=img_title)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @timer</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">download_process</span>(<span class="params">self</span>):</span><br><span class="line">        img_data_list = <span class="variable language_">self</span>.spider_index_img_data()</span><br><span class="line">        task_list = [Process(target=<span class="variable language_">self</span>.download, args=(img_data.get(<span class="string">&#x27;img_src&#x27;</span>), img_data.get(<span class="string">&#x27;img_title&#x27;</span>))) <span class="keyword">for</span></span><br><span class="line">                     img_data <span class="keyword">in</span> img_data_list]</span><br><span class="line">        [task.start() <span class="keyword">for</span> task <span class="keyword">in</span> task_list]</span><br><span class="line">        [task.join() <span class="keyword">for</span> task <span class="keyword">in</span> task_list]</span><br><span class="line"></span><br><span class="line"><span class="meta">    @timer</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">download_thread</span>(<span class="params">self</span>):</span><br><span class="line">        img_data_list = <span class="variable language_">self</span>.spider_index_img_data()</span><br><span class="line">        task_list = [Thread(target=<span class="variable language_">self</span>.download, args=(img_data.get(<span class="string">&#x27;img_src&#x27;</span>), img_data.get(<span class="string">&#x27;img_title&#x27;</span>))) <span class="keyword">for</span></span><br><span class="line">                     img_data <span class="keyword">in</span> img_data_list]</span><br><span class="line">        [task.start() <span class="keyword">for</span> task <span class="keyword">in</span> task_list]</span><br><span class="line">        [task.join() <span class="keyword">for</span> task <span class="keyword">in</span> task_list]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    spider = SpiderImg()</span><br><span class="line">    <span class="comment"># spider.download_normal() #  download_normal | 总耗时 :&gt;&gt;&gt;&gt; 31.3393292427063 s</span></span><br><span class="line">    <span class="comment"># spider.download_process() #  download_process | 总耗时 :&gt;&gt;&gt;&gt; 34.51722550392151 s</span></span><br><span class="line">    spider.download_thread()  <span class="comment"># download_thread | 总耗时 :&gt;&gt;&gt;&gt; 15.272460699081421 s</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    # num_list_one = [1, 2, 3, 4]</span></span><br><span class="line"><span class="string">    # num_list_two = [7, 8, 9, 10]</span></span><br><span class="line"><span class="string">    # num_list_new = []</span></span><br><span class="line"><span class="string">    # print(num_list_new)</span></span><br><span class="line"><span class="string">    # num_list_new.extend(num_list_one)</span></span><br><span class="line"><span class="string">    # num_list_new.extend(num_list_two)</span></span><br><span class="line"><span class="string">    # print(num_list_new)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h1>【二】协�?</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"><span class="keyword">import</span> aiohttp</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: UserAgent().random</span><br><span class="line">&#125;</span><br><span class="line">BASE_DIR = os.path.dirname(__file__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_file_name</span>(<span class="params">path=<span class="string">&#x27;img&#x27;</span></span>):</span><br><span class="line">    file_name_path = os.path.join(BASE_DIR, path)</span><br><span class="line">    os.makedirs(file_name_path, exist_ok=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> file_name_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file_name_path = create_file_name()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">create_url_list</span>():</span><br><span class="line">    url_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">            index_url = <span class="string">&#x27;https://pic.netbian.com/4kdongman/&#x27;</span></span><br><span class="line">            url_list.append(index_url)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            index_url = <span class="string">f&#x27;https://pic.netbian.com/4kdongman/index_<span class="subst">&#123;i&#125;</span>.html&#x27;</span></span><br><span class="line">            url_list.append(index_url)</span><br><span class="line">    <span class="keyword">return</span> url_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_tree</span>(<span class="params">page_text</span>):</span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    <span class="keyword">return</span> tree</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_page_text</span>(<span class="params">tag_url, encoding=<span class="string">&#x27;gbk&#x27;</span></span>):</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> aiohttp.ClientSession() <span class="keyword">as</span> session:</span><br><span class="line">        <span class="comment"># 如果遇到 ssl error 这种错，一般都�?ssl=False</span></span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">with</span> session.get(url=tag_url, headers=headers, ssl=<span class="literal">False</span>) <span class="keyword">as</span> response:</span><br><span class="line">            page_text = <span class="keyword">await</span> response.text(encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> page_text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">spider_index_tree</span>():</span><br><span class="line">    tree_list = []</span><br><span class="line">    url_list = <span class="keyword">await</span> create_url_list()</span><br><span class="line">    <span class="comment"># url_list = [&#x27;https://pic.netbian.com/4kdongman/&#x27;]</span></span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> url_list:</span><br><span class="line">        <span class="comment"># 获取每一页的页面源码</span></span><br><span class="line">        page_text = <span class="keyword">await</span> get_page_text(tag_url=url)</span><br><span class="line">        tree = <span class="keyword">await</span> get_tree(page_text=page_text)</span><br><span class="line">        tree_list.append(tree)</span><br><span class="line">    <span class="keyword">return</span> tree_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_tree_data</span>(<span class="params">tree</span>):</span><br><span class="line">    img_data_list = []</span><br><span class="line">    li_list = tree.xpath(<span class="string">&#x27;//*[@id=&quot;main&quot;]/div[3]/ul/li&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">        <span class="comment"># ./a/img</span></span><br><span class="line">        img_title = li.xpath(<span class="string">&#x27;./a/img/@alt&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        img_src = <span class="string">&#x27;https://pic.netbian.com&#x27;</span> + li.xpath(<span class="string">&#x27;./a/img/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        img_data_list.append(&#123;<span class="string">&#x27;img_title&#x27;</span>: img_title, <span class="string">&#x27;img_src&#x27;</span>: img_src&#125;)</span><br><span class="line">    <span class="keyword">return</span> img_data_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">spider_index_img_data</span>():</span><br><span class="line">    img_data_list = []</span><br><span class="line">    tree_list = <span class="keyword">await</span> spider_index_tree()</span><br><span class="line">    <span class="keyword">for</span> tree <span class="keyword">in</span> tree_list:</span><br><span class="line">        img_list = <span class="keyword">await</span> get_tree_data(tree=tree)</span><br><span class="line">        <span class="comment"># [&#123;&#125;,&#123;&#125;]</span></span><br><span class="line">        img_data_list.extend(img_list)</span><br><span class="line">    <span class="keyword">return</span> img_data_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">img_src, img_title</span>):</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> aiohttp.ClientSession() <span class="keyword">as</span> session:</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">with</span> session.get(url=img_src, headers=headers, ssl=<span class="literal">False</span>) <span class="keyword">as</span> response:</span><br><span class="line">            data_all = <span class="keyword">await</span> response.read()</span><br><span class="line">            file_path = os.path.join(file_name_path, <span class="string">f&#x27;<span class="subst">&#123;img_title&#125;</span>.png&#x27;</span>)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(file_path, mode=<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                fp.write(data_all)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;当前图片 :&gt;&gt;&gt;&gt; <span class="subst">&#123;img_title&#125;</span> 保存成功!&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    img_data_list = <span class="keyword">await</span> spider_index_img_data()</span><br><span class="line">    <span class="comment"># 创建Task对象列表</span></span><br><span class="line">    task_list = [asyncio.create_task(download(img_src=img_data.get(<span class="string">&#x27;img_src&#x27;</span>), img_title=img_data.get(<span class="string">&#x27;img_title&#x27;</span>))) <span class="keyword">for</span></span><br><span class="line">                 img_data <span class="keyword">in</span> img_data_list]</span><br><span class="line">    <span class="comment"># 等待任务完成</span></span><br><span class="line">    <span class="keyword">await</span> asyncio.wait(task_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    start_time = time.time()</span><br><span class="line">    <span class="comment"># 启协�?</span></span><br><span class="line">    asyncio.run(main())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;总耗时 :&gt;&gt;&gt;&gt; <span class="subst">&#123;time.time() - start_time&#125;</span> s&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 总耗时 :&gt;&gt;&gt;&gt; 6.5860209465026855 s</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E9%80%89%E8%AF%BE%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E9%80%89%E8%AF%BE%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">ѡ��ϵͳ����</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>选课系统分析</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">【一】功能分�?</span><br><span class="line">选课系统</span><br><span class="line">管理�?---&gt; 负责管理后台 添加和管理信�?</span><br><span class="line">学生�?---&gt; 负责选课，上�?...</span><br><span class="line">讲师�?---&gt; 负责讲课</span><br><span class="line">课程 ---&gt; 有哪些课�?</span><br><span class="line">学校 ---&gt; 在哪开设课�?</span><br><span class="line"></span><br><span class="line">【二】管理员模块</span><br><span class="line">�?】注�?</span><br><span class="line">�?】登�?</span><br><span class="line">�?】添加学�?</span><br><span class="line">�?】添加讲�?</span><br><span class="line">�?】添加课�?</span><br><span class="line">�?】修改讲师密�?</span><br><span class="line"></span><br><span class="line">【三】讲师端</span><br><span class="line">�?】登�?</span><br><span class="line">�?】讲师可以选择课程</span><br><span class="line">�?】查看当前课程下的学�?</span><br><span class="line">�?】查看当前课程下的学生的分数</span><br><span class="line"></span><br><span class="line">【四】学生端</span><br><span class="line">�?】注�?</span><br><span class="line">�?】登�?</span><br><span class="line">�?】查看所有的课程信息</span><br><span class="line">�?】选择课程</span><br><span class="line">�?】查看课程分�?</span><br><span class="line"></span><br><span class="line">【五】管理员信息</span><br><span class="line">管理员账�?</span><br><span class="line">管理员密�?</span><br><span class="line"></span><br><span class="line">【六】学校信�?</span><br><span class="line">学校名字</span><br><span class="line">学校地址</span><br><span class="line">学校简�?</span><br><span class="line">学校关联课程(学校允许开设多门课�?</span><br><span class="line"></span><br><span class="line">【七】讲�?</span><br><span class="line">讲师账号</span><br><span class="line">讲师密码</span><br><span class="line">选择的课程信�?(讲师讲多门课)</span><br><span class="line"></span><br><span class="line">【八】学�?</span><br><span class="line">学生姓名</span><br><span class="line">学生账号</span><br><span class="line">学生密码</span><br><span class="line">选择的课程信�?(学生可以选择多门课程)</span><br><span class="line"></span><br><span class="line">【九】课�?</span><br><span class="line">课程名称</span><br><span class="line">课程周期</span><br><span class="line">课程价格</span><br><span class="line">关联学校 (一个课程只能有一个学�?</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">【十】架构设�?</span><br><span class="line">遵循三层架构原则 继承ATM 的分层架构风�?</span><br><span class="line">bin # 主文件层</span><br><span class="line">  -- main.py</span><br><span class="line">core # 视图展示�?</span><br><span class="line">  -- admin.py</span><br><span class="line">  -- teacher.py</span><br><span class="line">  -- student.py</span><br><span class="line">conf # 配置文件�?</span><br><span class="line">  -- settings.py</span><br><span class="line">interface # 逻辑接口�?</span><br><span class="line">  -- admin_interface.py</span><br><span class="line">  -- teacher_interface.py</span><br><span class="line">  -- student_interface.py</span><br><span class="line">db # 数据存储和处理层</span><br><span class="line">  -- data # 负责存储所有的数据</span><br><span class="line">     -- Admin</span><br><span class="line">     -- Student</span><br><span class="line">     -- Teacher</span><br><span class="line">     -- Course</span><br><span class="line">     -- School</span><br><span class="line">  -- db_handler.py 负责数据处理读取和写�?</span><br><span class="line">  -- models.py 模型�?</span><br><span class="line">lib # 公共功能</span><br><span class="line">  -- common.py 存储公共的功能函�?</span><br><span class="line">log # 日志存储�?</span><br><span class="line">start.py # 启动入口</span><br><span class="line">README.md # 项目解释说明�?</span><br><span class="line"></span><br><span class="line">【十一】架构选型</span><br><span class="line">Python</span><br><span class="line">面向对象和函�?</span><br><span class="line">魔法方法 + 绑定方法 + 非绑定方�?+ 反射</span><br><span class="line">数据库存�?---&gt; pickle</span><br><span class="line">pickle ---&gt; 允许保存 python 的对�?</span><br><span class="line">不能实时更新，只能保存保存的那一时刻的数�?</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E8%B1%86%E7%93%A3Top250%20%E6%A1%88%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E8%B1%86%E7%93%A3Top250%20%E6%A1%88%E4%BE%8B/" class="post-title-link" itemprop="url">����Top250 ����</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>豆瓣Top250 案例</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 豆掰 Top250</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpiderTop250</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># �?】定义目标网址</span></span><br><span class="line">        <span class="comment"># self.target_url = &quot;https://movie.douban.com/top250&quot;</span></span><br><span class="line">        <span class="comment"># https://movie.douban.com/top250?start=25&amp;filter=</span></span><br><span class="line">        <span class="comment"># https://movie.douban.com/top250?start=50&amp;filter=</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># �?】定义请求头参数</span></span><br><span class="line">        <span class="variable language_">self</span>.headers = &#123;</span><br><span class="line">            <span class="string">&quot;User-Agent&quot;</span>: UserAgent().random</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_target_url</span>(<span class="params">self</span>):</span><br><span class="line">        target_url_list = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">                target_url = <span class="string">&quot;https://movie.douban.com/top250&quot;</span></span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                target_url = <span class="string">f&quot;https://movie.douban.com/top250?start=<span class="subst">&#123;<span class="number">25</span> * (i - <span class="number">1</span>)&#125;</span>&amp;filter=&quot;</span></span><br><span class="line">                target_url_list.append(target_url)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> target_url_list</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">self, page_text</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;doubai.html&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            fp.write(page_text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">read</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;doubai.html&quot;</span>, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            data = fp.read()</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">self</span>):</span><br><span class="line">        target_url_list = <span class="variable language_">self</span>.create_target_url()</span><br><span class="line">        top_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> target_url <span class="keyword">in</span> target_url_list:</span><br><span class="line">            top_data.update(<span class="variable language_">self</span>.spider_page_text(target_url))</span><br><span class="line">        <span class="keyword">return</span> top_data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_page_text</span>(<span class="params">self, target_url</span>):</span><br><span class="line">        <span class="comment"># �?】发起请求获取响应对�?</span></span><br><span class="line">        response = requests.get(</span><br><span class="line">            url=target_url,</span><br><span class="line">            headers=<span class="variable language_">self</span>.headers</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># �?】获取到响应源码</span></span><br><span class="line">        page_text = response.text</span><br><span class="line">        <span class="comment"># self.save(page_text)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.parse_page(page_text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_page</span>(<span class="params">self, page_text</span>):</span><br><span class="line">        <span class="comment"># page_text = self.read()</span></span><br><span class="line">        <span class="comment"># �?】生成soup对象</span></span><br><span class="line">        soup = BeautifulSoup(page_text, <span class="string">&quot;lxml&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># �?】获取到每一个电影信息所在的li标签</span></span><br><span class="line">        li_list = soup.select(<span class="string">&quot;#content &gt; div &gt; div.article &gt; ol &gt; li&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># �?】遍历获取每一个li标签中间的内�?</span></span><br><span class="line">        top_data = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)</span></span><br><span class="line">            <span class="comment">#  div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)</span></span><br><span class="line">            <span class="comment"># print(li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)&quot;)[0].string)</span></span><br><span class="line">            <span class="comment"># print(li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)&quot;)[0].get_text())</span></span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">             movie_title = li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(1)&quot;)[0].text.strip()</span></span><br><span class="line"><span class="string">            movie_director = li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(2)&quot;)[0].text.strip().strip(</span></span><br><span class="line"><span class="string">                &quot;/&quot;).strip()</span></span><br><span class="line"><span class="string">            movie_type = &quot;, &quot;.join(</span></span><br><span class="line"><span class="string">                [i.strip() for i in li.select(&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span:nth-child(3)&quot;)[0].text.strip().strip(</span></span><br><span class="line"><span class="string">                    &quot;/&quot;).strip().split(&quot;/&quot;)])</span></span><br><span class="line"><span class="string">            &#x27;&#x27;&#x27;</span></span><br><span class="line">            info_list = [span.text.strip() <span class="keyword">for</span> span <span class="keyword">in</span> li.select(<span class="string">&quot;div &gt; div.info &gt; div.hd &gt; a &gt; span&quot;</span>)]</span><br><span class="line">            movie_title = info_list[<span class="number">0</span>]</span><br><span class="line">            movie_director = info_list[<span class="number">1</span>].strip(<span class="string">&quot;/&quot;</span>).strip()</span><br><span class="line">            movie_type = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(info_list) == <span class="number">3</span>:</span><br><span class="line">                movie_type = <span class="string">&quot;, &quot;</span>.join([i.strip() <span class="keyword">for</span> i <span class="keyword">in</span> info_list[<span class="number">2</span>].strip(<span class="string">&quot;/&quot;</span>).strip().split(<span class="string">&quot;/&quot;</span>)])</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; p:nth-child(1)</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; p:nth-child(1)</span></span><br><span class="line">            movie_actors = [i.strip().replace(<span class="string">&quot;\xa0&quot;</span>, <span class="string">&quot;&quot;</span>) <span class="keyword">for</span> i <span class="keyword">in</span></span><br><span class="line">                            <span class="built_in">list</span>(li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; p:nth-child(1)&quot;</span>)[<span class="number">0</span>].strings)]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; div &gt; span.rating_num</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; div &gt; span.rating_num</span></span><br><span class="line">            movie_star = li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; div &gt; span.rating_num&quot;</span>)[<span class="number">0</span>].text</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; div &gt; span:nth-child(4)</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; div &gt; span:nth-child(4)</span></span><br><span class="line">            movie_comment_num = li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; div &gt; span:nth-child(4)&quot;</span>)[<span class="number">0</span>].text</span><br><span class="line"></span><br><span class="line">            <span class="comment"># #content &gt; div &gt; div.article &gt; ol &gt; li:nth-child(1) &gt; div &gt; div.info &gt; div.bd &gt; p.quote &gt; span</span></span><br><span class="line">            <span class="comment"># div &gt; div.info &gt; div.bd &gt; p.quote &gt; span</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                movie_motto = li.select(<span class="string">&quot;div &gt; div.info &gt; div.bd &gt; p.quote &gt; span&quot;</span>)[<span class="number">0</span>].text</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                movie_motto = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">            top_data[movie_title] = &#123;</span><br><span class="line">                <span class="string">&quot;movie_title&quot;</span>: movie_title,</span><br><span class="line">                <span class="string">&quot;movie_director&quot;</span>: movie_director,</span><br><span class="line">                <span class="string">&quot;movie_type&quot;</span>: movie_type,</span><br><span class="line">                <span class="string">&quot;movie_actors&quot;</span>: movie_actors,</span><br><span class="line">                <span class="string">&quot;movie_star&quot;</span>: movie_star,</span><br><span class="line">                <span class="string">&quot;movie_comment_num&quot;</span>: movie_comment_num,</span><br><span class="line">                <span class="string">&quot;movie_motto&quot;</span>: movie_motto</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> top_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = SpiderTop250()</span><br><span class="line">    top_data = s.main()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(top_data))</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E9%98%B6%E6%AE%B5%E6%80%A7%E8%80%83%E8%AF%95%E4%B8%80%E3%80%90%E4%B9%A0%E9%A2%98%E7%89%88%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/%E9%98%B6%E6%AE%B5%E6%80%A7%E8%80%83%E8%AF%95%E4%B8%80%E3%80%90%E4%B9%A0%E9%A2%98%E7%89%88%E3%80%91/" class="post-title-link" itemprop="url">�׶��Կ���һ��ϰ��桿</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:47:39" itemprop="dateModified" datetime="2025-10-11T17:47:39+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>【一】理论题(60)</h1>
<h2 id="�-】计算机基础-3">�?】计算机基础(3)</h2>
<h3 id="�-）五大组成部分有哪些">�?）五大组成部分有哪些</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">输入设备</span><br><span class="line">输出设备</span><br><span class="line">运算�?存储�?控制�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）三大核心硬件有哪些</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>cpu<br>
硬盘<br>
内存</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）三大核心硬件各自的作用</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>cpu:运算�?存储�?硬盘：持久化存储数据，读取速度�?内存：临时存储数据，读取速度�?```</p>
<h2 id="�-】变量和常量-5">�?】变量和常量(5)</h2>
<h3 id="�-）什么是变量">�?）什么是变量</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">发生变化的量</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### �?）什么是常量</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>不变的量（在py中可以改�?```</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### �?）二者有什么区别？</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>命名�?常量一般字母都会大写，代表不会发生变化的量<br>
变量是会随时发生变化的量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）变量的三大特性分别是什�?</span><br></pre></td></tr></table></figure>
<p>变量�?地址<br>
类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）如何查看变量的三大特性？</span><br><span class="line"></span><br><span class="line">```\</span><br><span class="line">变量�?变量�?id(变量�?</span><br><span class="line">type（变量名�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?�?=和is的区�?1)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>==是比较的是�?is是比较的是内存地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?】进制转�?2)</span><br><span class="line"></span><br><span class="line">### �?）如何将字符串转成utf8的二进制格式�?</span><br></pre></td></tr></table></figure>
<p>字符�?encode(“utf-8”)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）如何将utf8的二进制格式转成字符串？</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>字符�?decode�?utf-8&quot;�?```</p>
<h2 id="�-】基本数据类�-3">�?】基本数据类�?3)</h2>
<h3 id="�-）Python的基本数据类型有哪些�">�?）Python的基本数据类型有哪些�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">整数类型（int�?浮点数类型（flost�?字符串类型（str�?列表类型（list�?字典类型（dict�?布尔类型（bool�?元组类型（tuple�?集合类型（set�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）分别有什么特点？</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>整数�?,2,3<br>
浮点数：1.1,2.99<br>
字符串：索引取值，索引改�?列表：索引取值，索引改�?字典：k,v键值对（有则修改，无责添加�?布尔：False,True(0就是False，空的基本数据类型False)<br>
元组：无须，定义元组�?，）<br>
集合：去重，有序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）容器类型和序列类型有哪些？</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>容器类型：list，dict，set，tuple<br>
序列类型：dict，str，list</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?】数据类型的内置方法(1)</span><br><span class="line"></span><br><span class="line">### �?）尽可能多的分别写出相应的数据类型内置方�?</span><br></pre></td></tr></table></figure>
<p>int:只能强转flost类型,<br>
判断是不是整数：.isdigit</p>
<p>flost：只能强转int类型<br>
十进制转二进制：bin<br>
十进制转八进制：oct<br>
十进制转十六进制：hex<br>
其它进制�?0进制：int<br>
list：[]<br>
索引取值：[]<br>
len方法:计算长度<br>
成员运算：for…in…<br>
增：append，s[0]=新�?    删：pop：删除，输出删除的�?split切片（“要切的东西”）�?    改：索引到你要改的值，直接修改�?    查：正索引：s=[1,2,3,4]<br>
s[0]=1<br>
负索引：s[-1]=4</p>
<p>str:“”<br>
切片：[1:4]:顾头不顾�?	步长：[1:6:2]:从索�?开始取值取到索�?，后面是长度�?个值取一�?	取出所有空格：.strip()<br>
左取除：.lstrip()<br>
循环遍历：for i in 变量名：<br>
成员运算：in , not in<br>
切片：split�?按什么切&quot;�?	<br>
占位符：<br>
f&quot;信息{变量名}信息&quot;<br>
%站位<br>
%s:字符�?	%d:数字类型</p>
<p>dict：{k：v键值对}<br>
增：append,有责修改，无责添�?	删：pop（键值），输出删除的�?	改：append,有责修改，无责添�?	查：变量�?get()/变量名[键值]</p>
<p>bool:<br>
False:所有的空类型，None�?<br>
True�?，八大数据类型不是空�?	<br>
tuple�?	增值：append</p>
<p>set:<br>
排序就会用它，但是他会变得无�?	去重也可以用它，但是他也会变的无�?```</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span>:字符�?    转小写：lower（）</span><br><span class="line">    转大写：upper（）</span><br><span class="line">    按分隔符分隔：split（）<span class="comment">#得到一个列�?    连接序列号的元素�?以什么拼�?.join（可迭代的数据）</span></span><br><span class="line">    去除空格：strip（）<span class="comment">#还可以去除指定字符串</span></span><br><span class="line">    左去除：lstrip()</span><br><span class="line">    右去除：rstrip（）</span><br><span class="line">    判断字符串开头：startswith（）</span><br><span class="line">    判断字符串结尾：endswith（）</span><br><span class="line">    统计某一个字符出现的次数：count（）</span><br><span class="line">    填充：center（）奇数左少右多</span><br><span class="line">    左填充：rjust</span><br><span class="line">    右填充：ljust（）</span><br><span class="line">    用零填充：zfill（数据长�?添加几位零）</span><br><span class="line">    大小写转换：swapcase（）</span><br><span class="line">    首字母大写：capitalize（）</span><br><span class="line">    每个单词首字母大写：title（）</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="built_in">dict</span>:字典 k:v</span><br><span class="line">    data[<span class="string">&quot;k&quot;</span>]=v</span><br><span class="line">    data.get(<span class="string">&quot;k&quot;</span>)=v</span><br><span class="line">    data.pop(<span class="string">&quot;k&quot;</span>)<span class="comment">#键值对都会删除，并返回v�?    data.get(key[])#获取所有键的�?    data.updata(&#123;k:v&#125;)#有则修改，无责添�?    del data[&quot;k&quot;]#删除键值对</span></span><br><span class="line">    data.clear()<span class="comment">#清空键值对</span></span><br><span class="line">    data.keys()<span class="comment">#得到所有k�?    data.valuse()#得到所有v�?    data.items（）#得到所有键值对</span></span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h2 id="�-】堆和栈-2">�?】堆和栈(2)</h2>
<h3 id="�-）什么是堆和栈？">�?）什么是堆和栈？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">堆：存放变量名的地方</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">栈：存放变量名和变量值关系的地方</span><br><span class="line">后进先出</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### �?）用Python代码模拟堆和�?</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?】字符编�?4)</span><br><span class="line"></span><br><span class="line">### �?）什么是字符编码�?</span><br></pre></td></tr></table></figure>
<p>就是将文字编写成计算机能识别的信�?```</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">字符编码是一套规则，它将字符（字母、数字、符号等）映射到特定的数字或者其他符号上，以便计算机能够存储和处理文本信息�?每个字符在编码系统中都有一个唯一的编码，这样计算机就可以通过这些编码来区分不同的字符并进行处理�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### �?）字符编码的发展史？</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>一家独大，诸侯割据，一统天�?```</p>
<h3 id="�-）unicode，utf-8，gbk，ascii用几个字节表示英文？">�?）unicode，utf-8，gbk，ascii用几个字节表示英文？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">utf-8:一个字�?```</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="�-）unicode，utf-8，gbk，ascii用几个字节表示中文？">�?）unicode，utf-8，gbk，ascii用几个字节表示中文？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">四个字节</span><br></pre></td></tr></table></figure>
<h2 id="�-】文件操�-2">�?】文件操�?2)</h2>
<h3 id="�-）操作文件的模式有哪些？">�?）操作文件的模式有哪些？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a：追加数�?w：覆盖只�?r：读数据</span><br><span class="line">二进制：ab,wb,rb</span><br></pre></td></tr></table></figure>
<h3 id="�-）文件的操作方法有哪些？">�?）文件的操作方法有哪些？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">with open(file=&quot;&quot;,mode=&quot;&quot;,endcoing=&quot;&quot;) as fp:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">保存数据：write:保存数据</span><br><span class="line"></span><br><span class="line">读取数据：read：读取所有内�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?0】函数基础(2)</span><br><span class="line"></span><br><span class="line">### �?）什么是函数�?</span><br></pre></td></tr></table></figure>
<p>函数就是将一块代码封装起来，用的时候直接调用，减少代码�?```</p>
<h3 id="�-）函数的语法结构及各部分的含义？">�?）函数的语法结构及各部分的含义？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def 函数名（参数）：</span><br><span class="line">	</span><br><span class="line">	运算过程</span><br><span class="line">	</span><br><span class="line">	return :返回�?	</span><br><span class="line">def:定义函数的关键字</span><br><span class="line">函数名：就是变量名，不确定数，（参数）函数内部需要的参数</span><br><span class="line">return ：后面跟需要返回的数据</span><br></pre></td></tr></table></figure>
<h2 id="�-1】函数参�-2">�?1】函数参�?2)</h2>
<h3 id="�-）函数参数的两大分类及两者关�">�?）函数参数的两大分类及两者关�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">有参函数：定义函数时（）有参�?</span><br><span class="line">无参函数：定义函数时（）没有参数</span><br></pre></td></tr></table></figure>
<h3 id="�-）函数的参数的种类及各自的特�">�?）函数的参数的种类及各自的特�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">默认参数：函�?位置参数传参：位置参数传参一定要在关键字传参前面</span><br><span class="line">关键字传参：关键字传参一定要在位置传参后�?多传的位置参数由�?args接收</span><br><span class="line">多传的命名关键字传参�?*kwargs接收</span><br></pre></td></tr></table></figure>
<h2 id="�-2】函数进阶之装饰�-13">�?2】函数进阶之装饰�?13)</h2>
<h3 id="�-）函数的使用方式有哪些？">�?）函数的使用方式有哪些？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def 函数名（）：</span><br><span class="line">	代码�?	</span><br><span class="line">#调用</span><br><span class="line">变量�?函数名（�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）闭包函�?</span><br><span class="line">#### [1]什么是闭包函数�?</span><br></pre></td></tr></table></figure>
<p>内嵌函数对外部作用域有引用的是闭包函�?```</p>
<h4 id="2-闭包函数的应用场�">[2]闭包函数的应用场�?</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">封装，装饰器</span><br></pre></td></tr></table></figure>
<h4 id="3-最经典的应用是�">[3]最经典的应用是�?</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">装饰�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）装饰器</span><br><span class="line"></span><br><span class="line">#### [1]什么是装饰器？</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>为装饰对象添加新的功能的函数<br>
在不改变装饰对象的源代码和调用方式的情况下，为其添加新的功能</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### [2]装饰器的分类�?</span><br></pre></td></tr></table></figure>
<p>无参装饰�?有参装饰�?```</p>
<h4 id="3-无参装饰器的模版�">[3]无参装饰器的模版�?</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#inner（）里面没有参数就是无参装饰�?def outer(func):</span><br><span class="line">    def inner():</span><br><span class="line">        func()</span><br><span class="line">        return func</span><br><span class="line">    return inner</span><br></pre></td></tr></table></figure>
<h4 id="4-有参装饰器的模版�">[4]有参装饰器的模版�?</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#inner（）里面有参数就是无参装饰器</span><br><span class="line">def outer(func):</span><br><span class="line">    def inner(*args, **kwargs):</span><br><span class="line">        func(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">    return inner</span><br></pre></td></tr></table></figure>
<h3 id="�-）如何修复装饰器�">�?）如何修复装饰器�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">修复装饰�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）语法糖</span><br><span class="line"></span><br><span class="line">#### [1]什么是语法糖？</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在函数头顶上@已定义好的函数名（），一定要在你函数的头顶上写这个语法糖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### [2]语法糖的继承关系是？</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>def one(func):<br>
def wrapper():<br>
func()<br>
print(“one”)<br>
return wrapper</p>
<p>@one<br>
def two():<br>
print(“two”)</p>
<p>@one<br>
def three():<br>
return print(“three”)</p>
<p>three()<br>
#one<br>
#therr</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### [3]语法糖的调用关系是？</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>@函数�?<br>
@函数�?<br>
def 函数名（）：</p>
<p>#会先执行@函数�?这个函数在执行@函数�?这个函数最后执�? def 函数名（�?```</p>
<h4 id="4-有参语法糖的模版�">[4]有参语法糖的模版�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">outer</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;进来了！&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> func(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@outer</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outer_decorator</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(name)</span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line"></span><br><span class="line">outer_decorator(name=<span class="string">&quot;dream&quot;</span>)</span><br><span class="line"><span class="comment">#进来了！</span></span><br><span class="line"><span class="comment"># dream</span></span><br></pre></td></tr></table></figure>
<h2 id="�-3】函数进阶之迭代�-3">�?3】函数进阶之迭代�?3)</h2>
<h3 id="�-）什么是可迭代对�">�?）什么是可迭代对�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">有内置有__iter__方法的就是可迭代对象</span><br></pre></td></tr></table></figure>
<h3 id="�-）什么是迭代器对象？">�?）什么是迭代器对象？</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">有__iter__方法</span><br><span class="line">又有__next__方法</span><br><span class="line">的就是迭代器对象</span><br></pre></td></tr></table></figure>
<h3 id="�-）两者的关系�">�?）两者的关系�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">迭代器对象是可迭代器对象</span><br><span class="line">可迭代器对象不是迭代器对�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?4】函数进阶之生成�?3)</span><br><span class="line"></span><br><span class="line">### �?）生成器创建的两种方�?</span><br></pre></td></tr></table></figure>
<p>列表推导�?yield关键�?```</p>
<h3 id="�-）简述yield和return的异同点">�?）简述yield和return的异同点</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不同�?yield返回的是对象的id，必须需要__next__才会输出�?return返回的是�?相同�?都是返回数据</span><br></pre></td></tr></table></figure>
<h3 id="�-）生成器取值的方式">�?）生成器取值的方式</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">用__next__取�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?5】名称空�?5)</span><br><span class="line"></span><br><span class="line">### �?）什么是名称空间</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>存放变量名和变量值关系的地方</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）名称空间的加载顺序</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>内置名称空间–》全局名称空间–》局部名称空�?```</p>
<h3 id="�-）名称空间的查找顺序�">�?）名称空间的查找顺序�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">局部名称空�?-》全局名称空间--》内置名称空�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）修改全局不可变数据类型的方法</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>一旦被定义定义不可修改<br>
在函数内部用关键�? global 修改全局不可变数据类型，但是只在本函数能�?```</p>
<h3 id="�-）修改内嵌局部不可变数据类型的方法？">�?）修改内嵌局部不可变数据类型的方法？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="�-6】异常捕�-4">�?6】异常捕�?4)</h2>
<h3 id="�-）什么是异常�">�?）什么是异常�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在py中写错代码，下面爆红就是异常</span><br></pre></td></tr></table></figure>
<h3 id="�-）程序中遇到异常该如何解决？">�?）程序中遇到异常该如何解决？</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">你可以用异常捕获将这个报错的语法进行包装一�?try�?	语法</span><br><span class="line">except:</span><br><span class="line">	可以写一些信息，报错的信�?```</span><br><span class="line"></span><br><span class="line">### �?）异常处理相关语法有哪些�?</span><br></pre></td></tr></table></figure>
<p>try�?	语法<br>
except:<br>
可以写一些信息，报错的信�?```</p>
<h3 id="�-）如何主动抛出异�">�?）如何主动抛出异�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">主动报错:主动报错（raise�?断言：你想要那个数据是就是为True时抛出异�?assert</span><br></pre></td></tr></table></figure>
<h2 id="�-7】模块与�-4">�?7】模块与�?4)</h2>
<h3 id="�-）什么是模块�">�?）什么是模块�?</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">一个py文件就是一个模�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）模块的来源�?</span><br></pre></td></tr></table></figure>
<p>py自带�?人家写好的直接拿来用<br>
自己写的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）什么是�?</span><br></pre></td></tr></table></figure>
<p>所有模块的总和</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### �?）如何自定义�?</span><br></pre></td></tr></table></figure>
<p>在包中定义一个__init__.py文件<br>
也可以直接在pycherm里面直接创建�?```</p>
<h2 id="�-8】什么是深浅拷贝�-1">�?8】什么是深浅拷贝�?1)</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">深拷贝就是：改你的副本的时�?本体也会跟着修改（就是你的副本复制的是你的id�?浅拷贝是：改你的副本的时�?本体也不会跟着修改（副本又开辟了一块地址�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 【二】练习题(10)</span><br><span class="line"></span><br><span class="line">## �?】比大小(2)</span><br><span class="line"></span><br><span class="line">- 用一行代码实现比较两个值，并打印较大的那个�?</span><br></pre></td></tr></table></figure>
<p>print(max(1,2))</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## �?】大小写转换(4)</span><br><span class="line"></span><br><span class="line">### �?）给定列表如�?</span><br><span class="line">```python</span><br><span class="line">names = [&#x27;Dream&#x27;, &#x27;Justin&#x27;, &#x27;egon&#x27;, &#x27;tank&#x27;]</span><br></pre></td></tr></table></figure>
<h3 id="�-）列表中名字全转大写-0-5">�?）列表中名字全转大写(0.5)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;Dream&#x27;</span>, <span class="string">&#x27;Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line">name = [i.upper() <span class="keyword">for</span> i <span class="keyword">in</span> names]</span><br><span class="line"><span class="built_in">print</span>(name)</span><br></pre></td></tr></table></figure>
<h3 id="�-）列表中名字全转为小�-0-5">�?）列表中名字全转为小�?0.5)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;Dream&#x27;</span>, <span class="string">&#x27;Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line">name = [i.lower() <span class="keyword">for</span> i <span class="keyword">in</span> names]</span><br><span class="line"><span class="built_in">print</span>(name)</span><br></pre></td></tr></table></figure>
<h3 id="�-）首字母大写其余小写-1">�?）首字母大写其余小写(1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;Dream&#x27;</span>, <span class="string">&#x27;Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line">name = [i.capitalize() <span class="keyword">for</span> i <span class="keyword">in</span> names]</span><br><span class="line"><span class="built_in">print</span>(name)</span><br></pre></td></tr></table></figure>
<h3 id="�-）反转名字顺�-1">�?）反转名字顺�?1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;Dream&#x27;</span>, <span class="string">&#x27;Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(names[::-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<h3 id="�-）删除指定名字Dream-1">�?）删除指定名字<code>Dream</code>(1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;Dream&#x27;</span>, <span class="string">&#x27;Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line">names.pop(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(names)</span><br></pre></td></tr></table></figure>
<h2 id="�-】特殊字符处�-4">�?】特殊字符处�?4)</h2>
<h3 id="�-）给定列表如�">�?）给定列表如�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;dream_NB&#x27;</span>, <span class="string">&#x27;NB_Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h3 id="�-）删除以特定后缀结尾-NB的名字后缀并保存长�-字典-1">�?）删除以特定后缀结尾<code>_NB</code>的名字后缀并保存长�?字典)(1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;dream_NB&#x27;</span>, <span class="string">&#x27;NB_Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line">name = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> names:</span><br><span class="line">    <span class="keyword">if</span> i.endswith(<span class="string">&quot;_NB&quot;</span>):</span><br><span class="line"></span><br><span class="line">        a, b = i.split(<span class="string">&quot;_&quot;</span>)</span><br><span class="line">        name.append(a)</span><br><span class="line">    name.append(i)</span><br><span class="line">name.pop(<span class="number">1</span>)</span><br><span class="line">name_dict=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> name:</span><br><span class="line">    name_dict.update(&#123;a:<span class="built_in">len</span>(a)&#125;)</span><br><span class="line"><span class="built_in">print</span>(name_dict)</span><br></pre></td></tr></table></figure>
<h3 id="�-）过滤掉以特定后缀结尾-NB的名字为大写并保存长�-字典-1">�?）过滤掉以特定后缀结尾<code>_NB</code>的名字为大写并保存长�?字典)(1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;dream_NB&#x27;</span>, <span class="string">&#x27;NB_Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line">name = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> names:</span><br><span class="line">    names = [i.upper() <span class="keyword">for</span> i <span class="keyword">in</span> names]</span><br><span class="line">    <span class="keyword">if</span> i.endswith(<span class="string">&quot;_NB&quot;</span>):</span><br><span class="line">        a, b = i.split(<span class="string">&quot;_&quot;</span>)</span><br><span class="line">        name.append(a)</span><br><span class="line">    name.append(i)</span><br><span class="line">name.pop(<span class="number">1</span>)</span><br><span class="line">name_dict = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> name:</span><br><span class="line">    a = a.upper()</span><br><span class="line">    name_dict.update(&#123;a: <span class="built_in">len</span>(a)&#125;)</span><br><span class="line"><span class="built_in">print</span>(name_dict)</span><br></pre></td></tr></table></figure>
<h3 id="�-）添加新名字并按长度排序-1">�?）添加新名字并按长度排序(1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">new_names = [<span class="string">&#x27;max&#x27;</span>, <span class="string">&#x27;longestNameEver&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]</span><br><span class="line">new_name_one = [<span class="string">&quot;tom&quot;</span>, <span class="string">&quot;dream&quot;</span>]</span><br><span class="line">new_names.extend(new_name_one)</span><br><span class="line">s = <span class="built_in">sorted</span>(new_names, key=<span class="built_in">len</span>)<span class="comment">#len作为key参数进行排序  </span></span><br></pre></td></tr></table></figure>
<h3 id="�-）统计每一个名字中每个字符出现的次�-1">�?）统计每一个名字中每个字符出现的次�?1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;dream_NB&#x27;</span>, <span class="string">&#x27;NB_Justin&#x27;</span>, <span class="string">&#x27;egon&#x27;</span>, <span class="string">&#x27;tank&#x27;</span>]</span><br><span class="line">name_dict = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> one <span class="keyword">in</span> names:</span><br><span class="line">    <span class="keyword">for</span> two <span class="keyword">in</span> one:</span><br><span class="line">        <span class="keyword">if</span> two <span class="keyword">in</span> name_dict:</span><br><span class="line">            name_dict[two] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            name_dict[two] = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(name_dict)</span><br><span class="line"><span class="comment">#&#123;&#x27;d&#x27;: 1, &#x27;r&#x27;: 1, &#x27;e&#x27;: 2, &#x27;a&#x27;: 2, &#x27;m&#x27;: 1, &#x27;_&#x27;: 2, &#x27;N&#x27;: 2, &#x27;B&#x27;: 2, &#x27;J&#x27;: 1, &#x27;u&#x27;: 1, &#x27;s&#x27;: 1, &#x27;t&#x27;: 2, &#x27;i&#x27;: 1, &#x27;n&#x27;: 3, &#x27;g&#x27;: 1, &#x27;o&#x27;: 1, &#x27;k&#x27;: 1&#125;</span></span><br></pre></td></tr></table></figure>
<h1>【二】思考题(20)</h1>
<h2 id="�-】下述为什么会报错-5">�?】下述为什么会报错(5)</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;a.txt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line"></span><br><span class="line">  g=(<span class="built_in">len</span>(line) <span class="keyword">for</span> line <span class="keyword">in</span> f)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(g)) <span class="comment">#为何报错�?```</span></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">没有写读写模�?```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## �?】计算题(5)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### �?）求总共花了多少钱？(3)</span></span><br><span class="line"></span><br><span class="line">- 购物清单 shopping.txt 信息如下，计算出总计花费的金额�?</span><br><span class="line">````python</span><br><span class="line">mac,<span class="number">20000</span>,<span class="number">3</span></span><br><span class="line">iphone,<span class="number">1000</span>,<span class="number">3</span></span><br><span class="line">lenovo,<span class="number">3000</span>,<span class="number">10</span></span><br><span class="line">tesla,<span class="number">1000000</span>,<span class="number">10</span></span><br><span class="line">chicken,<span class="number">200</span>,<span class="number">1</span></span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">file_path = <span class="string">&quot;shopping.txt &quot;</span></span><br><span class="line">num_list = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>( file=file_path,mode=<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    lines = fp.readlines()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> lines:</span><br><span class="line">        a,b,c = i.strip().split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">        d = <span class="built_in">int</span>(b)*<span class="built_in">int</span>(c)</span><br><span class="line">        num_list.append(d)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(num_list))<span class="comment">#10093200</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）打印出所有商品的信息-1">�?）打印出所有商品的信息(1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">格式为[&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xxx&#x27;</span>,<span class="string">&#x27;price&#x27;</span>:<span class="number">333</span>,<span class="string">&#x27;count&#x27;</span>:<span class="number">3</span>&#125;,...]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">file_path = <span class="string">&quot;shopping.txt &quot;</span></span><br><span class="line">shopping_dict = &#123;&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>( file=file_path,mode=<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    content=fp.readlines()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> content:</span><br><span class="line">        a, b, c = i.strip().split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">        shopping_dict.update(&#123;a:<span class="built_in">int</span>(b)&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(shopping_dict)</span><br><span class="line"><span class="comment">#&#123;&#x27;mac&#x27;: 20000, &#x27;iphone&#x27;: 1000, &#x27;lenovo&#x27;: 3000, &#x27;tesla&#x27;: 1000000, &#x27;chicken&#x27;: 200&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）打印单价大�-000的商品信�-格式同上-1">�?）打印单价大�?000的商品信�?格式同上(1)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">file_path = <span class="string">&quot;shopping.txt &quot;</span></span><br><span class="line">shopping_dict = &#123;&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>( file=file_path,mode=<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    content=fp.readlines()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> content:</span><br><span class="line">        a, b, c = i.strip().split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">int</span>(b) &gt;<span class="number">1000</span>:</span><br><span class="line">            shopping_dict.update(&#123;a:<span class="built_in">int</span>(b)&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(shopping_dict)<span class="comment">#&#123;&#x27;mac&#x27;: 20000, &#x27;lenovo&#x27;: 3000, &#x27;tesla&#x27;: 1000000&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】比较题-5">�?】比较题(5)</h2>
<ul>
<li>有一个员工薪资表如下</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">salaries=&#123;</span><br><span class="line"></span><br><span class="line">  <span class="string">&#x27;Justin&#x27;</span>:<span class="number">3000000</span>,</span><br><span class="line"></span><br><span class="line">  <span class="string">&#x27;dream&#x27;</span>:<span class="number">1000000</span>,</span><br><span class="line"></span><br><span class="line">  <span class="string">&#x27;tony&#x27;</span>:<span class="number">10000</span>,</span><br><span class="line"></span><br><span class="line">  <span class="string">&#x27;tank&#x27;</span>:<span class="number">2000</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="�-）求薪资最高的那名员工姓名-2">�?）求薪资最高的那名员工姓名(2)</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">salaries = &#123;<span class="string">&#x27;Justin&#x27;</span>: <span class="number">3000000</span>, <span class="string">&#x27;dream&#x27;</span>: <span class="number">1000000</span>, <span class="string">&#x27;tony&#x27;</span>: <span class="number">10000</span>, <span class="string">&quot;tank&quot;</span>: <span class="number">2000</span>&#125;</span><br><span class="line">name = <span class="built_in">max</span>(salaries, key=salaries.get)</span><br><span class="line"><span class="built_in">print</span>(name)<span class="comment">#Justin</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）将字典映射成一个列�-2">�?）将字典映射成一个列�?2)</h3>
<ul>
<li>列表内每一个元素是员工姓名、员工的年薪</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">one_list =[]</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> salaries.items():</span><br><span class="line">    one_list.append(k)</span><br><span class="line">    one_list.append(v)</span><br><span class="line"><span class="built_in">print</span>(one_list)<span class="comment">#[&#x27;Justin&#x27;, 3000000, &#x27;dream&#x27;, 1000000, &#x27;tony&#x27;, 10000, &#x27;tank&#x27;, 2000]</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）过滤出薪资大于10000的员工姓�-1">�?）过滤出薪资大于10000的员工姓�?1)</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">one_list =[]</span><br><span class="line">for k,v in salaries.items():</span><br><span class="line">    if v &gt; 10000:</span><br><span class="line">        one_list.append(k)</span><br><span class="line">print(one_list)#[&#x27;Justin&#x27;, &#x27;dream&#x27;]</span><br></pre></td></tr></table></figure>
<h2 id="�-】默写指定位数的随机验证码生成器-5">�?】默写指定位数的随机验证码生成器(5)</h2>
<ul>
<li>利用所学知识将我们课上所写的验证码生成器默写出来，不要看你以前的笔记，尽可能默写出来</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def one(n=6):</span><br><span class="line">    count = &quot;&quot;</span><br><span class="line">    for i in range(n):</span><br><span class="line">        chr_one = chr(random.randint(65, 90))</span><br><span class="line">        chr_two = chr(random.randint(97, 122))</span><br><span class="line">        num = str(random.randint(0, 9))</span><br><span class="line">        num_ = random.choice([chr_two, chr_one, num])</span><br><span class="line">        count += num_</span><br><span class="line">    return count</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">one_ = one()</span><br><span class="line">print(one_)</span><br></pre></td></tr></table></figure>
<h1>【三】代码题(60)</h1>
<h2 id="�-】要求说�">�?】要求说�?</h2>
<h3 id="�-）版本选择">�?）版本选择</h3>
<ul>
<li>以下三个版本任选一个版本，有能力的挑难的，觉得自己不行的别硬撑，能把最基础的写出来也行</li>
<li>*<em>建议大家在函数版本或者面向对象上写，面条版本就有点太 low �?</em></li>
</ul>
<h3 id="�-）开发要�">�?）开发要�?</h3>
<ul>
<li>新建项目，整个编程期间，pycharm窗口最大化，尽量不要切换窗�?  - <strong>再次强调！！！考试期间不允许切换窗口，不允许窗口最小化！！！！</strong></li>
</ul>
<h3 id="�-）项目要�">�?）项目要�?</h3>
<ul>
<li>项目中用到的变量名，函数名，文件名，模块名都需要跟老师的不一�?- 项目数据的存储方式自己定，可以用文本文件可以用JSON文件也可以用pickle</li>
<li>加入自己的名字作为前缀（非常丑陋，但为了防止作弊）</li>
</ul>
<h3 id="�-）所有功能需要正常运�">�?）所有功能需要正常运�?</h3>
<h3 id="�-）可以选择分工合作">�?）可以选择分工合作</h3>
<ul>
<li>如果是一个人写只需要写一个完整的项目即可</li>
<li>如果是三个人合力一起写
<ul>
<li>每一个人负责一个版块的功能</li>
<li>但是要把两个项目都给我写出来</li>
</ul>
</li>
</ul>
<h2 id="�-】项目一：ATM-Shopping">�?】项目一：ATM_Shopping</h2>
<h3 id="�-）功能说�">�?）功能说�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">user_menu = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">===================用户功能菜单=====================</span></span><br><span class="line"><span class="string">                  1.注册</span></span><br><span class="line"><span class="string">                  2.登陆</span></span><br><span class="line"><span class="string">                  3.激活银行卡</span></span><br><span class="line"><span class="string">                  4.取款</span></span><br><span class="line"><span class="string">                  5.转账</span></span><br><span class="line"><span class="string">                  6.充值余�?                  7.查看流水</span></span><br><span class="line"><span class="string">                  8.查看日志</span></span><br><span class="line"><span class="string">                  9.查看银行信息(查看自己的卡号、余额、流水等信息)</span></span><br><span class="line"><span class="string">                  q:退�?======================欢迎使用=======================</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">admin_menu = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">===================管理员功能菜�?====================</span></span><br><span class="line"><span class="string">                  1.登陆</span></span><br><span class="line"><span class="string">                  2.注册用户</span></span><br><span class="line"><span class="string">                  3.修改用户权限</span></span><br><span class="line"><span class="string">                  4.修改用户状�?                  5.查看所有用户信�?                  6.查看指定用户信息</span></span><br><span class="line"><span class="string">                  7.修改额度</span></span><br><span class="line"><span class="string">                  8.初识化商品信�?                  9.添加商品</span></span><br><span class="line"><span class="string">                  10.删除商品</span></span><br><span class="line"><span class="string">                  11.修改商品信息</span></span><br><span class="line"><span class="string">                  12.查看所有商品信�?                  13.查看指定商品信息</span></span><br><span class="line"><span class="string">                  14.生成充值激活码</span></span><br><span class="line"><span class="string">                  q:退�?======================欢迎使用=======================</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">shop_menu = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">========================= 购物车功能菜�?==========================</span></span><br><span class="line"><span class="string">                            1.查看商品信息</span></span><br><span class="line"><span class="string">                            2.选择商品下单</span></span><br><span class="line"><span class="string">                            3.清空购物�?                            4.删除指定商品信息</span></span><br><span class="line"><span class="string">                            5.下单商品(付款)</span></span><br><span class="line"><span class="string">                            6.查看购物车商�?                            q:退出系�?========================= 购物车功能菜�?==========================</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）ATM面条版本">�?）ATM面条版本</h3>
<ul>
<li>选择这个版本的给 40�?</li>
</ul>
<h3 id="�-）ATM函数版本">�?）ATM函数版本</h3>
<ul>
<li>选择这个版本的给 50 �?</li>
</ul>
<h3 id="�-）ATM函数分层版本">�?）ATM函数分层版本</h3>
<ul>
<li>选择这个的给 60 �?</li>
</ul>
<h3 id="�-）ATM现象对象分层版本">�?）ATM现象对象分层版本</h3>
<ul>
<li>选择这个的给 60 �?</li>
</ul>
<h2 id="�-】项目二：Select-Course-System">�?】项目二：Select_Course_System</h2>
<h3 id="�-）功能说�-2">�?）功能说�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">admin_menu = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">=====================管理员功能菜�?====================</span></span><br><span class="line"><span class="string">                        1.注册</span></span><br><span class="line"><span class="string">                        2.登录</span></span><br><span class="line"><span class="string">                        3.创建学校</span></span><br><span class="line"><span class="string">                        4.创建课程</span></span><br><span class="line"><span class="string">                        5.创建讲师</span></span><br><span class="line"><span class="string">                        6.学校绑定课程</span></span><br><span class="line"><span class="string">                        7.修改讲师密码</span></span><br><span class="line"><span class="string">                        8.查看所有课程信�?                        9.查看所有学校信�?                        10.查看所有讲师信�?                        11.指定讲师授课课程</span></span><br><span class="line"><span class="string">                        q:退出系�?              </span></span><br><span class="line"><span class="string">==========================菜单结束==========================</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">student_menu = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">=====================学生功能菜单=====================</span></span><br><span class="line"><span class="string">                        1.注册</span></span><br><span class="line"><span class="string">                        2.登录</span></span><br><span class="line"><span class="string">                        3.查看课程信息</span></span><br><span class="line"><span class="string">                        4.选择课程</span></span><br><span class="line"><span class="string">                        5.查看成绩</span></span><br><span class="line"><span class="string">                        q:退出系�?              </span></span><br><span class="line"><span class="string">==========================菜单结束==========================</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">teacher_menu = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">=====================讲师功能菜单=====================</span></span><br><span class="line"><span class="string">                        1.登录</span></span><br><span class="line"><span class="string">                        2.查看指定课程下学生和分数</span></span><br><span class="line"><span class="string">                        3.选择课程</span></span><br><span class="line"><span class="string">                        4.查看教授课程信息</span></span><br><span class="line"><span class="string">                        5.修改学生的分�?                        q:退出系�?              </span></span><br><span class="line"><span class="string">==========================菜单结束==========================</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）ATM面条版本-2">�?）ATM面条版本</h3>
<ul>
<li>选择这个版本的给 40�?</li>
</ul>
<h3 id="�-）ATM函数版本-2">�?）ATM函数版本</h3>
<ul>
<li>选择这个版本的给 50 �?</li>
</ul>
<h3 id="�-）ATM函数分层版本-2">�?）ATM函数分层版本</h3>
<ul>
<li>选择这个的给 60 �?</li>
</ul>
<h3 id="�-）ATM现象对象分层版本-2">�?）ATM现象对象分层版本</h3>
<ul>
<li>选择这个的给 60 �?</li>
</ul>
<h1>【四】评分标�?</h1>
<ul>
<li><strong>不许夹带私人感情</strong></li>
<li>*<em>考得差不会批评你们，而是咱们要针对性的解决问题，如果大家都没问题，这种情况是最理想但是不现�?</em></li>
<li>*<em>如果一旦有人将自己的问题藏起来，总是不爆漏出来，积少成多，后果就是可能会影响到后续学�?</em></li>
<li><strong>所以尽自己努力去答，别打假赛！</strong></li>
</ul>
<h2 id="�-】理论题">�?】理论题</h2>
<h3 id="�-）别太离谱就给分">�?）别太离谱就给分</h3>
<ul>
<li>只要思想和意思对，别太离谱就给分</li>
</ul>
<h3 id="�-）尽量给整分">�?）尽量给整分</h3>
<ul>
<li>一个题尽量给整分，别给小数�?</li>
</ul>
<h3 id="�-）纯去想试试">�?）纯去想试试</h3>
<ul>
<li>尽力去回忆你学过的知识，别打开pycharm，就靠自己纯去想试试</li>
<li>在你们面试的时候，面试官不会说，让你打开pycharm试试，就让你一张嘴，框框说</li>
</ul>
<h3 id="�-）基础打好">�?）基础打好</h3>
<ul>
<li>如果面试官提前让你写代码题了，那也会给你时间提前准备</li>
<li>用到的技术也不会是现在这么基础的东�?- 但是你基础打不好，后面学起来你就会越来越没思路</li>
</ul>
<h2 id="�-】思考题">�?】思考题</h2>
<ul>
<li>好好理解其中的意思，组织好的语言，别太离�?</li>
</ul>
<h2 id="�-】代码题">�?】代码题</h2>
<ul>
<li>只要思想和意思对，别太离谱就给分</li>
<li>代码题酌情给分，根据功能给分</li>
</ul>
<h2 id="�-】时间安�">�?】时间安�?</h2>
<h3 id="�-】上午时�">�?】上午时�?</h3>
<ul>
<li>写理�?+ 思�?</li>
</ul>
<h3 id="�-）下午时�">�?）下午时�?</h3>
<ul>
<li>上午没写完的，接着�?</li>
<li>写完的开始写代码�?</li>
</ul>
<h1>【五】分数汇�?</h1>
<h3 id="�-）评分时�">�?）评分时�?</h3>
<ul>
<li>20:30组长开始判卷子�?1:00 ~ 21:30 统计出来上面题的结果，总共�?50�?</li>
</ul>
<h3 id="�-）上报成�">�?）上报成�?</h3>
<ul>
<li>然后在组长群汇报成绩，格式如�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">几组</span><br><span class="line">组长：xxx(xx�?</span><br><span class="line">组员：xxx(xx�?|xxx(xx�?</span><br><span class="line">总分：上面所有人的成绩加起来</span><br><span class="line">均分：上面所有人的总成�?你们组的人数</span><br></pre></td></tr></table></figure>
<h3 id="�-）统计成�">�?）统计成�?</h3>
<ul>
<li>班长负责统计所有组的成�?- 统计到一个Excel表格�?- 有两�?  - 一份是全班不分组，按照分数从高到低�?  - 一份是按照每组的平均分排，按照分数从高到低�?</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/19/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><span class="page-number current">20</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/21/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">坤</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要，但是你不努力，选择就只是空谈</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">201</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">坤</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">lsk-0912</a> & <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
