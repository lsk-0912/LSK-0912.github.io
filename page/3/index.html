<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aurora-lsk.asia","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:type" content="website">
<meta property="og:title" content="坤博客">
<meta property="og:url" content="https://aurora-lsk.asia/page/3/index.html">
<meta property="og:site_name" content="坤博客">
<meta property="og:description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="坤">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://aurora-lsk.asia/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>坤博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">坤博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/1.5socket%E5%A5%97%E6%8E%A5%E5%AD%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/1.5socket%E5%A5%97%E6%8E%A5%E5%AD%97/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-1-5socket�׽���date-2023-01-01categories-Blogtags-Blog">title: 1.5socket�׽���<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>socket</h1>
<h2 id="【一】简�">【一】简�?</h2>
<ul>
<li>
<p>我们知道两个进程如果需要进行通讯最基本的一个前提能能够唯一的标示一个进程，在本地进程通讯中我们可以使用PID来唯一标示一个进程，但PID只在本地唯一，网络中的两个进程PID冲突几率很大，这时候我们需要另辟它径了，我们知道IP层的ip地址可以唯一标示主机，而TCP层协议和端口号可以唯一标示主机的一个进程，这样我们可以利用ip地址＋协议＋端口号唯一标示网络中的一个进程�?</p>
</li>
<li>
<p>能够唯一标示网络中的进程后，它们就可以利用socket进行通信了，什么是socket呢？</p>
</li>
<li>
<p>我们经常把socket翻译为套接字，socket是在应用层和传输层之间的一个抽象层，它把TCP/IP层复杂的操作抽象为几个简单的接口供应用层调用已实现进程在网络中通信�?</p>
</li>
<li>
<p>socket起源于UNIX，在Unix一切皆文件哲学的思想下，socket是一�?打开—读/写—关�?模式的实现，服务器和客户端各自维护一�?文件&quot;，在建立连接打开后，可以向自己文件写入内容供对方读取或者读取对方内容，通讯结束时关闭文件�?</p>
</li>
</ul>
<h2 id="【二】什么是socket">【二】什么是socket</h2>
<ul>
<li>
<p>应用层和传输层之间的抽象�?</p>
</li>
<li>
<p>socket（套接字）：是一个网络接口，它允许应用层通过它发送或接收数据</p>
</li>
<li>
<p>我们无需深入理解tcp/udp协议，socket已经为我们封装好了，我们只需要遵循socket的规定去编程，写出的程序自然就是遵循tcp/udp标准的�?</p>
</li>
<li>
<p>也有人将socket说成ip+port</p>
<ul>
<li>ip是标识互联网中的一台主机的位置</li>
<li>port是用来标记这台机器上的应用程�?</li>
<li>IP地址是配置到网卡上的</li>
<li>port是应用程序开启的</li>
<li>ip与port的绑定就是标识了互联网中独一无二的一个应用程�?</li>
</ul>
</li>
<li>
<p>而程�?的pib是同一台机器上不同进程或者线程的标识</p>
</li>
</ul>
<h2 id="【三】套接字发展史及分类">【三】套接字发展史及分类</h2>
<ul>
<li>套接字起源于 20 世纪 70 年代加利福尼亚大学伯克利分校版本�?Unix,即人们所说的 BSD Unix�?</li>
<li>因此,有时人们也把套接字称为“伯克利套接字”或“BSD 套接字”�?</li>
<li>一开�?套接字被设计用在�?一台主机上多个应用程序之间的通讯�?</li>
<li>这也被称进程间通讯,�?IPC。套接字�?<em>两种</em>*（或者称为有两个种族�?分别�?
<ul>
<li><strong>基于文件型的</strong></li>
<li><strong>基于网络型的</strong></li>
</ul>
</li>
</ul>
<h3 id="�-）基于文件类型的套接字家�">�?）基于文件类型的套接字家�?</h3>
<ul>
<li>套接字家族的名字
<ul>
<li>AF_UNIX</li>
</ul>
</li>
<li>unix一切皆文件
<ul>
<li>基于文件的套接字调用的就是底层的文件系统来取数据</li>
<li>两个套接字进程运行在同一个机�?</li>
<li>可以通过访问同一个文件系统间接完成通信</li>
</ul>
</li>
</ul>
<h3 id="�-）基于网络类型的套接字家�">�?）基于网络类型的套接字家�?</h3>
<ul>
<li>套接字家族的名字
<ul>
<li>AF_INET</li>
</ul>
</li>
<li>还有AF_INET6被用于ipv6，还有一些其他的地址家族，不过，他们要么是只用于某个平台，要么就是已经被废弃，或者是很少被使用，或者是根本没有实现
<ul>
<li>所有家族中，AF_INET是使用最广泛的一�?</li>
<li>python支持很多种地址家族，我们使用最多的还是AF_INET</li>
</ul>
</li>
</ul>
<h2 id="【四】套接字工作流程">【四】套接字工作流程</h2>
<h3 id="�-）流程分�">�?）流程分�?</h3>
<ul>
<li>打电�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#我们需要做的工�?</span></span><br><span class="line">一部电�?</span><br><span class="line">一张电话卡：好查找，用来表示那个号是你自己本人</span><br><span class="line">拨打电话</span><br><span class="line">和打出去电话的人建立联系</span><br><span class="line">和对方进行交�?</span><br><span class="line">挂断电话</span><br></pre></td></tr></table></figure>
<ul>
<li>接电�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#我们需要做的工�?</span></span><br><span class="line">一部手�?</span><br><span class="line">一张电话卡：好查找，用来表示那个号是你自己本人</span><br><span class="line">接听电话</span><br><span class="line">和打电话的人建立联系</span><br><span class="line">和对方进行交�?</span><br><span class="line">挂断电话</span><br></pre></td></tr></table></figure>
<h3 id="�-）流程分�-2">�?）流程分�?</h3>
<p>打电�?</p>
<ul>
<li>打电�?—服务�?</li>
<li>一部手�?—初始化socket对象</li>
<li>一张电话卡----与本地的接口进行绑定</li>
<li>拨打电话----listen监听是否有人监听</li>
<li>和打出去电话的人建立联系----accept接收到客户端连接 进行阻塞 connect连接</li>
<li>和对方进行交�?—send发送信�?</li>
<li>挂断电话----close</li>
</ul>
<p>服务�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># �?）接电话 --- 服务�?</span></span><br><span class="line"><span class="comment"># 一部手机：初始�?socket 对象</span></span><br><span class="line"><span class="comment"># family=-1 : AF_INET</span></span><br><span class="line"><span class="comment"># type=-1 : SOCK_STREAM  --- 基于TCP的流式协�?</span></span><br><span class="line"><span class="comment"># proto=-1 :  0</span></span><br><span class="line"><span class="comment"># 初始�?socket 对象 �?获得到一个基于TCP的流式协议的TCP对象</span></span><br><span class="line">server = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一张电话卡 ：与本地的端口进行绑�?</span></span><br><span class="line">ip = <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">port = <span class="number">8001</span></span><br><span class="line">server.bind((ip, port))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拨打电话：listen 监听当前是否有人接通电�?</span></span><br><span class="line"><span class="comment"># 半连接池</span></span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 和打出去的电话的人建立联�?�?accept 接收到客户端连接 进行阻塞 connect 连接</span></span><br><span class="line">conn, addr = server.accept()</span><br><span class="line"><span class="comment"># 只能发送二进制数据</span></span><br><span class="line">from_server_to_client_send_data = <span class="string">f&#x27;我是来自服务端的一条数�?</span></span><br><span class="line"><span class="string">conn.send(from_server_to_client_send_data.encode())</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 和对方进行交�?：send 发送信�?</span></span><br><span class="line"><span class="string">from_client_to_server_recv_data = conn.recv(1024)  # 1kb = 1024字节</span></span><br><span class="line"><span class="string">print(from_client_to_server_recv_data.decode())</span></span><br><span class="line"><span class="string"># 挂断电话 close</span></span><br><span class="line"><span class="string">conn.close()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">server.close()</span></span><br></pre></td></tr></table></figure>
<p>接电�?</p>
<ul>
<li>接电�?—客户�?</li>
<li>一部手�?—初始化socket对象</li>
<li>一张电话卡----与本地的接口进行绑定</li>
<li>接听电话----connct</li>
<li>和打出去电话的人建立联系----connect连接</li>
<li>和对方进行交�?—send发送信�?</li>
<li>挂断电话----close</li>
</ul>
<p>客户�?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># �?）接电话 --- 客户�?</span></span><br><span class="line"><span class="comment"># 一部手�?�?初始�?socket 对象</span></span><br><span class="line">client = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 一张电话卡 ：与本地的端口进行绑�?</span></span><br><span class="line">ip = <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">port = <span class="number">8001</span></span><br><span class="line">client.connect((ip, port))</span><br><span class="line"><span class="comment"># 接听电话 �?connct</span></span><br><span class="line"><span class="comment"># 和打进来的电话的人建立联�? connect 连接</span></span><br><span class="line">from_server_to_client_recv_data = client.recv(<span class="number">1024</span>)</span><br><span class="line"><span class="built_in">print</span>(from_server_to_client_recv_data.decode())</span><br><span class="line"><span class="comment"># 和对方进行交�?�?send 发送信�?</span></span><br><span class="line"></span><br><span class="line">from_client_to_server_send_data = <span class="string">&#x27;我是来自客户端的一条数�?</span></span><br><span class="line"><span class="string">client.send(from_client_to_server_send_data.encode())</span></span><br><span class="line"><span class="string"># 挂断电话 close</span></span><br><span class="line"><span class="string">client.close()</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/1.4TCP%E4%BA%94%E5%B1%82%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/1.4TCP%E4%BA%94%E5%B1%82%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-1-4TCP���Э��date-2023-01-01categories-Blogtags-Blog">title: 1.4TCP���Э��<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>TCP五层协议</h1>
<h2 id="【一】物理层">【一】物理层</h2>
<h3 id="�-）物理层由来">�?）物理层由来</h3>
<ul>
<li>上面提到，孤立的计算机之间要想一起玩，就必须接入<code>internet</code>，言外之意就是计算机之间必须完成组网</li>
</ul>
<h3 id="�-）物理层功能">�?）物理层功能</h3>
<ul>
<li>主要是基于电器特性发送高低电压（电信号），高电压对应数字1，低电压对应数字0</li>
</ul>
<h2 id="【二】数据链路层">【二】数据链路层</h2>
<h3 id="�-）数据链路层的由�">�?）数据链路层的由�?</h3>
<ul>
<li>单纯的电信号0�?没有任何意义，必须规定电信号多少位一组，每组什么意�?</li>
</ul>
<h3 id="�-）数据链路层的功�">�?）数据链路层的功�?</h3>
<ul>
<li>定义了电信号的分组形�?</li>
</ul>
<h3 id="�-）补�">�?）补�?</h3>
<h4 id="�-】以太网协议">�?】以太网协议</h4>
<ul>
<li>早期各个公司都有自己的分组方式，后来形成了统一的标准，�?<em>以太网协议（<code>ethernet</code>�?</em></li>
<li><code>ethernet</code>规定
<ul>
<li>一组电信号构成一个数据包，叫做“帧�?</li>
<li>每一数据帧分成：报头head和数据data两部�?
<ul>
<li><code>head：Head</code>方法常用于检查资源是否存在、检查资源的更新情况或获取HTTP响应的头部信息等场景�?</li>
</ul>
</li>
</ul>
</li>
<li><code>head</code>包含（固�?8个字节）�?
<ul>
<li>字节就是：计算机信息技术中用于计量存储容量的一种计量单�?</li>
<li>发送�?源地址�?个字�?</li>
<li>接收�?目标地址�?个字�?</li>
<li>数据类型�?个字�?</li>
</ul>
</li>
<li>data包含（最�?6字节，最�?500字节）：
<ul>
<li>数据包的具体内容</li>
</ul>
</li>
<li>head长度+data长度=最�?4字节，最�?518字节，超过最大限制就分片发�?</li>
</ul>
<h4 id="2-mac地址">[2]mac地址</h4>
<ul>
<li>head中包含的源和目标地址由来：<code>ethernet</code>规定接入<code>internet</code>的设备都必须具备网卡，发送端和接收端的地址便是指网卡的地址，即mac地址</li>
<li>mac地址：每块网卡出厂时都被烧制上一个世界唯一的mac地址，长度为48位二进制，通常�?2�?6进制数表示（**前六位是厂商编号，后六位是流水线�?*�?
<ul>
<li>ether <code>00�?6�?e�?a�?3：a0</code></li>
</ul>
</li>
</ul>
<h4 id="3-广播">[3]广播</h4>
<ul>
<li>有了mac地址，同一网络内的两台主机就可以通信了（一台主机通过<code>arp</code>协议获取另外一台主机的mac地址�?</li>
<li><code>ethernet</code>采用最原始的方式，广播的方式进行通信，即计算机通信基本靠吼</li>
</ul>
<h2 id="【三】网络层">【三】网络层</h2>
<h3 id="�-）网络层的由�">�?）网络层的由�?</h3>
<ul>
<li>有了<code>ethernet</code>、mac地址、广播的发送方式，世界上的计算机就可以通信�?</li>
<li>问题是世界范围的互联网是由一个个彼此隔离的小的局域网组成的，那么如果所有的通信都采用以太网的广播方式，那么一台机器发送的包全世界都会收到</li>
<li>这将会是一场灾难，不仅仅是效率�?</li>
<li>必须找出一种方法来区分哪些计算机属于同一广播域，哪些不是，如果是就采用广播的方式发�?</li>
<li>如果不是，就采用路由的方式（向不同广播域／子网分发数据包），mac地址是无法区分的，它只跟厂商有关</li>
</ul>
<h3 id="�-）网络层功能">�?）网络层功能</h3>
<ul>
<li>网络地址：引入一套新的地址用来区分不同的广播域/子网，这套地址就叫网络地址�?</li>
</ul>
<h3 id="�-）补�-2">�?）补�?</h3>
<h4 id="�-】网络知识补�">�?】网络知识补�?</h4>
<h5 id="�-）什么是互联�">�?）什么是互联�?</h5>
<ul>
<li>将计算机连接起来的介�?</li>
<li>互联网是一种全球性的计算机网络，通过将数十亿台设备、网络、数据中心互相连接的方式实现信息共享</li>
</ul>
<h5 id="�-）互联网建立的目�">�?）互联网建立的目�?</h5>
<ul>
<li>方便大家在全球范围内进行信息交互和数据交�?</li>
<li>基于互联网的数据交互可以使用户在任何时间，任何地点获取所需的信息和服务，大大提高了信息传递的速度和效�?</li>
<li>就是基于互联网做数据交互或服务器进行通信。在这种通信中，用户可以通过发送请求来获取所需的资源，如网页内容、电子邮件、文件等，同时也可以向其他用户提供自己的资源�?</li>
</ul>
<h4 id="�-）上网的本质">�?）上网的本质</h4>
<ul>
<li>基于网线去访问其它计算机的资�?</li>
<li>我们的计算机也可以称之为服务�?服务端（专门对外提供服务�?</li>
</ul>
<h4 id="�-】ip">�?】<code>ip</code></h4>
<h5 id="�-】ip协议">�?】<code>ip</code>协议</h5>
<ul>
<li>规定网络地址的协议叫做<code>ip</code>协议，它定义的地址称之为<code>ip</code>地址，广泛采用的<code>v4</code>版本即<code>ipv4</code>，它规定网络地址�?2�?进制表示</li>
<li>ip的范围：0.0.0.0-255.255.255.255</li>
<li>一个<code>ip</code>地址通常写成四段十进制数
<ul>
<li>172.16.10.1</li>
</ul>
</li>
</ul>
<h5 id="�-】ip地址分成两部�">�?】<code>ip</code>地址分成两部�?</h5>
<ul>
<li>网络部分：标识子�?</li>
<li>主机部分：标识主�?</li>
<li>**：单纯的<code>ip</code>地址段只是标识了<code>ip</code>地址的种类，从网络部分或主机部分都无法辨识一个<code>ip</code>所处的子网
<ul>
<li>172.16.10.1�?72.16.10.2�?<em>不能确定二者处于同一子网</em>*</li>
</ul>
</li>
</ul>
<h5 id="�-】子网掩�">�?】子网掩�?</h5>
<ul>
<li>
<p>所谓”子网掩码”，就是表示子网络特征的一个参数�?</p>
</li>
<li>
<p>它在形式上等同于IP地址，也是一�?2位二进制数字，它的网络部分全部为1，主机部分全部为0�?</p>
<p>○比如，IP地址172.16.10.1，如果已知网络部分是�?4位，主机部分是后8�?</p>
<p>○那么子网络掩码就是11111111.11111111.11111111.00000000</p>
<p>○写成十进制就是255.255.255.0�?</p>
<p>●知道”子网掩码”，我们就能判断，任意两个<code>IP</code>地址是否处在同一个子网络�?</p>
<p>○方法是将两个<code>IP</code>地址与子网掩码分别进行AND运算（两个数位都�?，运算结果为1，否则为0），然后比较结果是否相同</p>
<p>○如果是的话，就表明它们在同一个子网络中，否则就不是�?</p>
<p>●比如，已知<code>IP</code>地址172.16.10.1�?72.16.10.2的子网掩码都�?55.255.255.0，请问它们是否在同一个子网络？两者与子网掩码分别进行AND运算�?</p>
<p>○<code>172.16.10.1�?0101100.00010000.00001010.000000001</code></p>
<p>○<code>255255.255.255.0:11111111.11111111.11111111.00000000</code></p>
<p>●AND运算得网络地址结果：<code>10101100.00010000.00001010.000000001-&gt;172.16.10.0</code></p>
<p>○<code>172.16.10.2�?0101100.00010000.00001010.000000010</code></p>
<p>○<code>255255.255.255.0:11111111.11111111.11111111.00000000</code></p>
<p>●AND运算得网络地址结果�?0101100.00010000.00001010.000000001-&gt;172.16.10.0</p>
<p>●结果都�?72.16.10.0，因此它们在同一个子网络�?</p>
</li>
<li>
<p>***<em>:**<code>ip</code>协议的作用主要有两个，一个是为每一台计算机分配IP地址，另一个是确定哪些地址在同一个子网络�?</em></p>
</li>
</ul>
<h5 id="�-】ip数据�">�?】<code>ip</code>数据�?</h5>
<ul>
<li>
<p>ip数据包也分为head和data部分，无须为ip包定义单独的栏位，直接放入以太网包的data部分</p>
<ul>
<li>
<p>head：长度为20�?0字节</p>
</li>
<li>
<p>data：最长为65,515字节�?</p>
</li>
</ul>
</li>
<li>
<p>而以太网数据包的”数据”部分，最长只�?500字节�?</p>
</li>
<li>
<p>因此，如果IP数据包超过了1500字节，它就需要分割成几个以太网数据包，分开发送了�?</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>以太网头</th>
<th>ip �?</th>
<th>ip数据</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="�-】ARP协议">�?】ARP协议</h5>
<ul>
<li>
<p>arp协议由来：计算机通信基本靠吼，即广播的方式，所有上层的包到最后都要封装上以太网头，然后通过以太网协议发送，在谈及以太网协议时候，我们了解到通信是基于mac的广播方式实现，计算机在发包时，获取自身的mac是容易的，如何获取目标主机的mac，就需要通过arp协议</p>
</li>
<li>
<p>arp协议功能：广播的方式发送数据包，获取目标主机的mac地址</p>
</li>
<li>
<p>协议工作方式：每台主机ip都是已知�?</p>
<ul>
<li>例如：主�?72.16.10.10/24访问172.16.10.11/24</li>
<li>一：首先通过ip地址和子网掩码区分出自己所处的子网</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>场景</th>
<th>数据包地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>同一子网</td>
<td>目标主机mac，目标主机ip</td>
</tr>
<tr>
<td>不同子网</td>
<td>网关mac，目标主机ip</td>
</tr>
</tbody>
</table>
<ul>
<li>二：分析172.16.10.10/24�?72.16.10.11/24处于同一网络(如果不是同一网络，那么下表中目标ip�?72.16.10.1,通过arp获取的是网关的mac)</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>源mac</th>
<th>目标mac</th>
<th>源ip</th>
<th>目标ip</th>
<th>数据部分</th>
</tr>
</thead>
<tbody>
<tr>
<td>发送端主机</td>
<td>发送端mac</td>
<td>FF:FF:FF:FF:FF:FF</td>
<td>172.16.10.10/24</td>
<td>172.16.10.11/24</td>
<td>数据</td>
</tr>
</tbody>
</table>
<ul>
<li>三：这个包会以广播的方式在发送端所处的自网内传输，所有主机接收后拆开包，发现目标ip为自己的，就响应，返回自己的mac</li>
</ul>
<h2 id="【四】传输层">【四】传输层</h2>
<h3 id="�-）传输层的由�">�?）传输层的由�?</h3>
<ul>
<li>网络层的ip帮我们区分子网，以太网层的mac帮我们找到主机，然后大家使用的都是应用程序，你的电脑上可能同时开启qq，暴风影音，等多个应用程序，</li>
<li>那么我们通过ip和mac找到了一台特定的主机，如何标识这台主机上的应用程序，答案就是端口�?*端口即应用程序与网卡关联的编�?*�?</li>
</ul>
<h3 id="�-）传输层功能">�?）传输层功能</h3>
<ul>
<li>建立端口到端口的通信</li>
<li>补充：端口范�?-65535�?-1023为系统占用端�?</li>
</ul>
<h3 id="�-）tcp协议与adp协议">�?）tcp协议与adp协议</h3>
<h4 id="�-】tcp协议">�?】tcp协议</h4>
<ul>
<li>可靠传输，TCP数据包没有长度限制，理论�?<em>可以无限�?</em></li>
<li>但是为了保证网络的效率，通常<strong>TCP数据包的长度不会超过IP数据包的长度</strong>，以确保单个TCP数据包不必再分割�?</li>
</ul>
<table>
<thead>
<tr>
<th>以太网头</th>
<th>ip �?</th>
<th>tcp�?</th>
<th>数据</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>tcp报文</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5C7fcb3a52-ff09-4bbe-9e3d-c6678db563ea.png" alt=""></p>
<ul>
<li>tcp三次握手和四次挥�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cd0d84b41-e43c-4254-a62a-b7dd8a61d75a.png" alt=""></p>
<h4 id="�-】udp协议">�?】udp协议</h4>
<ul>
<li>不可靠传输，”报头”部分一共只�?个字节，总长度不超过65,535字节，正好放进一个IP数据包�?</li>
</ul>
<table>
<thead>
<tr>
<th>以太网头</th>
<th>ip�?</th>
<th>udp�?</th>
<th>数据</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="【五】应用层">【五】应用层</h2>
<h3 id="�-）应用层的由�">�?）应用层的由�?</h3>
<ul>
<li>用户使用的都是应用程序，均工作于应用层，互联网是开发的，大家都可以开发自己的应用程序，数据多种多样，必须规定好数据的组织形式</li>
</ul>
<h3 id="�-）应用层功能">�?）应用层功能</h3>
<ul>
<li>规定应用层的数据格式</li>
<li>例：TCP协议可以为各种各样的程序传递数�?</li>
<li>比如Email、WWW、FTP等等�?</li>
<li>那么，必须有不同协议规定电子邮件、网页、FTP数据的格式，这些应用程序协议就构成了”应用层”�</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/1.4%20%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%8E%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/1.4%20%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%8E%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-1-4-ʲo�����u�����date-2023-01-01categories-Blogtags-Blog">title: 1.4 ʲô�����û�����<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>【一】什么是与用户交�?</h1>
<ul>
<li>交互的本质就是输入与输出</li>
<li>用户交户就是人往计算机中input/输入数据，print/输出数据</li>
</ul>
<h1>【二】为什么要与用户交�?</h1>
<ul>
<li>为了让计算机像人一样与用户沟通交�?</li>
<li>比如
<ul>
<li>以前上银行取钱就是去人工柜台把卡给人家、密码告诉人家然后取�?</li>
<li>现在用户直接去ATM自动取款机里面取�?</li>
<li>ATM机就像一台计算机，用户也必须要把账号密码告诉ATM�?</li>
<li>所以我们的程序中必须有相应的机制来控制计算机接收用户输入的内容</li>
<li>并且输出结果</li>
</ul>
</li>
</ul>
<h1>【三】如何与用户交互</h1>
<h2 id="�-】输入（input�">�?】输入（input�?</h2>
<ul>
<li>在python3中input功能就会等待用户的输�?
<ul>
<li>用户输入一些内容，用户按下回车键后，input函数会返回用户输入的内容</li>
<li>input接受的所有数据类型都是str类型</li>
</ul>
</li>
<li>input接收的所有类型都是str类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">username = <span class="built_in">input</span>(<span class="string">&quot;用户的名�?&gt;&gt;&gt;&quot;</span>)</span><br><span class="line">password = <span class="built_in">input</span>(<span class="string">&quot;用户的密�?&gt;&gt;&gt;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(username,<span class="built_in">type</span>(username))<span class="comment">#&lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(password,<span class="built_in">type</span>(password))<span class="comment">#&lt;class &#x27;str&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>然后赋值给等号左边的变量名</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">username = <span class="built_in">input</span>(<span class="string">&quot;请输入你的用户名�?)#请输入你的用户名：Dream #点回车键</span></span><br><span class="line"><span class="string">#username = &quot;</span>Dream<span class="string">&quot;#(输出的Dream就是username的�?</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">password = input(&quot;</span>请输入你的密码：<span class="string">&quot;)  #请输入你的密码：521 #点回车键</span></span><br><span class="line"><span class="string">#password = &quot;</span><span class="number">521</span><span class="string">&quot;#（输出的�?21就是password的值）</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】输出（print�">�?】输出（print�?</h2>
<h3 id="�-）简单字符串">�?）简单字符串</h3>
<ul>
<li>print函数用于控制台输出信息，你可以用print函数显示函数运行的结果和提示信息�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello word!&quot;</span>)<span class="comment">#控制台上显示的是Hello word!</span></span><br><span class="line"><span class="comment">#输出简单的字符�?</span></span><br></pre></td></tr></table></figure>
<h3 id="�-）多个变量输�">�?）多个变量输�?</h3>
<ul>
<li>print函数可以输出多值，用逗号隔开。输出时，各个值之间默认使用空格分�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">age = <span class="number">22</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;姓名�?,name,&quot;</span>年龄:<span class="string">&quot;,age)#姓名: Tom 年龄: 22</span></span><br></pre></td></tr></table></figure>
<h3 id="3-默认end参数">(3)默认end参数</h3>
<ul>
<li>print函数也有一些可选参数，例如end参数指定输出的结尾字符，默认为换行符**“/n”(代表换行)**�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#end参数示例</span></span><br><span class="line"><span class="built_in">print</span>�?Hello<span class="string">&quot;,end=&quot;</span><span class="string">&quot;�?&quot;</span>空格<span class="string">&quot;这里面可以改成任意字�?</span></span><br><span class="line"><span class="string">print(&quot;</span>,Word!<span class="string">&quot;)#Hello Word!</span></span><br></pre></td></tr></table></figure>
<ul>
<li>可以将end参数的值改成任意其它字�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I&quot;</span>,end=<span class="string">&quot;�?)</span></span><br><span class="line"><span class="string">print(&quot;</span>Love<span class="string">&quot;,end=&quot;</span>�?)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;you&quot;</span>,end=<span class="string">&quot;爱￥&quot;</span>)<span class="comment">#I不Love￥you爱￥</span></span><br></pre></td></tr></table></figure>
<h1>【四】运算符</h1>
<ul>
<li>参考网站（菜鸟教程）：<a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-operators.html">https://www.runoob.com/python/python-operators.html</a></li>
</ul>
<h2 id="�-】算数运算符">�?】算数运算符</h2>
<ul>
<li>python支持的算数运算符与数学上计算的符号使用是一致的
<ul>
<li>我们以x=9，y=2为例来依次介绍它�?</li>
</ul>
</li>
</ul>
<h3 id="�-】加法运算符">�?】加法运算符 <code>+</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x + y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出�?1</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】减法运算符">�?】减法运算符 <code>-</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x - y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出�?</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】乘法运算符">�?】乘法运算符 <code>*</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x * y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出�?8</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】除法运算符">�?】除法运算符 <code>/</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x / y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出�?.5</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】取整除运算�">�?】取整除运算�?<code>//</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x // y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出�?</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】求余数运算�">�?】求余数运算�?<code>%</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x % y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出�?</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】幂运算�">�?】幂运算�?<code>**</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x ** y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出�?1</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】比较运算符">�?】比较运算符</h2>
<ul>
<li>比较运算符用来对两个值进行比较，返回的是布尔值Ture或False</li>
</ul>
<h3 id="�-】相等运算符">�?】相等运算符==</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x == y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：False</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】不等运算符�">�?】不等运算符�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x == y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：False</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】大于运算符">�?】大于运算符 <code>&gt;</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x &gt; y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：True</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】小于运算符">�?】小于运算符 <code>&lt;</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x &lt; y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：False</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】大于等于运算符">�?】大于等于运算符 <code>&gt;=</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x &gt;= y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：True</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】小于等于运算符">�?】小于等于运算符 <code>&lt;=</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">result = x &lt;= y</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：False</span></span><br></pre></td></tr></table></figure>
<h2 id="3-赋值运算符">[3]赋值运算符</h2>
<h3 id="�-】增量赋�">�?】增量赋�?</h3>
<h4 id="�-）介�">�?）介�?</h4>
<ul>
<li>增量赋值运算符用于将变量与右侧的表达式相结合，并将结果赋值给变量�?</li>
</ul>
<h4 id="�-）使�">�?）使�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等同�?x = x + y</span></span><br><span class="line">x += y<span class="comment">#下x += y等同于x + y = x它表示将变量 x 的值与 y 相加，并将结果赋值给 x�?</span></span><br><span class="line"><span class="built_in">print</span>(x)  <span class="comment"># 输出�?1</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】链式赋�">�?】链式赋�?</h3>
<h4 id="�-）介�-2">�?）介�?</h4>
<ul>
<li>链式赋值允许在单一语句中给多个变量赋值。这样可以减少代码行数，提高代码的紧凑性�?</li>
</ul>
<h4 id="�-）使�-2">�?）使�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = b = c = <span class="number">5</span>  <span class="comment">#a = b = c = 5 表示同时给变�?a、b、c 赋值为 5�?</span></span><br><span class="line"><span class="built_in">print</span>(a, b, c)  <span class="comment"># 输出�? 5 5</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】交叉赋�">�?】交叉赋�?</h3>
<h3 id="�-）介�-3">�?）介�?</h3>
<ul>
<li>交叉赋值允许在不使用临时变量的情况下，交换两个变量的值�?</li>
</ul>
<h3 id="�-）使�-3">�?）使�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">9</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 交叉赋�?</span></span><br><span class="line">x, y = y, x  <span class="comment">#x, y = y, x 表示将变�?x 的值赋�?y，同时将变量 y 的值赋�?x，实现了两个变量值的交换�?</span></span><br><span class="line"><span class="built_in">print</span>(x, y)  <span class="comment"># 输出�? 9</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】解压赋�">�?】解压赋�?</h3>
<h4 id="�-）介�-4">�?）介�?</h4>
<ul>
<li>解压赋值允许将一个可迭代对象（如列表、元组等）的值解压到多个变量中，以便进一步使用�?</li>
</ul>
<h3 id="�-）使�-4">�?）使�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">coordinates = (<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压赋�?</span></span><br><span class="line">x, y = coordinates   <span class="comment">#x, y = coordinates 表示将元�?coordinates 中的值解压到变量 x �?y 中，以便分别使用�?</span></span><br><span class="line"><span class="built_in">print</span>(x, y)  <span class="comment"># 输出�? 5</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】逻辑运算�">�?】逻辑运算�?</h2>
<ul>
<li>逻辑运算符用来连接多个条件，进行关联判断，并返回布尔值True或False�?</li>
<li>常用的逻辑运算符有与（and）、或（or）、非（not）�?</li>
<li><img src="D:%5Cpycharm%5CTemporary_notes%5CDay05%5C%E7%AC%94%E8%AE%B0%5Cimage-20240330091303533.png" alt="image-20240330091303533"></li>
</ul>
<h4 id="�-】与运算符（and�">�?】与运算符（and�?</h4>
<ul>
<li>与运算符and在两个条件都为True时，返回True；如果其中一个条件为False,则返回False</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">5</span></span><br><span class="line">y = <span class="number">87</span></span><br><span class="line">result=(x&gt;<span class="number">0</span>)<span class="keyword">and</span>(y&gt;<span class="number">0</span>)  <span class="comment">#(x &gt; 0) and (y &gt; 0) 表示同时判断 x &gt; 0 �?y &gt; 0 是否都为 True，因为两个条件都满足，所以结果为 True�?</span></span><br><span class="line"><span class="built_in">print</span>(result)<span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h4 id="�-】或运算符（or�">�?】或运算符（or�?</h4>
<ul>
<li>或运算符or在两个条件中有一个是True，返回True;如果两个条件都为False，则返回False</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">5</span></span><br><span class="line">y = <span class="number">87</span></span><br><span class="line">result = (x &gt; <span class="number">0</span>) <span class="keyword">or</span> (y &lt; <span class="number">0</span>)  <span class="comment">#(x &gt; 0) or (y &gt; 0) 表示判断 x &gt; 0 或�?y &lt; 0 至少有一个条件为 True，因�?x &gt; 0 �?True，所以结果为 True�?</span></span><br><span class="line"><span class="built_in">print</span>(result)<span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h4 id="�-】非运算逻辑（not�">�?】非运算逻辑（not�?</h4>
<ul>
<li>非运算逻辑用于对一个条件取反，条件为True，则返回False；如果条件为False，则返回True�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">100</span></span><br><span class="line">result=<span class="keyword">not</span>(x&lt;<span class="number">0</span>) <span class="comment">#not (x &gt; 0) 表示对条�?x &gt; 0 取反，因�?x &gt; 0 �?True，所以结果为 False�?</span></span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h4 id="4-连续问题">[4]连续问题</h4>
<h5 id="�-）连续多个and">�?）连续多个and</h5>
<ul>
<li>在连续多个and运算中，如果其中一个条件False，则整个表达式的结果为False；如果条件都为True，则表达式结果为True</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">7</span></span><br><span class="line">y=<span class="number">9</span></span><br><span class="line">z=<span class="number">10</span></span><br><span class="line">result=(x&gt;<span class="number">0</span>)<span class="keyword">and</span>(y&gt;<span class="number">0</span>)<span class="keyword">and</span>(z&gt;<span class="number">0</span>)  <span class="comment">#(x &gt; 0) and (y &gt; 0) and (z &gt; 0) 表示同时判断 x &gt; 0、y &gt; 0 �?z &gt; 0 是否都为 True，因为三个条件都满足，所以结果为 True�?</span></span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h5 id="2-连续多个or">(2)连续多个or</h5>
<ul>
<li>在连续多个or运算中，其中一个条件为True，则运算结果为True；全部条件为False时，运算结果为False</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">7</span></span><br><span class="line">y=<span class="number">9</span></span><br><span class="line">z=<span class="number">10</span></span><br><span class="line">result=(x&gt;<span class="number">0</span>)<span class="keyword">or</span>(y&lt;<span class="number">0</span>)<span class="keyword">or</span>(z&lt;<span class="number">0</span>)  <span class="comment">#(x&gt;0)or(y&lt;0)or(z&lt;0)表示同时判断x&gt;0,y&lt;0,z&lt;0其中是否有条件为True，因为有一个条件为True（x&gt;0），所以运算结果为Ture�?</span></span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h4 id="�-】优先级not-and-or">�?】优先级not&gt;and&gt;or</h4>
<ul>
<li>在逻辑运算中not的优先级最高其次and再其次or</li>
<li>当表达式中同时包含这三种运算符时，<code>not</code> 会首先被计算，然后是 <code>and</code>，最后是 <code>or</code>�?</li>
</ul>
<h5 id="�-）优先级关系">�?）优先级关系</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">3</span> &gt; <span class="number">4</span> <span class="keyword">and</span> <span class="number">4</span> &gt; <span class="number">3</span> <span class="keyword">or</span> <span class="number">1</span> == <span class="number">3</span> <span class="keyword">and</span> <span class="string">&#x27;x&#x27;</span> == <span class="string">&#x27;x&#x27;</span> <span class="keyword">or</span> <span class="number">3</span> &gt; <span class="number">3</span>)<span class="comment">#False</span></span><br></pre></td></tr></table></figure>
<h5 id="�-）区分板�">�?）区分板�?</h5>
<ul>
<li>not的优先级最高，就是把紧跟其后的那个条件结果取反，所以not与紧跟其后的条件不可分割</li>
<li>如果语句中全部是用and连接，或者全部用or连接，那么按照从左到右的顺序依次计算即可</li>
<li>如果语句中既有and也有or，那么先用括号把and的左右两个条件给括起来，然后再进行运�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>((<span class="number">3</span> &gt; <span class="number">4</span> <span class="keyword">and</span> <span class="number">4</span> &gt; <span class="number">3</span>) <span class="keyword">or</span> (<span class="number">1</span> == <span class="number">3</span> <span class="keyword">and</span> <span class="string">&#x27;x&#x27;</span> == <span class="string">&#x27;x&#x27;</span>) <span class="keyword">or</span> <span class="number">3</span> &gt; <span class="number">3</span>)<span class="comment"># False</span></span><br></pre></td></tr></table></figure>
<h5 id="�-）短路运�">�?）短路运�?</h5>
<ul>
<li>逻辑运算的结果一旦可以确�?</li>
<li>那么就以当前处计算到的值作为最终结果返�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#例子</span></span><br><span class="line">result= (<span class="number">10</span> <span class="keyword">and</span> <span class="number">0</span>) <span class="keyword">or</span> (<span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> <span class="number">0</span>) <span class="keyword">or</span> <span class="string">&#x27;abc&#x27;</span> <span class="keyword">or</span> (<span class="string">&#x27;egon&#x27;</span> == <span class="string">&#x27;dsb&#x27;</span> <span class="keyword">and</span> <span class="number">333</span>) <span class="keyword">or</span> <span class="number">10</span> &gt; <span class="number">4</span>  <span class="comment">#�?abc&quot;这里短路�?不要再继续往下执�?</span></span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">#abc</span></span><br><span class="line"></span><br><span class="line">result= (<span class="number">10</span> <span class="keyword">and</span> <span class="number">0</span>) <span class="keyword">or</span> (<span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> <span class="number">0</span>)  <span class="keyword">or</span> (<span class="string">&#x27;egon&#x27;</span> == <span class="string">&#x27;dsb&#x27;</span> <span class="keyword">and</span> <span class="number">333</span>) <span class="keyword">or</span> <span class="number">10</span> &gt; <span class="number">4</span></span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h5 id="�-）短路运算面试题">�?）短路运算面试题</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">or</span> <span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">3</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">0</span> <span class="keyword">and</span> <span class="number">2</span> <span class="keyword">and</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> <span class="keyword">and</span> <span class="number">2</span> <span class="keyword">or</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> <span class="keyword">and</span> <span class="number">2</span> <span class="keyword">or</span> <span class="number">1</span> <span class="keyword">or</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> <span class="keyword">or</span> <span class="literal">False</span> <span class="keyword">and</span> <span class="number">1</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h2 id="�-】成员运算符">�?】成员运算符</h2>
<ul>
<li>成员运算符用于测试序列是否包含特定的元素，可以用字符串、元组、列表等序列类型的数据�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5CDay05%5C%E7%AC%94%E8%AE%B0%5Cimage-20240330104029020.png" alt="image-20240330104029020"></p>
<h3 id="�-】in运算�">�?】in运算�?</h3>
<ul>
<li>如果在序列中找到值返回True，否则返回False</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fruits=[<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;banana&quot;</span>,<span class="string">&quot;cherry&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;banana&quot;</span> <span class="keyword">in</span> fruits) <span class="comment">#True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;tangerine&quot;</span> <span class="keyword">in</span> fruits) <span class="comment">#False</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】not-in-运算�">�?】not in 运算�?</h3>
<ul>
<li>如果在指定的序列中没有找到值返回True；否则返回False</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fruits=[<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;banana&quot;</span>,<span class="string">&quot;cherry&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;banana&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> fruits) <span class="comment">#False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;tangerine&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> fruits) <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】小�">�?】小�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="keyword">not</span> <span class="string">&#x27;lili&#x27;</span> <span class="keyword">in</span> [<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;robin&#x27;</span>])</span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;lili&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;robin&#x27;</span>])</span><br><span class="line"><span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<ul>
<li>注意：虽然下述两种判断可以达到相同的效果，但我们推荐使用第二种格式，因为not in语义更加明确</li>
</ul>
<h2 id="�-】身份运算符">�?】身份运算符</h2>
<ul>
<li>身份运算符用于比较对象的内存地址，判断两个对象是否指向同一块内存地址�?</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5CDay05%5C%E7%AC%94%E8%AE%B0%5Cimage-20240330105545287.png" alt="image-20240330105545287"></p>
<h2 id="�-】is运算�">�?】<code>is</code>运算�?</h2>
<ul>
<li>如果两个变量引用同一个对象，则返�?True，否则返�?False�?</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [1, 2, 3]</span><br><span class="line">b = a</span><br><span class="line">c = [1, 2, 3]</span><br><span class="line"></span><br><span class="line">print(a is b)  # True</span><br><span class="line">print(a is c)  # False</span><br></pre></td></tr></table></figure>
<h2 id="�-】is-not运算�">�?】<code>is not</code>运算�?</h2>
<ul>
<li>如果两个变量引用的不是同一个对象，则返�?True，否则返�?False�?</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [1, 2, 3]</span><br><span class="line">b = a</span><br><span class="line">c = [1, 2, 3]</span><br><span class="line"></span><br><span class="line">print(a is not b)  # False</span><br><span class="line">print(a is not c)  # True</span><br></pre></td></tr></table></figure>
<ul>
<li>这两个运算符主要用于检查对象的标识，即它们是否指向相同的内存地址�?</li>
</ul>
<h1>【补充】<code>==</code>�?<code>is</code></h1>
<ul>
<li>==比较的是值（value）是否相�?</li>
<li>is比较的是内存地址（id）是否相�?</li>
<li>在实际应用中，特别是对于可变对象�?=通常适合比较值，而is更适合用于比较对象的身份�?</li>
<li>id相同，内存地址必定相同，意味着type和value必定相同</li>
<li>value相同type肯定相同，但id可能不同</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">�?�?</span><br><span class="line">x = <span class="string">&#x27;Info Tony:18&#x27;</span> <span class="comment">#1865216957872</span></span><br><span class="line">y = <span class="string">&#x27;Info Tony:18&#x27;</span> <span class="comment">#1865216957872</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(x), <span class="built_in">id</span>(y)) <span class="comment">#x与y的id相同，二者的值也相同</span></span><br><span class="line"><span class="comment">#2346061471152�?346061471152</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(x)) <span class="comment">#&lt;class &#x27;str&#x27;&gt;，值相同type肯定相同</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(y)) <span class="comment">#&lt;class &#x27;str&#x27;&gt;，值相同type肯定相同</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x <span class="keyword">is</span> y) <span class="comment">#True，is比较的是id</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x == y) <span class="comment">#True，等号比较的是value</span></span><br><span class="line"></span><br><span class="line">�?�?</span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a)) <span class="comment">#1455830618048</span></span><br><span class="line">b = a</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b)) <span class="comment">#1455830618048</span></span><br><span class="line">c = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(c)) <span class="comment">#1455837781504</span></span><br><span class="line"><span class="comment"># 因为 a 是b来的所以a是b</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b) <span class="comment">#True</span></span><br><span class="line"><span class="comment"># 因为a �?c 是两个独立的内存空间，所�?a 不是 c</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> c) <span class="comment">#False</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> <span class="keyword">not</span> c) <span class="comment">#True</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/1.8%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/1.8%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-1-8�������ֺ��Jλ���date-2023-01-01categories-Blogtags-Blog">title: 1.8�������ֺ��Ĵλ���<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>TCP三次握手和四次挥�?</h1>
<ul>
<li>只发生在TCP协议�?</li>
</ul>
<h2 id="【一】三次握�">【一】三次握�?</h2>
<p>发生在连接阶�?</p>
<ul>
<li>第一次握�?
<ul>
<li>客户端发出请求（一定要有数据），需要和服务端建立联�?</li>
</ul>
</li>
<li>第二次握�?
<ul>
<li>服务端接收到客户端发来的请求</li>
<li>ACK=1：表示收到了当前客户端发送给我的请求</li>
</ul>
</li>
<li>第三次握�?
<ul>
<li>客户端收到服务端发来的请求（一定要带数据）</li>
<li>表示建立连接成功
<ul>
<li>ACK=1:表示已经被正确接�?</li>
<li>SYN=1:一个俩及请求或是连接接收内报文</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="【二】四次挥�">【二】四次挥�?</h2>
<p>发生在断开连接阶段</p>
<ul>
<li>第一次挥�?
<ul>
<li>客户端向服务端发出断开连接请求</li>
</ul>
</li>
<li>第二次挥�?
<ul>
<li>服务端接收到客户端发来的请求</li>
<li>服务端拒绝断开连接</li>
</ul>
</li>
<li>第三次挥�?
<ul>
<li>不断开的原因是，数据还没有处理完成</li>
<li>处理完之�?</li>
<li>向服务端请求表示可以断开连接</li>
</ul>
</li>
<li>第四次挥�?
<ul>
<li>客户端接收到服务端的断开连接的请�?</li>
<li>断开连接</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/1.6%E7%B2%98%E5%8C%85%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/1.6%E7%B2%98%E5%8C%85%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-1-6ճ������date-2023-01-01categories-Blogtags-Blog">title: 1.6ճ������<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>粘包问题</h1>
<h2 id="【一】介�">【一】介�?</h2>
<ul>
<li>
<p>粘包问题只会发生在TCP协议�?–》流失协�?-》不断的传输数据</p>
<ul>
<li>因为TCP是流式协�?</li>
</ul>
</li>
<li>
<p>不会发生在UDP协议�?-》报式协�?–》一次性传输数�?</p>
</li>
</ul>
<h2 id="【二】粘包问�">【二】粘包问�?</h2>
<ul>
<li>客户端发送数据远远超出服务端的接受范�?</li>
<li>就会导致不同数据之间的混�?
<ul>
<li>意思就是你第一次发送的数据太多没有发完，就会跟着第二次混在一块发送�?</li>
</ul>
</li>
</ul>
<h2 id="【三】解决思路和办�">【三】解决思路和办�?</h2>
<ul>
<li>问题产生在服务端
<ul>
<li>原因是客户端传给服务端数据，但是服务端不知道接收的总数据的大小，只能按默认的大小来接收</li>
</ul>
</li>
<li>解决办法
<ul>
<li>客户端发送数据的时候将数据总在一块，一次性发送给服务�?</li>
<li>服务端接收到总数据的大小长度，根据自己的容量大小分批接收</li>
</ul>
</li>
</ul>
<h2 id="【四】例�">【四】例�?</h2>
<ul>
<li>解决方法</li>
<li><code>server.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个server对象</span></span><br><span class="line">server = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 解决端口被占用的问题</span></span><br><span class="line">server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># 绑定IP和PORT</span></span><br><span class="line">server.bind(settings.ADDR)</span><br><span class="line"><span class="comment"># 服务端多了一步监听对�?</span></span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 多了一步建立连接对�?</span></span><br><span class="line"><span class="comment"># 就是客户端传过来的数�?</span></span><br><span class="line">conn, addr = server.accept()</span><br><span class="line"><span class="comment"># while循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 这里面交流的对象永远是上面接收到的那一�?</span></span><br><span class="line">        <span class="comment"># conn,addr = server.accept():接收到新的对象，忘记上一个连接过的对�?</span></span><br><span class="line">        <span class="comment"># 先接收客户端传过来的第一个数据struct打包好的四个字节的数�?</span></span><br><span class="line">        json_pack_data = conn.recv(<span class="number">1024</span>)</span><br><span class="line">        <span class="comment"># 判断是不是空�?</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> json_pack_data:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="comment"># 对数据解�?&gt;得到json二进制长度数�?</span></span><br><span class="line">        json_bytes_length = settings.unpack_data(data=json_pack_data)</span><br><span class="line">        <span class="comment"># 根据json二进制数据长度解出JSON二进制数�?</span></span><br><span class="line">        json_data_bytes = conn.recv(json_bytes_length)</span><br><span class="line">        <span class="comment"># 将json二进制数据转为json字符串数�?</span></span><br><span class="line">        json_str = json_data_bytes.decode()</span><br><span class="line">        <span class="comment"># 将json字符串数据转换为python的字�?</span></span><br><span class="line">        data_info = json.loads(json_str)</span><br><span class="line">        <span class="comment"># 字典特�?-》键取�?</span></span><br><span class="line">        <span class="comment"># 得到总的数据长度</span></span><br><span class="line">        data_length = data_info.get(<span class="string">&#x27;data_length&#x27;</span>)</span><br><span class="line">        <span class="comment"># 开始分批接收数�?</span></span><br><span class="line">        <span class="comment"># 定义数据</span></span><br><span class="line">        <span class="comment"># 定义总数�?--&gt;二进�?</span></span><br><span class="line">        all_data = <span class="string">b&#x27; &#x27;</span></span><br><span class="line">        <span class="comment"># 每次只能接收数据的大�?</span></span><br><span class="line">        size = <span class="number">1024</span></span><br><span class="line">        <span class="comment"># 引入方法---》divmod--》得到商和余�?</span></span><br><span class="line">        <span class="comment"># 比如</span></span><br><span class="line">        <span class="comment"># data_length : 5</span></span><br><span class="line">        <span class="comment"># size : 2</span></span><br><span class="line">        <span class="comment"># count : 2 , last_size : 1</span></span><br><span class="line">        count, last_size = <span class="built_in">divmod</span>(data_length, size)</span><br><span class="line">        <span class="comment"># 再定义一个接收数据的大小</span></span><br><span class="line">        all_size = <span class="number">0</span></span><br><span class="line">        <span class="comment"># while循环</span></span><br><span class="line">        <span class="keyword">while</span> all_size &lt; count + <span class="number">1</span>:</span><br><span class="line">            all_size += <span class="number">1</span></span><br><span class="line">            <span class="comment"># 接收到每一次的数据并和总数据拼�?</span></span><br><span class="line">            <span class="keyword">if</span> all_size == count + <span class="number">1</span>:</span><br><span class="line">                all_data += conn.recv(size)</span><br><span class="line">                from_client_recv_data = all_data.decode()</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&#x27;这是来自客户端的数据 :&gt;&gt;&gt;&gt;  \n <span class="subst">&#123;from_client_recv_data&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                to_client_send_data = <span class="built_in">input</span>(<span class="string">&quot;请输入发送给客户端的数据 :&gt;&gt;&gt;&gt; &quot;</span>).strip()</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> to_client_send_data:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&#x27;不允许发送空的数�?)</span></span><br><span class="line"><span class="string">                    continue</span></span><br><span class="line"><span class="string">                if to_client_send_data == &#x27;</span>q<span class="string">&#x27;:</span></span><br><span class="line"><span class="string">                    print(f&#x27;</span>当前连接已退�?<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">                # 编码</span></span><br><span class="line"><span class="string">                to_client_send_data = to_client_send_data.encode()</span></span><br><span class="line"><span class="string">                # 发送数�?</span></span><br><span class="line"><span class="string">                conn.send(to_client_send_data)</span></span><br><span class="line"><span class="string">                break</span></span><br><span class="line"><span class="string">    except Exception as e:</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string"># 关闭服务</span></span><br><span class="line"><span class="string">conn.close()</span></span><br><span class="line"><span class="string">server.close()</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>client.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment"># 导入模块�?</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个函�?-》启动命�?</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_cmd</span>(<span class="params">command</span>):</span><br><span class="line">    result = subprocess.run(</span><br><span class="line">        command,  <span class="comment"># 子进程要执行的命�?</span></span><br><span class="line">        shell=<span class="literal">True</span>,  <span class="comment"># 执行的是shell命令</span></span><br><span class="line">        <span class="comment"># 存放的是执行命令成功的结�?</span></span><br><span class="line">        stdout=subprocess.PIPE,</span><br><span class="line">        <span class="comment"># 存放的是执行命令失败的结�?</span></span><br><span class="line">        stderr=subprocess.PIPE,</span><br><span class="line">        encoding=<span class="string">&quot;gbk&quot;</span>,</span><br><span class="line">        timeout=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># returncode属性是run()函数返回结果的状�?</span></span><br><span class="line">    <span class="keyword">if</span> result.returncode == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> result.stdout</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> result.stderr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个server对象</span></span><br><span class="line">client = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 绑定IP和PORT</span></span><br><span class="line">client.connect(settings.ADDR)</span><br><span class="line"><span class="comment"># 创建一个while循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># 输入发送数�?</span></span><br><span class="line">    command = <span class="built_in">input</span>(<span class="string">&quot;请输入你要执行的命令�?---&quot;</span>).strip()</span><br><span class="line">    <span class="comment"># 判断</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> command:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;不允许发送空数据&quot;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">if</span> command == <span class="string">&quot;q&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;当前连接已退出！&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="comment"># 执行本地的命令，获取到当前命令结�?</span></span><br><span class="line">    result = run_cmd(command=command)</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">    <span class="comment"># 将命令的结果进行编码，转换成二进制数�?</span></span><br><span class="line">    result_bytes = result.encode()</span><br><span class="line">    <span class="comment"># 计算长度</span></span><br><span class="line">    data_length = <span class="built_in">len</span>(result)</span><br><span class="line">    <span class="comment"># 加一个数据字典，将所有的数据概览</span></span><br><span class="line">    <span class="comment"># 获得�?</span></span><br><span class="line">    salt = uuid.uuid4().<span class="built_in">hex</span></span><br><span class="line">    <span class="comment"># 加密</span></span><br><span class="line">    encrypted = settings.encrypt_data(data=result_bytes, salt=salt)</span><br><span class="line">    <span class="built_in">print</span>(data_length)</span><br><span class="line">    <span class="comment"># 建立字典</span></span><br><span class="line">    send_data_info = &#123;</span><br><span class="line">        <span class="string">&#x27;command&#x27;</span>: command,</span><br><span class="line">        <span class="string">&#x27;data_length&#x27;</span>: data_length,</span><br><span class="line">        <span class="string">&#x27;salt&#x27;</span>: salt,</span><br><span class="line">        <span class="string">&#x27;encrypted&#x27;</span>: encrypted</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># 将上面打包的数据---》发送给服务�?</span></span><br><span class="line">    <span class="comment"># 字典格式无法发送，将字典转换为字符串数据用--》json</span></span><br><span class="line">    <span class="comment"># dump：处理文件数�?</span></span><br><span class="line">    <span class="comment"># dumps：将格式转换</span></span><br><span class="line">    json_str = json.dumps(send_data_info)</span><br><span class="line">    <span class="comment"># 将转换好的字符串数据再转换成二进制数据�?</span></span><br><span class="line">    json_bytes = json_str.encode()</span><br><span class="line">    <span class="comment"># json字符串转换的二进制数据还是会很长�?</span></span><br><span class="line">    <span class="comment"># 于是我们想到--》struct模块：将某个数据转换为四个字节的二进制数�?</span></span><br><span class="line">    <span class="comment"># 将数据打�?</span></span><br><span class="line">    json_length_pack = settings.pack_data(data_length=<span class="built_in">len</span>(json_bytes))</span><br><span class="line">    <span class="comment"># 发送数�?-》先发送打包好的struct数据--》再发送json数据--》最后发送原始数�?</span></span><br><span class="line">    <span class="comment"># 服务端接受的顺序取决于客户端发送的顺序</span></span><br><span class="line">    <span class="comment"># 先发送打包好的struct数据</span></span><br><span class="line">    client.send(json_length_pack)</span><br><span class="line">    <span class="built_in">print</span>(json_length_pack)</span><br><span class="line">    <span class="comment"># 再发送json数据-&gt;二进制数�?</span></span><br><span class="line">    client.send(json_bytes)</span><br><span class="line">    <span class="comment"># 最后发送原始数�?--&gt;命令二进制数�?</span></span><br><span class="line">    client.send(result_bytes)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 接收服务端返回的消息</span></span><br><span class="line">    from_server_recv_data = client.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># 解码</span></span><br><span class="line">    from_server_recv_data = from_server_recv_data.decode()</span><br><span class="line">    <span class="comment"># 判断---解码得到的是q的话就代表服务端已退�?</span></span><br><span class="line">    <span class="keyword">if</span> from_server_recv_data == <span class="string">&quot;q&quot;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;来自服务端的数据�?----<span class="subst">&#123;from_server_recv_data&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment"># 关闭连接对象--要在while循环外面</span></span><br><span class="line">client.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><code>settings.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Current username：粘包问�?</span></span><br><span class="line"><span class="comment"># current date�?024/5/15</span></span><br><span class="line"><span class="comment"># current time �?0:39</span></span><br><span class="line"></span><br><span class="line">IP = <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line"><span class="comment"># localhost �?127.0.0.1区别</span></span><br><span class="line"><span class="comment"># DNS解析 --&gt; 一串字符解析成IP</span></span><br><span class="line"><span class="comment"># localhost 就是一个域�?只能在本地使�?</span></span><br><span class="line">PORT = <span class="number">8006</span></span><br><span class="line">ADDR = (IP, PORT)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#加密</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">encrypt_data</span>(<span class="params">data, salt</span>):</span><br><span class="line">    data = <span class="built_in">str</span>(data) + <span class="built_in">str</span>(salt)</span><br><span class="line">    data = data.encode()</span><br><span class="line">    md5 = hashlib.md5()</span><br><span class="line">    md5.update(data)</span><br><span class="line">    <span class="keyword">return</span> md5.hexdigest()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个包含不同类型字段的格式字符�?</span></span><br><span class="line">format_string = <span class="string">&#x27;i&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对数据进行打�?</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pack_data</span>(<span class="params">data_length: <span class="built_in">int</span></span>):</span><br><span class="line">    <span class="comment"># 使用 struct.pack 将数据打包成二进制字节串</span></span><br><span class="line">    packed_data = struct.pack(format_string, data_length)</span><br><span class="line">    <span class="keyword">return</span> packed_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对数据解�?</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">unpack_data</span>(<span class="params">data</span>):</span><br><span class="line">    data_length = struct.unpack(format_string, data)</span><br><span class="line">    <span class="keyword">return</span> data_length[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h2 id="【五】小插曲（subprocess模块�">【五】小插曲（subprocess模块�?</h2>
<ul>
<li>相当于一个模拟终端（cmd�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_cmd</span>(<span class="params">command</span>):</span><br><span class="line">    result = subprocess.run(</span><br><span class="line">        command,  <span class="comment"># 子进程要执行的命�?</span></span><br><span class="line">        shell=<span class="literal">True</span>,  <span class="comment"># 执行的是shell的命�?</span></span><br><span class="line">        <span class="comment"># 存放的是执行命令成功的结�?</span></span><br><span class="line">        stdout=subprocess.PIPE,</span><br><span class="line">        <span class="comment"># 存放的是执行命令失败的结�?</span></span><br><span class="line">        stderr=subprocess.PIPE,</span><br><span class="line">        encoding=<span class="string">&quot;gbk&quot;</span>,</span><br><span class="line">        timeout=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># returncode属性是run()函数返回结果的状态�?</span></span><br><span class="line">    <span class="keyword">if</span> result.returncode == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> result.stdout</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> result.stderr</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(run_cmd([<span class="string">&quot;dir&quot;</span>]))<span class="comment">#命令：dir</span></span><br><span class="line">输出<span class="comment">#  驱动�?D 中的卷是 Data</span></span><br><span class="line">    <span class="comment">#  卷的序列号是 6672-D05A</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#  D:\pycharm\project\DAY01\模块 的目�?</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># 2024/05/15  20:28    &lt;DIR&gt;          .</span></span><br><span class="line">    <span class="comment"># 2024/05/14  15:21    &lt;DIR&gt;          ..</span></span><br><span class="line">    <span class="comment"># 2024/05/09  16:53               111 pickle_file</span></span><br><span class="line">    <span class="comment"># 2024/05/09  16:54               932 pickle模块.py</span></span><br><span class="line">    <span class="comment"># 2024/05/15  20:28               731 subprocess模块.py</span></span><br><span class="line">    <span class="comment">#                3 个文�?         1,774 字节</span></span><br><span class="line">    <span class="comment">#                2 个目�?122,309,275,648 可用字节</span></span><br></pre></td></tr></table></figure>
<h2 id="【六】struct模块介绍">【六】struct模块介绍</h2>
<ul>
<li><code>struct.pack()</code>是Python内置模块<code>struct</code>中的一个函�?</li>
<li>他的作用是将指定的数据按照指定的格式进行打包</li>
<li>将打包后的结果转换为一个字节序列（byte string），可以用于在网络上传输或者储存于文件中�?</li>
</ul>
<h3 id="�-）参数简�">�?）参数简�?</h3>
<ul>
<li><code>struct.pack(fmt, v1, v2, ...)</code></li>
<li><code>fmt</code>是格式字符串，指定了需要打包的数据格式，v1,v2则是需要打包的数据</li>
<li>数据按照fmt的格式被编写成二进制的字符串，并返回字节�?</li>
<li>定义fmt用的</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">�?x --- 填充字节</span><br><span class="line">�?c --- char类型，占1字节</span><br><span class="line">�?b --- signed char类型，占1字节</span><br><span class="line">�?B --- unsigned char类型，占1字节</span><br><span class="line">�?h --- short类型，占2字节</span><br><span class="line">�?H --- unsigned short类型，占2字节</span><br><span class="line">�?i --- int类型，占4字节</span><br><span class="line">�?I --- unsigned int类型，占4字节</span><br><span class="line">�?l --- long类型，占4字节�?2位机器上）或�?字节�?4位机器上�?</span><br><span class="line">�?L --- unsigned long类型，占4字节�?2位机器上）或�?字节�?4位机器上�?</span><br><span class="line">�?q --- long long类型，占8字节</span><br><span class="line">�?Q --- unsigned long long类型，占8字节</span><br><span class="line">�?f --- float类型，占4字节</span><br><span class="line">�?d --- double类型，占8字节</span><br><span class="line">�?s --- char[]类型，占指定字节个数，需要用数字指定长度</span><br><span class="line">�?p --- char[]类型，跟s一样，但通常用来表示字符�?</span><br><span class="line">�?? --- bool类型，占1字节</span><br></pre></td></tr></table></figure>
<ul>
<li>例题</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入模块</span></span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义一个包含不同类型字段的格式字符�?</span></span><br><span class="line">format_string = <span class="string">&quot;i&quot;</span></span><br><span class="line"></span><br><span class="line">data_to_pack = <span class="string">&quot;ajeaedji0ejdpoadopdkmscoijaeciojei测测为的味道维持稳定饿挖的低洼d&quot;</span></span><br><span class="line"><span class="comment">#上面数据二进�?</span></span><br><span class="line">data_to_pack_bytes = data_to_pack.encode()</span><br><span class="line"></span><br><span class="line"><span class="comment">#计算长度</span></span><br><span class="line">data_to_pack_len = <span class="built_in">len</span>(data_to_pack_bytes)</span><br><span class="line"><span class="built_in">print</span>(data_to_pack_len)<span class="comment">#80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 struct.pack 将数据打包成二进制字节串</span></span><br><span class="line">packed_data = struct.pack(format_string, data_to_pack_len)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(packed_data)<span class="comment">#b&#x27;P\x00\x00\x00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#解析二进制字符串，恢复原始数�?</span></span><br><span class="line">unpacked_data = struct.unpack(format_string, packed_data)</span><br><span class="line"><span class="built_in">print</span>(unpacked_data)<span class="comment">#(80,)</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/1.7TCP%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/1.7TCP%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-1-7TCPЭ��g��date-2023-01-01categories-Blogtags-Blog">title: 1.7TCPЭ��ģ��<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>TCP协议模型</h1>
<h2 id="【一】一�">【一】一�?</h2>
<ul>
<li><code>client.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个server对象：server:服务�?</span></span><br><span class="line"><span class="comment"># AF_INET:当前连接是基于网络的套接�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM:连接模式是TCP协议的流式模�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM表示创建一个面向连接的、基于TCP协议的socket类型。它是一种可靠的、双向的、点对点的通信协议，提供面向连接的、可靠的数据传输服务�?</span></span><br><span class="line">client = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 绑定IP和PORT</span></span><br><span class="line"><span class="comment"># connect:连接</span></span><br><span class="line">client.connect(setting.ADDR)</span><br><span class="line"><span class="comment"># 直接发送数�?</span></span><br><span class="line">to_server_send_data = <span class="string">f&quot;这是来自客户端的一条数据！&quot;</span></span><br><span class="line"><span class="comment">#转码</span></span><br><span class="line">to_server_send_data = to_server_send_data.encode()</span><br><span class="line"><span class="comment">#发�?</span></span><br><span class="line"><span class="comment">#send：将数据to_server_send_data传给客户�?</span></span><br><span class="line"><span class="comment"># 当你发送的数据较大时，可以做一个循环，分批发�?</span></span><br><span class="line">client.send(to_server_send_data)</span><br><span class="line"><span class="comment">#接收到服务端回的消息</span></span><br><span class="line">from_server_recv_data = client.recv(<span class="number">1024</span>)</span><br><span class="line"><span class="comment">#接收到信息记得解�?</span></span><br><span class="line">from_server_recv_data = from_server_recv_data.decode()</span><br><span class="line"><span class="built_in">print</span>(from_server_recv_data)</span><br><span class="line"><span class="comment">#关闭连接对象</span></span><br><span class="line">client.close()</span><br></pre></td></tr></table></figure>
<ul>
<li><code>server.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="comment"># 引入socket模块</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个server对象：server:服务�?</span></span><br><span class="line"><span class="comment"># AF_INET:当前连接是基于网络的套接�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM:连接模式是TCP协议的流式模�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM表示创建一个面向连接的、基于TCP协议的socket类型。它是一种可靠的、双向的、点对点的通信协议，提供面向连接的、可靠的数据传输服务�?</span></span><br><span class="line">server = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 绑定IP和PORT</span></span><br><span class="line"><span class="comment"># 导入---settings</span></span><br><span class="line"><span class="comment"># bind：将套接字绑定到一个地址</span></span><br><span class="line"><span class="comment"># 必须在listen()或connect()之前调用bind()</span></span><br><span class="line">server.bind(setting.ADDR)</span><br><span class="line"><span class="comment"># 监听连接的对�?</span></span><br><span class="line"><span class="comment"># 5：代表一个端口号</span></span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"><span class="comment">#建立连接对象</span></span><br><span class="line"><span class="comment">#server.accept()阻塞，等来客户端发出请求</span></span><br><span class="line"><span class="comment"># server.accept() 会返回一个元�?</span></span><br><span class="line"><span class="comment">#conn：一个新的socket对象</span></span><br><span class="line"><span class="comment"># addr：客户端的地址信息</span></span><br><span class="line">conn,addr = server.accept()</span><br><span class="line"><span class="built_in">print</span>(conn)</span><br><span class="line"><span class="comment">#&lt;socket.socket fd=332, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=(&#x27;127.0.0.1&#x27;, 8002), raddr=(&#x27;127.0.0.1&#x27;, 50724)&gt;</span></span><br><span class="line"><span class="built_in">print</span>(addr)<span class="comment">#(&#x27;127.0.0.1&#x27;, 50724)</span></span><br><span class="line"><span class="comment">#接收到客户端的数�?</span></span><br><span class="line"><span class="comment">#1024：表示能接收1024个字节的数据</span></span><br><span class="line"><span class="comment">#接收到的是一个字节组（bytes�?</span></span><br><span class="line">from_client_rect_data = conn.recv(<span class="number">1024</span>)</span><br><span class="line"><span class="comment">#将二进制数据进行转码</span></span><br><span class="line">from_client_rect_data = from_client_rect_data.decode()</span><br><span class="line"><span class="built_in">print</span>(from_client_rect_data)<span class="comment">#这是来自客户端的一条数据！</span></span><br><span class="line"><span class="comment">#返回给客户端数据</span></span><br><span class="line">to_client_send_data = <span class="string">&quot;这是来自服务端的一条数据！&quot;</span></span><br><span class="line"><span class="comment">#记得转码--转成二进制数�?</span></span><br><span class="line">to_client_send_data = to_client_send_data.encode()</span><br><span class="line"><span class="comment">#发�?</span></span><br><span class="line"><span class="comment">#send：将数据to_client_send_data传给客户�?</span></span><br><span class="line"><span class="comment"># 当你发送的数据较大时，可以做一个循环，分批发�?</span></span><br><span class="line">conn.send(to_client_send_data)</span><br><span class="line"><span class="comment">#关不连接和关闭服�?</span></span><br><span class="line">conn.close()</span><br><span class="line">server.close()</span><br></pre></td></tr></table></figure>
<h2 id="【二】二�-–空值的时�">【二】二�?–空值的时�?</h2>
<ul>
<li><code>client.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line">client.connect(setting.ADDR)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    to_server_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应服务端：=--&quot;</span>).strip()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> to_server_send_data:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;数据不能为空�?)</span></span><br><span class="line"><span class="string">        continue</span></span><br><span class="line"><span class="string">    if to_server_send_data == &quot;</span>q<span class="string">&quot;:</span></span><br><span class="line"><span class="string">        print(&quot;</span>当前连接已退出！<span class="string">&quot;)</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string">    to_server_send_data = to_server_send_data.encode()</span></span><br><span class="line"><span class="string">    client.send(to_server_send_data)</span></span><br><span class="line"><span class="string">    from_server_recv_data = client.recv(1024)</span></span><br><span class="line"><span class="string">    from_server_recv_data = from_server_recv_data.decode()</span></span><br><span class="line"><span class="string">    print(f&quot;</span>接收服务端的信息--&#123;from_server_recv_data&#125;<span class="string">&quot;)</span></span><br><span class="line"><span class="string">#关闭连接对象</span></span><br><span class="line"><span class="string">client.close()</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>server.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Current username：socket </span></span><br><span class="line"><span class="comment"># current date�?024/5/15</span></span><br><span class="line"><span class="comment"># current time �?6:54</span></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="comment"># 引入socket模块</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">server = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line">server.bind(setting.ADDR)</span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"><span class="comment">#放在这进入while循环中的哪个连接对象会一致不变，永远会是同一�?</span></span><br><span class="line">conn, addr = server.accept()</span><br><span class="line"><span class="comment"># if conn == &quot;q&quot;:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment">#conn, addr = server.accept()，在while循环外面的话每次接收的就是一个新的对�?</span></span><br><span class="line">    <span class="comment">#while里面交流的对象永远是conn收到�?</span></span><br><span class="line">    from_client_rect_data = conn.recv(<span class="number">1024</span>)</span><br><span class="line">    from_client_rect_data = from_client_rect_data.decode()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;接收客服端的消息--<span class="subst">&#123;from_client_rect_data&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        to_client_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应客户�?---&quot;</span>).strip()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> to_client_send_data:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;服务端传数据不能为空�?)</span></span><br><span class="line"><span class="string">            continue</span></span><br><span class="line"><span class="string">        if to_client_send_data == &quot;</span>q<span class="string">&quot;:</span></span><br><span class="line"><span class="string">            print(&quot;</span>已退出！<span class="string">&quot;)</span></span><br><span class="line"><span class="string">            break</span></span><br><span class="line"><span class="string">        to_client_send_data = to_client_send_data.encode()</span></span><br><span class="line"><span class="string">        conn.send(to_client_send_data)</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string">conn.close()</span></span><br><span class="line"><span class="string">server.close()</span></span><br></pre></td></tr></table></figure>
<h2 id="【三】三�-–优化">【三】三�?–优化</h2>
<ul>
<li><code>client.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line">client.connect(setting.ADDR)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    to_server_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应服务端：=--&quot;</span>).strip()</span><br><span class="line">    to_server_send_data = to_server_send_data.encode()</span><br><span class="line">    client.send(to_server_send_data)</span><br><span class="line">    from_server_recv_data = client.recv(<span class="number">1024</span>)</span><br><span class="line">    from_server_recv_data = from_server_recv_data.decode()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;接收服务端的信息--<span class="subst">&#123;from_server_recv_data&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment">#关闭连接对象</span></span><br><span class="line">client.close()</span><br></pre></td></tr></table></figure>
<ul>
<li><code>server.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="comment"># 引入socket模块</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">server = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line">server.bind(setting.ADDR)</span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"><span class="comment">#放在这进入while循环中的哪个连接对象会一致不变，永远会是同一�?</span></span><br><span class="line">conn, addr = server.accept()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment">#conn, addr = server.accept()，在while循环外面的话每次接收的就是一个新的对�?</span></span><br><span class="line">    <span class="comment">#while里面交流的对象永远是conn收到�?</span></span><br><span class="line">    from_client_rect_data = conn.recv(<span class="number">1024</span>)</span><br><span class="line">    from_client_rect_data = from_client_rect_data.decode()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;接收客服端的消息--<span class="subst">&#123;from_client_rect_data&#125;</span>&quot;</span>)</span><br><span class="line">    to_client_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应客户�?---&quot;</span>).strip()</span><br><span class="line">    to_client_send_data = to_client_send_data.encode()</span><br><span class="line">    conn.send(to_client_send_data)</span><br><span class="line">conn.close()</span><br><span class="line">server.close()</span><br></pre></td></tr></table></figure>
<h2 id="【四】四�-–while">【四】四�?–while</h2>
<ul>
<li><code>client.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个server对象：server:服务�?</span></span><br><span class="line"><span class="comment"># AF_INET:当前连接是基于网络的套接�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM:连接模式是TCP协议的流式模�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM表示创建一个面向连接的、基于TCP协议的socket类型。它是一种可靠的、双向的、点对点的通信协议，提供面向连接的、可靠的数据传输服务�?</span></span><br><span class="line">client = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 绑定IP和PORT</span></span><br><span class="line"><span class="comment"># connect:连接</span></span><br><span class="line">client.connect(setting.ADDR)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># 直接发送数�?</span></span><br><span class="line">    to_server_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应服务端：=--&quot;</span>).strip()</span><br><span class="line">    <span class="comment"># 转码</span></span><br><span class="line">    to_server_send_data = to_server_send_data.encode()</span><br><span class="line">    <span class="comment"># 发�?</span></span><br><span class="line">    <span class="comment"># send：将数据to_server_send_data传给客户�?</span></span><br><span class="line">    <span class="comment"># 当你发送的数据较大时，可以做一个循环，分批发�?</span></span><br><span class="line">    client.send(to_server_send_data)</span><br><span class="line">    <span class="comment"># 接收到服务端回的消息</span></span><br><span class="line">    from_server_recv_data = client.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># 接收到信息记得解�?</span></span><br><span class="line">    from_server_recv_data = from_server_recv_data.decode()</span><br><span class="line">    <span class="built_in">print</span>(from_server_recv_data)</span><br><span class="line"><span class="comment">#关闭连接对象</span></span><br><span class="line">client.close()</span><br></pre></td></tr></table></figure>
<ul>
<li><code>server.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="comment"># 引入socket模块</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个server对象：server:服务�?</span></span><br><span class="line"><span class="comment"># AF_INET:当前连接是基于网络的套接�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM:连接模式是TCP协议的流式模�?</span></span><br><span class="line"><span class="comment"># SOCK_STREAM表示创建一个面向连接的、基于TCP协议的socket类型。它是一种可靠的、双向的、点对点的通信协议，提供面向连接的、可靠的数据传输服务�?</span></span><br><span class="line">server = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 绑定IP和PORT</span></span><br><span class="line"><span class="comment"># 导入---settings</span></span><br><span class="line"><span class="comment"># bind：将套接字绑定到一个地址</span></span><br><span class="line"><span class="comment"># 必须在listen()或connect()之前调用bind()</span></span><br><span class="line">server.bind(setting.ADDR)</span><br><span class="line"><span class="comment"># 监听连接的对�?</span></span><br><span class="line"><span class="comment"># 5：代表一个端口号</span></span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># 建立连接对象</span></span><br><span class="line">    <span class="comment"># server.accept()阻塞，等来客户端发出请求</span></span><br><span class="line">    <span class="comment"># server.accept() 会返回一个元�?</span></span><br><span class="line">    <span class="comment"># conn：一个新的socket对象</span></span><br><span class="line">    <span class="comment"># addr：客户端的地址信息</span></span><br><span class="line">    conn, addr = server.accept()</span><br><span class="line">    <span class="built_in">print</span>(conn)</span><br><span class="line">    <span class="comment"># &lt;socket.socket fd=332, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=(&#x27;127.0.0.1&#x27;, 8002), raddr=(&#x27;127.0.0.1&#x27;, 50724)&gt;</span></span><br><span class="line">    <span class="built_in">print</span>(addr)  <span class="comment"># (&#x27;127.0.0.1&#x27;, 50724)</span></span><br><span class="line">    <span class="comment"># 接收到客户端的数�?</span></span><br><span class="line">    <span class="comment"># 1024：表示能接收1024个字节的数据</span></span><br><span class="line">    <span class="comment"># 接收到的是一个字节组（bytes�?</span></span><br><span class="line">    from_client_rect_data = conn.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># 将二进制数据进行转码</span></span><br><span class="line">    from_client_rect_data = from_client_rect_data.decode()</span><br><span class="line">    <span class="built_in">print</span>(from_client_rect_data)  <span class="comment"># 这是来自客户端的一条数据！</span></span><br><span class="line">    <span class="comment"># 返回给客户端数据</span></span><br><span class="line">    to_client_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应客户�?---&quot;</span>).strip()</span><br><span class="line">    <span class="comment"># 记得转码--转成二进制数�?</span></span><br><span class="line">    to_client_send_data = to_client_send_data.encode()</span><br><span class="line">    <span class="comment"># 发�?</span></span><br><span class="line">    <span class="comment"># send：将数据to_client_send_data传给客户�?</span></span><br><span class="line">    <span class="comment"># 当你发送的数据较大时，可以做一个循环，分批发�?</span></span><br><span class="line">    conn.send(to_client_send_data)</span><br><span class="line">    <span class="comment"># 关不连接和关闭服�?</span></span><br><span class="line">conn.close()</span><br><span class="line">server.close()</span><br></pre></td></tr></table></figure>
<h2 id="【五】第五代–try">【五】第五代–try</h2>
<ul>
<li><code>client.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line">client.connect(setting.ADDR)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    to_server_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应服务端：=--&quot;</span>).strip()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> to_server_send_data:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;数据不能为空�?)</span></span><br><span class="line"><span class="string">        continue</span></span><br><span class="line"><span class="string">    if to_server_send_data == &quot;</span>q<span class="string">&quot;:</span></span><br><span class="line"><span class="string">        print(&quot;</span>当前连接已退出！<span class="string">&quot;)</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string">    to_server_send_data = to_server_send_data.encode()</span></span><br><span class="line"><span class="string">    client.send(to_server_send_data)</span></span><br><span class="line"><span class="string">    from_server_recv_data = client.recv(1024)</span></span><br><span class="line"><span class="string">    from_server_recv_data = from_server_recv_data.decode()</span></span><br><span class="line"><span class="string">    if from_server_recv_data == &quot;</span>q<span class="string">&quot;:</span></span><br><span class="line"><span class="string">        print(&quot;</span>收到服务端的退出信息！<span class="string">&quot;)</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string">    print(f&quot;</span>接收服务端的信息--&#123;from_server_recv_data&#125;<span class="string">&quot;)</span></span><br><span class="line"><span class="string">#关闭连接对象</span></span><br><span class="line"><span class="string">client.close()</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>server.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> conf <span class="keyword">import</span> setting</span><br><span class="line"><span class="comment"># 引入socket模块</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">server = socket.socket(family=socket.AF_INET, <span class="built_in">type</span>=socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line">server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">server.bind(setting.ADDR)</span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"><span class="comment">#放在这进入while循环中的哪个连接对象会一致不变，永远会是同一�?</span></span><br><span class="line">conn, addr = server.accept()</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># conn, addr = server.accept()，在while循环外面的话每次接收的就是一个新的对�?</span></span><br><span class="line">        <span class="comment"># while里面交流的对象永远是conn收到�?</span></span><br><span class="line">        from_client_rect_data = conn.recv(<span class="number">1024</span>)</span><br><span class="line">        from_client_rect_data = from_client_rect_data.decode()</span><br><span class="line">        <span class="comment">#这里接受的数据为空的时�?</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> from_client_rect_data:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;客户端已退出！&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;接收客服端的消息--<span class="subst">&#123;from_client_rect_data&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            to_client_send_data = <span class="built_in">input</span>(<span class="string">&quot;回应客户�?---&quot;</span>).strip()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> to_client_send_data:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;服务端传数据不能为空�?)</span></span><br><span class="line"><span class="string">                continue</span></span><br><span class="line"><span class="string">            if to_client_send_data == &quot;</span>q<span class="string">&quot;:</span></span><br><span class="line"><span class="string">                print(&quot;</span>已退出！<span class="string">&quot;)</span></span><br><span class="line"><span class="string">                # break不能停止，因为客户端还在等在结束信息</span></span><br><span class="line"><span class="string">            to_client_send_data = to_client_send_data.encode()</span></span><br><span class="line"><span class="string">            conn.send(to_client_send_data)</span></span><br><span class="line"><span class="string">            break</span></span><br><span class="line"><span class="string">    except Exception as e:</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string">conn.close()</span></span><br><span class="line"><span class="string">server.close()</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/1.9%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%8F%91%E5%B1%95%E5%8F%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/1.9%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%8F%91%E5%B1%95%E5%8F%B2/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-1-9����ϵͳ�����չʷdate-2023-01-01categories-Blogtags-Blog">title: 1.9����ϵͳ�����չʷ<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>操作系统</h1>
<h2 id="【一】进程的概念">【一】进程的概念</h2>
<ul>
<li>进程就在电脑上正在执行的一个过�?</li>
<li>进程来源于操作系统，是操作系统最核心的概念，是一个抽象问�?</li>
</ul>
<h2 id="【二】为什么要有操作系�">【二】为什么要有操作系�?</h2>
<ul>
<li>筹备所有的硬件就有了操作系统的这个概念</li>
<li>硬盘包括：cpu，硬盘，内存条，显卡，主板。。�?</li>
</ul>
<ol>
<li>一开始要筹备所有操作硬件，必须掌握硬件的每一个细节，很繁琐，开发效率慢</li>
<li>优化：将一部分功能和硬件封装起来，进行优化
<ul>
<li>就像我们的面条版，包装成函数版，再到我们的类</li>
</ul>
</li>
<li>最后诞生了操作系统，将细节的操作功能和操作步骤封装起来，而是暴露给用户一些可以操作的接口和步�?
<ul>
<li>用户不需要了解自己的硬件细节就可以直接操作硬�?</li>
</ul>
</li>
</ol>
<h2 id="【三】什么是操作系统">【三】什么是操作系统</h2>
<ul>
<li>操作系统就是一个协调、管理和控制计算机硬件资源和软件资源的控制程�?</li>
<li>操作系统是位于系统硬件和应用程序之间的中间介�?</li>
</ul>
<h2 id="【四】操作系统的功能">【四】操作系统的功能</h2>
<h3 id="�-】隐藏硬件接�">�?】隐藏硬件接�?</h3>
<ul>
<li>将调用硬件的详细步骤隐藏起来，只会给你一�?..的步�?</li>
<li>根据这些接口自己高度定制自己的程序而不需要考虑硬件细节</li>
</ul>
<h3 id="�-】资源有序化">�?】资源有序化</h3>
<ul>
<li>将应用程序对硬件资源的竞争和请求变得有序�?</li>
</ul>
<h3 id="�-】对资源进行合理的调度和分配">�?】对资源进行合理的调度和分配</h3>
<ul>
<li>记录那个应用程序需要什么资�?</li>
<li>对请求的资源进行分配</li>
<li>中和每一个应用之间的请求</li>
</ul>
<h2 id="【五】如何实现资源有序化">【五】如何实现资源有序化</h2>
<ul>
<li>每一个电脑上有一个操作系统的基本流程：多路复�?</li>
</ul>
<h3 id="�-】时间上的复�">�?】时间上的复�?</h3>
<ul>
<li>方案一：程序一个一个执行，很慢
<ul>
<li>电脑上只有一个cpu就执行方案一</li>
</ul>
</li>
<li>方案二：程序同时执行，效率高一�?
<ul>
<li>电脑上有多个cpu的话就可以执行方案二</li>
</ul>
</li>
<li>这里的cpu是指：硬件cpu上面执行的cpu�?-�?0�?0线程–�?0cpu</li>
</ul>
<h3 id="�-】空间上的复�">�?】空间上的复�?</h3>
<ul>
<li>内存是用来临时存储数据和CPU进行交互�?</li>
<li>谁用就先把内存空间给他用</li>
<li>为啥你既能用qq又能用微信，是因为内存空间切换的足够�?</li>
</ul>
<h3 id="�-】多路复�">�?】多路复�?</h3>
<ul>
<li>我们现在用的电脑就是多路复用</li>
</ul>
<h2 id="【六】操作系统和普通软件的区别">【六】操作系统和普通软件的区别</h2>
<ul>
<li>操作系统
<ul>
<li>操作系统是普通软件的载体</li>
<li>操作系统比较�?</li>
<li>操作系统寿命�?-》开发出一个完整的系统你就会用很久</li>
</ul>
</li>
<li>普通软�?
<ul>
<li>寿命短，一年可能会更新很多个版�?</li>
</ul>
</li>
</ul>
<h2 id="【七】操作系统发展史">【七】操作系统发展史</h2>
<h3 id="�-�-第一代计算机�-940-1955）：真空管和穿孔卡片">�?�?<em>第一代计算机�?940~1955）：真空管和穿孔卡片</em>*</h3>
<h4 id="�-）产生背�">�?）产生背�?</h4>
<ul>
<li>第一代之前人类是想用机械取代人力</li>
<li>第一代计算机的产生是计算机由机械时代进入电子时代的标�?</li>
<li>从Babbage失败之后一直到第二次世界大战，数字计算机的建造几乎没有什么进�?</li>
<li>第二次世界大战刺激了有关计算机研究的爆炸性进展�?</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lowa州立大学的john Atanasoff教授和他的学生Clifford Berry建造了据认为是第一台可工作的数字计算机�?</span><br><span class="line"></span><br><span class="line">该机器使�?00个真空管。大约在同时，Konrad Zuse在柏林用继电器构建了Z3计算机，英格兰布莱切利园的一个小组在1944年构建了Colossus，Howard Aiken在哈佛大学建造了Mark 1，宾夕法尼亚大学的William Mauchley和他的学生J.Presper Eckert建造了ENIAC�?</span><br><span class="line"></span><br><span class="line">这些机器有的是二进制的，有的使用真空管，有的是可编程的，但都非常原始，设置需要花费数秒钟时间才能完成最简单的运算�?</span><br></pre></td></tr></table></figure>
<h4 id="�-）技术背�">�?）技术背�?</h4>
<ul>
<li>同一个小组里的工程师们，设计、建造、编程、操作及维护同一台机�?</li>
<li>所有的程序设计是用纯粹的机器语言编写的，甚至更糟�?</li>
<li>需要通过成千上万根电缆接到插件板上连成电路来控制机器的基本功能�?</li>
<li>没有程序设计语言（汇编也没有），操作系统则是从来都没听说过�?</li>
<li>使用机器的过程更加原始，详见下‘工作过程�?</li>
</ul>
<h4 id="�-）特�">�?）特�?</h4>
<ul>
<li>没有操作系统的概�?所有的程序设计都是直接操控硬件</li>
</ul>
<h4 id="�-）工作过�">�?）工作过�?</h4>
<ul>
<li>程序员在墙上的机时表预约一段时�?</li>
<li>然后程序员拿着他的插件版到机房�?</li>
<li>将自己的插件板街道计算机�?</li>
<li>这几个小时内他独享整个计算机资源</li>
<li>后面的一批人都得等着(两万多个真空管经常会有被烧坏的情况出�?�?</li>
<li>后来出现了穿孔卡片，可以将程序写在卡片上，然后读入机而不用插件板</li>
</ul>
<h4 id="�-）优�">�?）优�?</h4>
<ul>
<li>程序员在申请的时间段内独享整个资�?</li>
<li>可以即时地调试自己的程序（有bug可以立刻处理�?</li>
</ul>
<h4 id="�-）缺�">�?）缺�?</h4>
<ul>
<li>浪费计算机资源，一个时间段内只有一个人用。注意：同一时刻只有一个程序在内存中，被cpu调用执行，比方说10个程序的执行，是串行�?</li>
</ul>
<h3 id="�-�-第二代计算机�-955-1965）：晶体管和批处理系�">�?�?<em>第二代计算机�?955~1965）：晶体管和批处理系�?</em></h3>
<h4 id="�-）产生背�-2">�?）产生背�?</h4>
<ul>
<li>由于当时的计算机非常昂贵，自认很自然的想办法较少机时的浪费�?</li>
<li>通常采用的方法就是批处理系统�?</li>
</ul>
<h4 id="�-）特�-2">�?）特�?</h4>
<ul>
<li>设计人员、生产人员、操作人员、程序人员和维护人员直接有了明确的分�?</li>
<li>计算机被锁在专用空调房间�?</li>
<li>由专业操作人员运行，这便是‘大型机’�?</li>
</ul>
<h4 id="�-）技术背�-2">�?）技术背�?</h4>
<ul>
<li>
<p>有了操作系统的概�?</p>
</li>
<li>
<p>有了程序设计语言�?</p>
</li>
<li>
<ul>
<li>FORTRAN语言或汇编语言，写到纸�?</li>
<li>然后穿孔打成卡片</li>
<li>再将卡片盒带到输入室，交给操作员</li>
<li>然后喝着咖啡等待输出接口</li>
</ul>
</li>
</ul>
<p><img src="http://zhaochunze.dream521.site/2322215-20230625082040911-626478560.jpg" alt="img"></p>
<h4 id="�-）第二代如何解决第一代的问题-缺点">�?）第二代如何解决第一代的问题/缺点</h4>
<ul>
<li>把一堆人的输入攒成一大波输入�?</li>
<li>然后顺序计算（这是有问题的，但是第二代计算也没有解决�?</li>
<li>把一堆人的输出攒成一大波输出</li>
</ul>
<h3 id="�-�-第三代计算机�-965-1980）：集成电路芯片和多道程序设�">�?�?<em>第三代计算机�?965~1980）：集成电路芯片和多道程序设�?</em></h3>
<h4 id="�-）产生背�-3">�?）产生背�?</h4>
<ul>
<li>
<p>20世纪60年代初期，大多数计算机厂商都有两条完全不兼容的生产线�?</p>
</li>
<li>
<ul>
<li>一条是面向字的�?</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>大型的科学计算机</li>
<li>如IBM 7094，见上图，主要用于科学计算和工程计算</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>另外一条是面向字符的：</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>商用计算机，如IBM 1401，见上图</li>
<li>主要用于银行和保险公司从事磁带归档和打印服务</li>
</ul>
</li>
</ul>
</li>
<li>
<p>开发和维护完全不同的产品是昂贵�?</p>
</li>
<li>
<ul>
<li>同时不同的用户对计算机的用途不同�?</li>
</ul>
</li>
</ul>
<h4 id="�-）技术背�-3">�?）技术背�?</h4>
<ul>
<li>
<p>IBM公司试图通过引入system/360系列来同时满足科学计算和商业计算</p>
</li>
<li>
<ul>
<li>360系列低档机与1401相当，高档机�?094功能强很�?</li>
<li>不同的性能卖不同的价格</li>
</ul>
</li>
<li>
<p>360是第一个采用了（小规模）芯片（集成电路）的主流机型</p>
</li>
<li>
<ul>
<li>与采用晶体管的第二代计算机相比，性价比有了很大的提高�?</li>
<li>这些计算机的后代仍在大型的计算机中心里使用，<strong>此乃现在服务器的前身</strong></li>
<li>这些服务器每秒处理不小于千次的请求�?</li>
</ul>
</li>
</ul>
<h4 id="�-）如何解决第二代计算机的问题1">�?）如何解决第二代计算机的问题1</h4>
<ul>
<li>卡片被拿到机房后能够很快的将作业从卡片读入磁盘，于是任何时刻当一个作业结束时，操作系统就能将一个作业从磁带读出，装进空出来的内存区域运行，这种技术叫�?同时的外部设备联机操作：SPOOLING</li>
<li>该技术同时用于输出�?</li>
<li>当采用了这种技术后，就不在需要IBM1401机了，也不必将磁带搬来搬去了（中间俩小人不再需要）</li>
</ul>
<h4 id="�-）如何解决第二代计算机的问题2">�?）如何解决第二代计算机的问题2</h4>
<ul>
<li>
<p>第三代计算机的操作系统广泛应用了第二代计算机的操作系统没有的关键技术：</p>
</li>
<li>
<ul>
<li>多道技�?</li>
</ul>
</li>
<li>
<p>cpu在执行一个任务的过程�?</p>
</li>
<li>
<ul>
<li>若需要操作硬盘，则发送操作硬盘的指令</li>
<li>指令一旦发出，硬盘上的机械手臂滑动读取数据到内存中</li>
<li>这一段时间，cpu需要等待，时间可能很短</li>
<li>但对于cpu来说已经很长很长，长到可以让cpu做很多其他的任务</li>
<li>如果我们让cpu在这段时间内切换到去做其他的任务</li>
<li>这样cpu不就充分利用了吗。这正是多道技术产生的技术背�?</li>
</ul>
</li>
</ul>
<h4 id="�-）多道技�">�?）多道技�?</h4>
<ul>
<li>
<p>多道技术中的多道指的是多个程序</p>
</li>
<li>
<p>多道技术的实现是为了解决多个程序竞争或者说共享同一个资源（比如cpu）的有序调度问题</p>
</li>
<li>
<p>解决方式即多路复�?</p>
</li>
<li>
<ul>
<li>多路复用分为时间上的复用和空间上的复用�?</li>
</ul>
</li>
</ul>
<h5 id="1-空间上的复用"><strong>[1]空间上的复用</strong></h5>
<ul>
<li>将内存分为几部分，每个部分放入一个程序，这样，同一时间内存中就有了多道程序�?</li>
</ul>
<h5 id="2-时间上的复用">[2]<strong>时间上的复用</strong></h5>
<ul>
<li>当一个程序在等待I/O时，另一个程序可以使用cpu</li>
<li>如果内存中可以同时存放足够多的作业，则cpu的利用率可以接近100%</li>
<li>类似于我们小学数学所学的<strong>统筹方法</strong>�?</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">（操作系统采用了多道技术后，可以控制进程的切换</span><br><span class="line"></span><br><span class="line">或者说进程之间去争抢cpu的执行权限�?</span><br><span class="line"></span><br><span class="line">这种切换不仅会在一个进程遇到io时进行，一个进程占用cpu时间过长也会切换</span><br><span class="line"></span><br><span class="line">或者说被操作系统夺走cpu的执行权限）</span><br></pre></td></tr></table></figure>
<h5 id="3-详解�">[3]*<em>详解�?</em></h5>
<ul>
<li>
<p>空间上的复用最大的问题是：</p>
</li>
<li>
<ul>
<li>程序之间的内存必须分�?</li>
<li>这种分割需要在硬件层面实现，由操作系统控制�?</li>
<li>如果内存彼此不分割，则一个程序可以访问另外一个程序的内存�?</li>
</ul>
</li>
<li>
<p>首先丧失的是安全�?</p>
</li>
<li>
<ul>
<li>比如你的qq程序可以访问操作系统的内�?</li>
<li>这意味着你的qq可以拿到操作系统的所有权限�?</li>
</ul>
</li>
<li>
<p>其次丧失的是稳定�?</p>
</li>
<li>
<ul>
<li>某个程序崩溃时有可能把别的程序的内存也给回收�?</li>
<li>比方说把操作系统的内存给回收了，则操作系统崩溃�?</li>
</ul>
</li>
</ul>
<p>第三代计算机的操作系统仍然是批处�?</p>
<ul>
<li>
<p>许多程序员怀念第一代独享的计算�?</p>
</li>
<li>
<ul>
<li>可以即时调试自己的程序�?</li>
<li>为了满足程序员们很快可以得到响应，出现了分时操作系统</li>
</ul>
</li>
</ul>
<h4 id="�-）如何解决第二代计算机的问题3">�?）如何解决第二代计算机的问题3</h4>
<p>分时操作系统�?多个联机终端+多道技�?</p>
<ul>
<li>
<p>20个客户端同时加载到内�?</p>
</li>
<li>
<ul>
<li>�?7在思考，3个在运行</li>
<li>cpu就采用多道的方式处理内存中的�?个程�?</li>
<li>由于客户提交的一般都是简短的指令而且很少有耗时长的</li>
<li>索引计算机能够为许多用户提供快速的交互式服�?</li>
<li>所有的用户都以为自己独享了计算机资�?</li>
</ul>
</li>
<li>
<p>CTTS:</p>
</li>
<li>
<ul>
<li>麻省理工（MIT）在一台改装过�?094机上开发成功的</li>
<li>CTSS兼容分时系统�?<em>第三代计算机广泛采用了必须的保护硬件（程序之间的内存彼此隔离）之后，分时系统才开始流�?</em></li>
</ul>
</li>
<li>
<p>MIT:</p>
</li>
<li>
<ul>
<li>贝尔实验室和通用电气在CTTS成功研制后决定开发能够同时支持上百终端的MULTICS（其设计者着眼于建造满足波士顿地区所有用户计算需求的一台机器）</li>
<li>很明显真是要上天啊，最后摔死了�?</li>
</ul>
</li>
<li>
<p>后来</p>
</li>
<li>
<ul>
<li>一位参加过MULTICS研制的贝尔实验室计算机科学家Ken Thompson开发了一个简易的，单用户版本的MULTICS</li>
<li><strong>这就是后来的UNIX系统</strong>�?</li>
<li>基于它衍生了很多其他的Unix版本，为了使程序能在任何版本的unix上运行，IEEE提出了一个unix标准，即**posix（可移植的操作系统接口Portable Operating System Interface�?*</li>
</ul>
</li>
<li>
<p>后来</p>
</li>
<li>
<ul>
<li>�?987年，出现了一个UNIX的小型克隆，即minix，用于教学使用�?</li>
<li>芬兰学生Linus Torvalds基于它编写了Linux</li>
</ul>
</li>
</ul>
<h3 id="�-�-第四代计算机�-980-至今）：个人计算�">�?�?<em>第四代计算机�?980~至今）：个人计算�?</em></h3>
<ul>
<li>即使可以利用的cpu只有一个（早期的计算机确实如此），也能保证支持（伪）并发的能力�?</li>
<li>将一个单独的cpu变成多个虚拟的cpu（多道技术：时间多路复用和空间多路复�?硬件上支持隔离），没有进程的抽象，现代计算机将不复存在�?</li>
</ul>
<h3 id="�-】发展史概览">�?】发展史概览</h3>
<table>
<thead>
<tr>
<th>计算机发展阶�?</th>
<th>时间</th>
<th>组成</th>
<th>改进</th>
<th>缺陷</th>
</tr>
</thead>
<tbody>
<tr>
<td>第一代计算机</td>
<td>1940~1955</td>
<td>真空管和穿孔卡片</td>
<td></td>
<td>没有操作系统的概�?所有的程序设计都是直接操控硬件</td>
</tr>
<tr>
<td>第二代计算机</td>
<td>1955~1965</td>
<td>晶体管和批处理系�?</td>
<td>批处理，节省机时</td>
<td>全程需要人参与，仍是串行，无法及时调试程序</td>
</tr>
<tr>
<td>第三代计算机</td>
<td>1965~1980</td>
<td>集成电路芯片和多道程序设�?</td>
<td>运用多道技�?</td>
<td></td>
</tr>
<tr>
<td>第四代计算机</td>
<td>1980至今</td>
<td>个人计算�?</td>
<td>支持（伪）并发的能力</td>
<td></td>
</tr>
</tbody>
</table>
<h1>总结</h1>
<h3 id="�-】操作系统的作用">�?】操作系统的作用</h3>
<ul>
<li>隐藏丑陋复杂的硬件接口，提供良好的抽象接�?</li>
<li>管理，调度进程，并且将多个进程对硬件的竞争变得有�?</li>
</ul>
<h3 id="�-】多道技�">�?】多道技�?</h3>
<h4 id="�-）产生背景：针对单核，实现并�">�?）产生背景：针对单核，实现并�?</h4>
<ul>
<li>现在的主机一般是多核，那么每个核都会利用多道技�?�?个cpu，运行于cpu1的某个程序遇到io阻塞，会等到io结束再重新调度，会被调度�?个cpu中的任意一个，具体由操作系统调度算法决定�?</li>
</ul>
<h4 id="�-）空间上的复用：如内存中同时由多道程�">�?）空间上的复用：如内存中同时由多道程�?</h4>
<ul>
<li>空间上的复用指定是在内存中同时运行多个程序，这样可以有效地利用内存资源�?</li>
</ul>
<h4 id="�-）时间上的复用：复用一个cpu的时间片">�?）时间上的复用：复用一个cpu的时间片</h4>
<ul>
<li>
<p>指共享同一台机器的多个进程可以轮流使用CPU，从而避免了长时间等待的情况发生�?</p>
</li>
<li>
<p>强调：遇到io切，占用cpu时间过长也切，核心在于切之前将进程的状态保存下来，这样才能保证下次切换回来时，能基于上次切走的位置继续运行</p>
</li>
</ul>
<h3 id="�-】操作系统发展史">�?】操作系统发展史</h3>
<ul>
<li>第一代计算机�?940-1955）：真空管和穿孔卡片</li>
<li>第二代计算机�?955-1965）：*<em>晶体管和批处理系�?</em></li>
<li>**第三代计算机�?965~1980�?*：集成电路芯片和多道程序设计</li>
<li>第四代计算机�?980-至今）：个人计算�?</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/11.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%88%86%E9%A1%B5%E5%99%A8%E6%8E%A8%E5%88%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/11.0Django%E6%A1%86%E6%9E%B6%E4%B9%8B%E5%88%86%E9%A1%B5%E5%99%A8%E6%8E%A8%E5%88%B0/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-11-0Django���֮��ҳ���Z�date-2023-01-01categories-Blogtags-Blog">title: 11.0Django���֮��ҳ���Ƶ�<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Django框架之分页器推到</h1>
<h2 id="【一】引�">【一】引�?</h2>
<ul>
<li>前端展示的数据有时候会有很�?</li>
<li>一页展示了很多数据，数据量很大，查找不方便</li>
</ul>
<p>解决办法</p>
<ul>
<li>做分页处�?</li>
</ul>
<h2 id="【二】分页推�">【二】分页推�?</h2>
<h3 id="�-】分�">�?】分�?</h3>
<ul>
<li>get请求是可以携带参数的</li>
<li>由此我们可以在前端点击页数的时候，把这个页数一起发送给后端</li>
<li>queryset对象是支持索引取值和切片操作�?
<ul>
<li>不支持负索引取�?</li>
</ul>
</li>
</ul>
<h3 id="�-】代码分�">�?】代码分�?</h3>
<ul>
<li>后端代码分析
<ul>
<li>在后端通过model.objects.all()得到所有数据的quertset对象</li>
<li>queryset对象可以进行切分，但是不支持反向切分</li>
</ul>
</li>
<li>前端展示数据
<ul>
<li>在前端需传入当前的页�?</li>
<li>在后端根据指定的页面进行切分</li>
<li>在前端的url上声明当前的页码</li>
<li><code>http://127.0.0.1:8000/?page=1</code></li>
<li>后端的request.GET.get(‘page’)就可以拿到当前的页码</li>
</ul>
</li>
<li>在后端处�?
<ul>
<li>我们需�?</li>
<li>当前的页码curreny_page</li>
<li>每一页展示的数据量size</li>
<li>起始的页�?start_page</li>
<li>结束的页�?end_page</li>
<li>queryset对象[起始位置：结束位置]
<ul>
<li>列入<code> book_queryset = models.Book.objects.all()[start_page:end_page]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="�-】代码分�-2">�?】代码分�?</h3>
<h4 id="1-页器组件参考bootstrap">(1)页器组件参考bootstrap</h4>
<ul>
<li>参考bootstrap官方文档，拷贝分页器代码进行优化</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">aria-label</span>=<span class="string">&quot;Page navigation&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;pagination&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Previous&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;laquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Next&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;raquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-优化后的代码">(2)优化后的代码</h4>
<ul>
<li>前端</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">`(妯℃澘鏍囩)`</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123; user_obj.username &#125;&#125;` : `&#123;&#123; user_obj.password &#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">`(妯℃澘鏍囩)`</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">aria-label</span>=<span class="string">&quot;Page navigation&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;pagination&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Previous&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;laquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        &#123;# safe取消转义 - 将后端的html页面进行转义，转为前端页�?也可以后端做这件�? #&#125;</span><br><span class="line">        `&#123;&#123; page_html|safe &#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Next&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;raquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>后端</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> UserInfo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># 分页操作 推导</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># �?�?支持切片models.Book.objects.all()[1:20] --- 展示�?0条数�?</span></span><br><span class="line">    <span class="comment"># �?�?分页操作</span></span><br><span class="line">    <span class="comment"># user对象</span></span><br><span class="line">    user_obj = UserInfo.objects.<span class="built_in">all</span>()</span><br><span class="line">    <span class="comment"># 想访问的页数</span></span><br><span class="line">    current_page = request.GET.get(<span class="string">&#x27;page&#x27;</span>, <span class="number">1</span>)  <span class="comment"># 如果获取不到当前页码就展示第一�?</span></span><br><span class="line">    <span class="comment"># 异常捕获</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        current_page = <span class="built_in">int</span>(current_page)</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        current_page = <span class="number">1</span></span><br><span class="line">    <span class="comment"># 每页展示多少�?</span></span><br><span class="line">    per_page_num = <span class="number">10</span></span><br><span class="line">    <span class="comment"># 动态计算出需要的总页�?</span></span><br><span class="line">    all_count = user_obj.count()</span><br><span class="line">    <span class="comment"># divmod得到的是商和余数的元�?</span></span><br><span class="line">    page_count, more = <span class="built_in">divmod</span>(all_count, per_page_num)</span><br><span class="line">    <span class="comment"># 要是有余数的话，页面也要�?</span></span><br><span class="line">    <span class="keyword">if</span> more:</span><br><span class="line">        page_count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 纠正左侧负数页的问题</span></span><br><span class="line">    left_page_count = current_page</span><br><span class="line">    <span class="keyword">if</span> current_page &lt; <span class="number">6</span>:</span><br><span class="line">        current_page = <span class="number">6</span></span><br><span class="line">    page_html = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># 前端动态页面展�?- 后端写好页面传给前端</span></span><br><span class="line">    <span class="keyword">for</span> count <span class="keyword">in</span> <span class="built_in">range</span>(current_page - <span class="number">5</span>, current_page + <span class="number">6</span>):</span><br><span class="line">        <span class="keyword">if</span> left_page_count == count:</span><br><span class="line">            <span class="comment"># 第一页高亮显�?</span></span><br><span class="line">            page_html += <span class="string">f&#x27;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;?page=<span class="subst">&#123;count&#125;</span>&quot; &gt;<span class="subst">&#123;count&#125;</span>&lt;/a&gt;&lt;/li&gt;&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            page_html += <span class="string">f&#x27;&lt;li&gt;&lt;a href=&quot;?page=<span class="subst">&#123;count&#125;</span>&quot; &gt;<span class="subst">&#123;count&#125;</span>&lt;/a&gt;&lt;/li&gt;&#x27;</span></span><br><span class="line">    <span class="comment"># 起始位置</span></span><br><span class="line">    start_page = (current_page - <span class="number">1</span>) * per_page_num</span><br><span class="line">    <span class="comment"># 终止位置</span></span><br><span class="line">    end_page = current_page * per_page_num</span><br><span class="line">    <span class="comment"># 切片</span></span><br><span class="line">    user_queryset = user_obj[start_page:end_page]</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    start_page = (current_page-1) * per_page_num</span></span><br><span class="line"><span class="string">    end_page = current_page * per_page_num</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;index.html&#x27;</span>, <span class="built_in">locals</span>())</span><br></pre></td></tr></table></figure>
<h3 id="�-】分页器模板">�?】分页器模板</h3>
<ul>
<li>创建一个py文件，把下面的代码放进去</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Pagination</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, current_page, all_count, per_page_num=<span class="number">2</span>, pager_count=<span class="number">11</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        封装分页相关数据</span></span><br><span class="line"><span class="string">        :param current_page: 当前�?</span></span><br><span class="line"><span class="string">        :param all_count:    数据库中的数据总条�?</span></span><br><span class="line"><span class="string">        :param per_page_num: 每页显示的数据条�?</span></span><br><span class="line"><span class="string">        :param pager_count:  最多显示的页码个数</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            current_page = <span class="built_in">int</span>(current_page)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            current_page = <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> current_page &lt; <span class="number">1</span>:</span><br><span class="line">            current_page = <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">        <span class="variable language_">self</span>.current_page = current_page</span><br><span class="line"> </span><br><span class="line">        <span class="variable language_">self</span>.all_count = all_count</span><br><span class="line">        <span class="variable language_">self</span>.per_page_num = per_page_num</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># 总页�?</span></span><br><span class="line">        all_pager, tmp = <span class="built_in">divmod</span>(all_count, per_page_num)</span><br><span class="line">        <span class="keyword">if</span> tmp:</span><br><span class="line">            all_pager += <span class="number">1</span></span><br><span class="line">        <span class="variable language_">self</span>.all_pager = all_pager</span><br><span class="line"> </span><br><span class="line">        <span class="variable language_">self</span>.pager_count = pager_count</span><br><span class="line">        <span class="variable language_">self</span>.pager_count_half = <span class="built_in">int</span>((pager_count - <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">start</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> (<span class="variable language_">self</span>.current_page - <span class="number">1</span>) * <span class="variable language_">self</span>.per_page_num</span><br><span class="line"> </span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">end</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.current_page * <span class="variable language_">self</span>.per_page_num</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">page_html</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 如果总页�?&lt; 11个：</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.all_pager &lt;= <span class="variable language_">self</span>.pager_count:</span><br><span class="line">            pager_start = <span class="number">1</span></span><br><span class="line">            pager_end = <span class="variable language_">self</span>.all_pager + <span class="number">1</span></span><br><span class="line">        <span class="comment"># 总页�? &gt; 11</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 当前页如�?=页面上最多显�?1/2个页�?</span></span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.current_page &lt;= <span class="variable language_">self</span>.pager_count_half:</span><br><span class="line">                pager_start = <span class="number">1</span></span><br><span class="line">                pager_end = <span class="variable language_">self</span>.pager_count + <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">            <span class="comment"># 当前页大�?</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 页码翻到最�?</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">self</span>.current_page + <span class="variable language_">self</span>.pager_count_half) &gt; <span class="variable language_">self</span>.all_pager:</span><br><span class="line">                    pager_end = <span class="variable language_">self</span>.all_pager + <span class="number">1</span></span><br><span class="line">                    pager_start = <span class="variable language_">self</span>.all_pager - <span class="variable language_">self</span>.pager_count + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    pager_start = <span class="variable language_">self</span>.current_page - <span class="variable language_">self</span>.pager_count_half</span><br><span class="line">                    pager_end = <span class="variable language_">self</span>.current_page + <span class="variable language_">self</span>.pager_count_half + <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">        page_html_list = []</span><br><span class="line">        <span class="comment"># 添加前面的nav和ul标签</span></span><br><span class="line">        page_html_list.append(<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                    &lt;nav aria-label=&#x27;Page navigation&gt;&#x27;</span></span><br><span class="line"><span class="string">                    &lt;ul class=&#x27;pagination&#x27;&gt;</span></span><br><span class="line"><span class="string">                &#x27;&#x27;&#x27;</span>)</span><br><span class="line">        first_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=%s&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;&#x27;</span> % (<span class="number">1</span>)</span><br><span class="line">        page_html_list.append(first_page)</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.current_page &lt;= <span class="number">1</span>:</span><br><span class="line">            prev_page = <span class="string">&#x27;&lt;li class=&quot;disabled&quot;&gt;&lt;a href=&quot;#&quot;&gt;上一�?/a&gt;&lt;/li&gt;&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            prev_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=%s&quot;&gt;上一�?/a&gt;&lt;/li&gt;&#x27;</span> % (<span class="variable language_">self</span>.current_page - <span class="number">1</span>,)</span><br><span class="line"> </span><br><span class="line">        page_html_list.append(prev_page)</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(pager_start, pager_end):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="variable language_">self</span>.current_page:</span><br><span class="line">                temp = <span class="string">&#x27;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;?page=%s&quot;&gt;%s&lt;/a&gt;&lt;/li&gt;&#x27;</span> % (i, i,)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                temp = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=%s&quot;&gt;%s&lt;/a&gt;&lt;/li&gt;&#x27;</span> % (i, i,)</span><br><span class="line">            page_html_list.append(temp)</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.current_page &gt;= <span class="variable language_">self</span>.all_pager:</span><br><span class="line">            next_page = <span class="string">&#x27;&lt;li class=&quot;disabled&quot;&gt;&lt;a href=&quot;#&quot;&gt;下一�?/a&gt;&lt;/li&gt;&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            next_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=%s&quot;&gt;下一�?/a&gt;&lt;/li&gt;&#x27;</span> % (<span class="variable language_">self</span>.current_page + <span class="number">1</span>,)</span><br><span class="line">        page_html_list.append(next_page)</span><br><span class="line"> </span><br><span class="line">        last_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=%s&quot;&gt;尾页&lt;/a&gt;&lt;/li&gt;&#x27;</span> % (<span class="variable language_">self</span>.all_pager,)</span><br><span class="line">        page_html_list.append(last_page)</span><br><span class="line">        <span class="comment"># 尾部添加标签</span></span><br><span class="line">        page_html_list.append(<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                                           &lt;/nav&gt;</span></span><br><span class="line"><span class="string">                                           &lt;/ul&gt;</span></span><br><span class="line"><span class="string">                                       &#x27;&#x27;&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(page_html_list)</span><br></pre></td></tr></table></figure>
<ul>
<li>前端</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-8 col-md-offset-2&quot;</span>&gt;</span></span><br><span class="line">            `(妯℃澘鏍囩)`</span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123; user.username &#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            `(妯℃澘鏍囩)`</span><br><span class="line">            `&#123;&#123; page_obj.page_html|safe &#125;&#125;`</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>后端</p>
<ul>
<li>
<p>使用引入创建的py文件</p>
</li>
<li>
<pre><code class="language-python">from user.paginations import Pagination
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">from user.paginations import Pagination</span><br><span class="line"></span><br><span class="line">def index(request):</span><br><span class="line">    # 拿到模型表里面的所有数�?</span><br><span class="line">    user_list = UserInfo.objects.all()</span><br><span class="line">    # 从路径里面拿到页�?默认第一�?</span><br><span class="line">    current_page = request.GET.get(&#x27;page&#x27;, 1)</span><br><span class="line">    # 拿到总页�?</span><br><span class="line">    all_count = user_list.count()</span><br><span class="line">    # current_page 得到的页码数，all_count总页数，per_page_num每个页面只能展示多少条数�?</span><br><span class="line">    page_obj = Pagination(current_page =current_page, all_count=all_count, per_page_num=10)</span><br><span class="line">    # 对象进行切分</span><br><span class="line">    page_queryset = user_list[page_obj.start:page_obj.end]</span><br><span class="line">    return render(request, &#x27;index.html&#x27;, locals())</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="�-】总结">�?】总结</h3>
<ul>
<li>
<p>创建一个py文件</p>
</li>
<li>
<p>将分页器源码放进�?</p>
</li>
<li>
<p>在视图函数中使用</p>
<ul>
<li>
<p>再导入分页器�?</p>
<ul>
<li>
<pre><code class="language-python">from user.paginations import Pagination
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 查询模型表所有数�?</span><br><span class="line"></span><br><span class="line">  - ```python</span><br><span class="line">    user_list = UserInfo.objects.all()</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
<li>
<p>获取当前页面</p>
<ul>
<li>
<pre><code class="language-python">current_page = request.GET.get(&quot;page&quot;, 1)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 创建分页器对�?</span><br><span class="line"></span><br><span class="line">  - ```python</span><br><span class="line">    all_count = user_list.count()</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
<li>
<pre><code class="language-python">page_obj = Pagination(current_page=current_page, all_count=all_count, per_page_num=10)
</code></pre>
</li>
</ul>
</li>
<li>
<p>对原始数据进行切�?</p>
<ul>
<li>
<pre><code class="language-python">page_queryset = user_list[page_obj.start:page_obj.end]
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 返回前端进行渲染</span><br><span class="line"></span><br><span class="line">  - ```python</span><br><span class="line">    return render(request,&#x27;index.html&#x27;, locals())</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>前端使用</p>
<ul>
<li>
<pre><code class="language-html">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">`(妯℃澘鏍囩)`</span><br><span class="line">    &lt;p&gt;`&#123;&#123; user.username &#125;&#125;`&lt;/p&gt;</span><br><span class="line">`(妯℃澘鏍囩)`</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
<li>
<p>添加分页�?</p>
<ul>
<li>在下面添加分页器</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`&#123;&#123; page_obj.page_html|safe &#125;&#125;`</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/10.0selenium%E6%A1%86%E6%9E%B6%E4%B9%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/10.0selenium%E6%A1%86%E6%9E%B6%E4%B9%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-10-0selenium���֮���������date-2023-01-01categories-Blogtags-Blog">title: 10.0selenium���֮���������<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>selenium框架之浏览器操作</h1>
<h2 id="【一】页面的操作">【一】页面的操作</h2>
<h3 id="�-】初始化浏览器对�">�?】初始化浏览器对�?</h3>
<ul>
<li>前期我们将Chrome驱动添加到环境变量了，所以我们可以直接初始化界面。（或者也可以通过指定绝对路径的方式）</li>
</ul>
<h4 id="�-）方式一：使用环境变�">�?）方式一：使用环境变�?</h4>
<ul>
<li>我们不指定驱动位置，在selenium打开浏览器的时间会很�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="comment"># 初始化浏览器为chrome浏览�?</span></span><br><span class="line">browser = Chrome()</span><br><span class="line"></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"><span class="comment"># 关闭浏览�?</span></span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure>
<h4 id="�-）方式二：使用绝对路�">�?）方式二：使用绝对路�?</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 使用创建好的驱动发送get请求，打开指定网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】访问页�">�?】访问页�?</h3>
<ul>
<li>进行页面访问使用的是get方法，传入参数为待访问页面的URL地址即可</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 使用创建好的驱动发送get请求，打开指定网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】设置浏览器的大�">�?】设置浏览器的大�?</h3>
<ul>
<li>方法：set_window_size（宽度，高度�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建浏览�?</span></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 使用创建好的驱动发送get请求，打开指定网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置浏览器的打开的大�?</span></span><br><span class="line">browser.set_window_size(<span class="number">1000</span>,<span class="number">500</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】设置浏览器为全�">�?】设置浏览器为全�?</h3>
<ul>
<li>方法：maximize_window（）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建浏览�?</span></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 使用创建好的驱动发送get请求，打开指定网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置浏览器全�?</span></span><br><span class="line">browser.maximize_window()</span><br></pre></td></tr></table></figure>
<h3 id="�-】前进和后退页面">�?】前进和后退页面</h3>
<ul>
<li>前进页面：forward（）</li>
<li>后退页面：back（）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建浏览�?</span></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 使用创建好的驱动发送get请求，打开指定网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 前进和后退页面</span></span><br><span class="line"><span class="comment"># 先打开一个网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.jd.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 后退回百�?</span></span><br><span class="line">browser.back()</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 前进到京东页�?</span></span><br><span class="line">browser.forward()</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】获得页面的基础属�">�?】获得页面的基础属�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建浏览�?</span></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 使用创建好的驱动发送get请求，打开指定网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得网页标题</span></span><br><span class="line"><span class="built_in">print</span>(browser.title)  <span class="comment"># 百度一下，你就知道</span></span><br><span class="line"><span class="comment"># 获得当前网址</span></span><br><span class="line"><span class="built_in">print</span>(browser.current_url)  <span class="comment"># https://www.baidu.com/</span></span><br><span class="line"><span class="comment"># 获得浏览器的名字</span></span><br><span class="line"><span class="built_in">print</span>(browser.name)  <span class="comment"># chrome</span></span><br><span class="line"><span class="comment"># 获得网页源码</span></span><br><span class="line"><span class="built_in">print</span>(browser.page_source)</span><br></pre></td></tr></table></figure>
<h3 id="�-】在浏览器中切换，新开，关闭，页面">�?】在浏览器中切换，新开，关闭，页面</h3>
<ul>
<li>隐士等待：<code>browser.implicitly_wait(2)</code>
<ul>
<li>如果在这两秒（或指定的时间）内WebDriver找到了元�?会立即停止等待并继续执行后续的代�?</li>
<li>如果过了这两秒之后，元素仍然没有被找�?WebDriver会抛出一个NoSuchElementException异常</li>
</ul>
</li>
<li><code>browser.window_handles</code>：获得浏览器打开的所有页面的句柄，得到的是一个列�?
<ul>
<li>得到这个句柄切换页面</li>
<li>也可以说或的页面的所有选项�?</li>
</ul>
</li>
<li><code>browser.switch_to.window(all_handles[0])</code>：切换到第一个选项卡页�?</li>
<li>在本页面打开新的页面：<code>browser.get('https://www.pinduoduo.com/')</code></li>
<li>关闭当前选项卡：<code>browser.close()</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建浏览�?</span></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 使用创建好的驱动发送get请求，打开指定网址</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.jd.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># time.sleep(2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 隐士等待两秒，确保页面加载完�?</span></span><br><span class="line"><span class="comment"># 当你使用browser.implicitly_wait(2)设置了隐式等待时间后，如果在这两秒（或指定的时间）内WebDriver找到了元素，</span></span><br><span class="line"><span class="comment"># 那么它就会立即停止等待并继续执行后续的代码�?</span></span><br><span class="line"><span class="comment"># 但是，如果过了这两秒之后，元素仍然没有被找到�?</span></span><br><span class="line"><span class="comment"># 那么WebDriver会抛出一个NoSuchElementException异常，表示它无法在指定的时间内找到该元素</span></span><br><span class="line">browser.implicitly_wait(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># browser.window_handles是一个属性，它返回当前会话中打开的所有窗口（或标签页）的句柄列表�?</span></span><br><span class="line"><span class="comment"># 每个句柄都是一个唯一的标识符，用于区分不同的窗口或标签页</span></span><br><span class="line"><span class="built_in">print</span>(browser.window_handles)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在当前浏览器实例中新打开一个选项�?</span></span><br><span class="line">browser.execute_script(<span class="string">&#x27;window.open(&quot;https://www.baidu.com&quot;)&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取所有选项�?</span></span><br><span class="line">all_handles = browser.window_handles</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换到第一个选项�?</span></span><br><span class="line">browser.switch_to.window(all_handles[<span class="number">0</span>])</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在第一个选项中打开拼多�?</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.pinduoduo.com/&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换到第二个选项卡上，打开百度</span></span><br><span class="line">browser.switch_to.window(all_handles[<span class="number">1</span>])</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭当前选项�?</span></span><br><span class="line">browser.close()</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 关闭当前浏览�?</span></span><br><span class="line">browser.quit()</span><br></pre></td></tr></table></figure>
<h2 id="【二】定位页面元�">【二】定位页面元�?</h2>
<h3 id="�-】前言">�?】前言</h3>
<ul>
<li>我们熟知�?百度为例，我们进入首页，�?【F12�?进入开发者工具�?</li>
<li>红框中显示的就是页面的代码，我们要做的就是从代码中定位获取我们需要的元素</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cee02bd15-8922-4f62-8ce7-91baf3ab2401.png" alt="ee02bd15-8922-4f62-8ce7-91baf3ab2401"></p>
<h3 id="�-】八大选择器介�">�?】八大选择器介�?</h3>
<ul>
<li>通过webdriver对象�?find_element(by=“属性名�? value=“属性值�?</li>
</ul>
<table>
<thead>
<tr>
<th>属�?</th>
<th>函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>CLASS</td>
<td>find_element(by=By.CLASS_NAME, value=‘�?</td>
</tr>
<tr>
<td>XPATH</td>
<td>find_element(by=By.XPATH, value=‘�?</td>
</tr>
<tr>
<td>LINK_TEXT</td>
<td>find_element(by=By.LINK_TEXT, value=‘�?</td>
</tr>
<tr>
<td>PARTIAL_LINK_TEXT</td>
<td>find_element(by=By.PARTIAL_LINK_TEXT, value=‘�?</td>
</tr>
<tr>
<td>TAG</td>
<td>find_element(by=By.TAG_NAME, value=‘�?</td>
</tr>
<tr>
<td>CSS</td>
<td>find_element(by=By.CSS_SELECTOR, value=‘�?</td>
</tr>
<tr>
<td>ID</td>
<td>find_element(<a target="_blank" rel="noopener" href="http://by=By.ID">by=By.ID</a>, value=‘�?</td>
</tr>
</tbody>
</table>
<h3 id="�-】八大选择器示�">�?】八大选择器示�?</h3>
<h4 id="�-）ID">�?）ID</h4>
<ul>
<li>通过ID进行定位</li>
<li><code>browser</code>: 生成的浏览器对象</li>
<li><code>real_id</code>：查找元素的真实ID</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">label_position = browser.find_element(By.ID, <span class="string">&quot;real_id&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）Name">�?）Name</h4>
<ul>
<li>通过元素name的属性进行定�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label_position = browser.find_element(By.NAME, <span class="string">&#x27;real_name&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）Class">�?）Class</h4>
<ul>
<li>通过元素�?Class 属性进行定�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label_position = browser.find_element(By.CLASS_NAME, <span class="string">&#x27;real_class&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）Tag定位">�?）Tag定位</h4>
<ul>
<li>通过标签名进行定�?</li>
<li>�?‘div’ 替换为你要查找的具体标签名，�?‘a’�?span’</li>
<li>使用 find_element<strong>s</strong> 方法，通过标签名进行定�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label_position = browser.find_elements(By.TAG_NAME, <span class="string">&#x27;div&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）Link文字进行定位">�?）Link文字进行定位</h4>
<ul>
<li>精准定位</li>
<li>�?‘link_text’ 替换为你要查找的链接文字</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label_position = browser.find_element(By.LINK_TEXT, <span class="string">&#x27;link_text&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）Partial-Link文字">�?）Partial Link文字</h4>
<ul>
<li>模糊定位</li>
<li>�?‘partial_link_text’ 替换为你要查找的部分链接文字</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label_position = browser.find_element(By.PARTIAL_LINK_TEXT, <span class="string">&#x27;partial_link_text&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）Xpath">�?）Xpath</h4>
<ul>
<li>xpath表达式进行定�?</li>
<li>�?‘xpath_expression’ 替换为你要使用的实际 XPath 表达�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label_position = browser.find_element(By.XPATH, <span class="string">&#x27;xpath_expression&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="�-）CSS选择�">�?）CSS选择�?</h4>
<ul>
<li>�?‘css_selector’ 替换为你要使用的实际 CSS 选择�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element = bro.find_element(By.CSS_SELECTOR, <span class="string">&#x27;css_selector&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="�-】百度案�">�?】百度案�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 八大选择器案�?</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 查找到驱�?</span></span><br><span class="line">service = Service(<span class="string">&#x27;./text/chromedriver.exe&#x27;</span>)</span><br><span class="line"><span class="comment"># 创建浏览器对�?</span></span><br><span class="line">browser = Chrome(service=service)</span><br><span class="line"><span class="comment"># 打开百度</span></span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 通过类属性查找百度搜索框</span></span><br><span class="line">search_input = browser.find_element(By.CLASS_NAME, <span class="string">&quot;s_ipt&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(search_input)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过id属性查找百度搜索框</span></span><br><span class="line">search_input = browser.find_element(By.ID, <span class="string">&quot;kw&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(search_input)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过name属性查找百度搜索框</span></span><br><span class="line">search_input = browser.find_element(By.NAME, <span class="string">&quot;wd&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(search_input)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过Tag标签名查找所有的input�?</span></span><br><span class="line">search_input = browser.find_elements(By.TAG_NAME, <span class="string">&quot;input&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(search_input)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过Xpath方法查找百度搜索�?</span></span><br><span class="line">search_input = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;kw&quot;]&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(search_input)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过Link文字查找百度的新闻标�?</span></span><br><span class="line">search_input = browser.find_element(By.LINK_TEXT, <span class="string">&#x27;新闻&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(search_input)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过Partial Link文字查找百度的新闻标�?</span></span><br><span class="line">search_input = browser.find_element(By.PARTIAL_LINK_TEXT, <span class="string">&#x27;�?)</span></span><br><span class="line"><span class="string">print(search_input)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 通过CSS选择器查找百度搜索框</span></span><br><span class="line"><span class="string">search_input = browser.find_element(By.CSS_SELECTOR, &#x27;</span><span class="comment">#kw&#x27;)</span></span><br><span class="line"><span class="built_in">print</span>(search_input)</span><br></pre></td></tr></table></figure>
<h3 id="�-】小�">�?】小�?</h3>
<ul>
<li>
<p>以上示例中的定位方式都是通过 find_element �?find_elements 方法配合相应的定位器（如 <a target="_blank" rel="noopener" href="http://By.ID">By.ID</a>、<a target="_blank" rel="noopener" href="http://By.NAME">By.NAME</a> 等）来定位元素�?</p>
</li>
<li>
<ul>
<li>find_element 方法返回第一个匹配到的元�?</li>
<li>find_elements 方法返回所有匹配到的元素的列表</li>
</ul>
</li>
</ul>
<h2 id="【三】元素操作（节点交互�">【三】元素操作（节点交互�?</h2>
<ul>
<li>
<p>Selenium可以驱动浏览器来执行一些操作，也就是说可以让浏览器模拟执行一些动作�?</p>
</li>
<li>
<ul>
<li>比较常见的用法有�?</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>输入文字时用send_keys()方法�?</li>
<li>清空文字时用clear()方法�?</li>
<li>点击按钮时用click()方法</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">kw1.clear()        <span class="comment">#清除元素的�?</span></span><br><span class="line">kw1.click()        <span class="comment">#点击元素</span></span><br><span class="line">kw1.<span class="built_in">id</span>             <span class="comment">#Selenium所使用的内部ID</span></span><br><span class="line">kw1.get_property(<span class="string">&#x27;background&#x27;</span>) <span class="comment">#获取元素的属性的�?</span></span><br><span class="line">kw1.get_attribute(<span class="string">&#x27;id&#x27;</span>) <span class="comment">#获取元素的属性的�?</span></span><br><span class="line">kw1.location       <span class="comment">#不滚动获取元素的坐标</span></span><br><span class="line">kw1.location_once_scrolled_into_view  <span class="comment">#不滚动且底部对齐并获取元素的坐标</span></span><br><span class="line">kw1.parent         <span class="comment">#父元�?</span></span><br><span class="line">kw1.send_keys(<span class="string">&#x27;&#x27;</span>)  <span class="comment">#向元素内输入�?</span></span><br><span class="line">kw1.size           <span class="comment">#大小</span></span><br><span class="line">kw1.submit         <span class="comment">#提交</span></span><br><span class="line">kw1.screenshot(<span class="string">&#x27;2.png&#x27;</span>) <span class="comment">#截取元素形状并保存为图片</span></span><br><span class="line">kw1.tag_name       <span class="comment">#标签�?</span></span><br><span class="line">kw1.text           <span class="comment">#内容，如果是表单元素则无法获�?</span></span><br><span class="line">kw1.is_selected()  <span class="comment">#判断元素是否被选中</span></span><br><span class="line">kw1.is_enabled()   <span class="comment">#判断元素是否可编�?</span></span><br><span class="line">kw1.is_displayed   <span class="comment">#判断元素是否显示</span></span><br><span class="line">kw1.value_of_css_property(<span class="string">&#x27;color&#x27;</span>) <span class="comment">#获取元素属性的�?</span></span><br><span class="line">kw1._upload(<span class="string">&#x27;2.png&#x27;</span>) <span class="comment">#上传文件</span></span><br></pre></td></tr></table></figure>
<ul>
<li>find_element方法仅仅能够获取元素对象，接下来就可以对元素执行以下操作 从定位到的元素中提取数据的方�?</li>
</ul>
<h3 id="�-】从定位到的元素中获取数�">�?】从定位到的元素中获取数�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">el.get_attribute(key)           <span class="comment"># 获取key属性名对应的属性�?</span></span><br><span class="line">el.text                        	<span class="comment"># 获取开闭标签之间的文本内容</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】对定位到的元素的操�">�?】对定位到的元素的操�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">el.click()                      <span class="comment"># 对元素执行点击操�?</span></span><br><span class="line">el.submit()                     <span class="comment"># 对元素执行提交操�?</span></span><br><span class="line">el.clear()                      <span class="comment"># 清空可输入元素中的数�?</span></span><br><span class="line">el.send_keys(data)              <span class="comment"># 向可输入元素输入数据</span></span><br></pre></td></tr></table></figure>
<h3 id="�-】百度登入案�">�?】百度登入案�?</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引入模块</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Chrome</span><br><span class="line"><span class="comment"># 引入Service</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="comment"># 时间</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建Service对象，指定ChromeDriver的路�?</span></span><br><span class="line">service = Service(executable_path=<span class="string">&quot;./chromedriver.exe&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成浏览器对�?</span></span><br><span class="line">browser = Chrome(</span><br><span class="line">    service=service</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置浏览器为全屏</span></span><br><span class="line">browser.maximize_window()</span><br><span class="line"><span class="comment"># 控制浏览器打开百度</span></span><br><span class="line">browser.get(<span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置你打开的浏览器的分辨率</span></span><br><span class="line"><span class="comment"># browser.set_window_size(1920, 1080)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 找到百度的登入按�?</span></span><br><span class="line">search_btn = browser.find_element(By.ID, <span class="string">&quot;s-top-loginbtn&quot;</span>)</span><br><span class="line"></span><br><span class="line">search_btn.click()</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找到登入界面的手机号输入�?</span></span><br><span class="line">search_input_phone = browser.find_element(By.XPATH,<span class="string">&#x27;//*[@id=&quot;TANGRAM__PSP_11__userName&quot;]&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 渲染数据</span></span><br><span class="line">search_input_phone.send_keys(<span class="string">&quot;17746302958&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找到登入界面的密码输入框</span></span><br><span class="line">search_input_psw = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;TANGRAM__PSP_11__password&quot;]&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 渲染数据</span></span><br><span class="line">search_input_psw.send_keys(<span class="string">&quot;lsk2lmy1314&quot;</span>)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 先点击阅读接�?</span></span><br><span class="line">search_receive_btn = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;TANGRAM__PSP_11__isAgree&quot;]&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击</span></span><br><span class="line">search_receive_btn.click()</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后找到登入按钮</span></span><br><span class="line">search_btn = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;TANGRAM__PSP_11__submit&quot;]&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击按钮</span></span><br><span class="line">search_btn.click()</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 获得点击发送验证码的按�?</span></span><br><span class="line">search_input_verification_btn = browser.find_element(By.XPATH,<span class="string">&#x27;//*[@id=&quot;goToVerify&quot;]&#x27;</span>)</span><br><span class="line"><span class="comment"># 点击发送验证码</span></span><br><span class="line">search_input_verification_btn.click()</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得输入验证码的�?</span></span><br><span class="line">search_input_verification = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;passAuthVcode&quot;]&#x27;</span>)</span><br><span class="line"><span class="comment"># 将得到的验证码在一分钟之内，输入进�?</span></span><br><span class="line"><span class="comment"># 第一次见进入的时候，会发送验证码，你随机填的验证码肯定不正确</span></span><br><span class="line"><span class="comment"># 但是你第二次，启动之前把你获得的验证码放在括号里，就可以登入成功</span></span><br><span class="line">search_input_verification.send_keys(<span class="string">&quot;913879&quot;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得校验验证码的按钮</span></span><br><span class="line">search_verification_btn = browser.find_element(By.XPATH, <span class="string">&#x27;//*[@id=&quot;passAuthSubmitCode&quot;]&#x27;</span>)</span><br><span class="line"><span class="comment"># 点击下一�?</span></span><br><span class="line">search_verification_btn.click()</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 可以用input标签不让程序自动关闭</span></span><br><span class="line"><span class="comment"># input(&quot;阻止它关闭：&quot;)</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/13.0Django%E6%A1%86%E6%9E%B6Form%E7%BB%84%E4%BB%B6%E4%B9%8B%E6%B8%B2%E6%9F%93HTML%E4%BB%A3%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/01/13.0Django%E6%A1%86%E6%9E%B6Form%E7%BB%84%E4%BB%B6%E4%B9%8B%E6%B8%B2%E6%9F%93HTML%E4%BB%A3%E7%A0%81/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 17:56:29" itemprop="dateModified" datetime="2025-10-11T17:56:29+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h2 id="title-13-0Django���Form���֮��THTML����date-2023-01-01categories-Blogtags-Blog">title: 13.0Django���Form���֮��ȾHTML����<br>
date: 2023-01-01<br>
categories: Blog<br>
tags: [Blog]</h2>
<h1>Django框架Form组件之渲染HTML代码</h1>
<h2 id="【一】渲染方�">【一】渲染方�?</h2>
<h3 id="�-】直接渲�">�?】直接渲�?</h3>
<ul>
<li>直接渲染form组件对象</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>form登入页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    `&#123;&#123; form_obj &#125;&#125;`</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701231854916.png" alt="image-20240701231854916"></p>
<h3 id="�-】渲染成无序列表as-ul">�?】渲染成无序列表as_ul</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>form登入页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    `&#123;&#123; form_obj.as_ul &#125;&#125;`</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701232027825.png" alt="image-20240701232027825"></p>
<h3 id="�-】渲染成p标签as-p">�?】渲染成p标签as_p</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>form登入页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    `&#123;&#123; form_obj.as_p &#125;&#125;`</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240702155528712.png" alt="image-20240702155528712"></p>
<h3 id="�-】渲染成表格">�?】渲染成表格</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>form登入页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        `&#123;&#123; form_obj.as_table &#125;&#125;`</span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%E5%9B%BE%E7%89%87%5Cimage-20240701232500428.png" alt="image-20240701232500428"></p>
<h3 id="�-】后端的代码">�?】后端的代码</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_one</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">UserForm</span>(forms.Form):</span><br><span class="line">        username = forms.CharField(</span><br><span class="line">            <span class="comment"># 最大长�?</span></span><br><span class="line">            max_length=<span class="number">8</span>,</span><br><span class="line">            <span class="comment"># 最小长�?</span></span><br><span class="line">            min_length=<span class="number">3</span>,</span><br><span class="line">            <span class="comment"># label是显示在输入框之前的提示文本</span></span><br><span class="line">            label=<span class="string">&#x27;用户�?,</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">        password = forms.CharField(</span></span><br><span class="line"><span class="string">            # 输入的额信息是保密的</span></span><br><span class="line"><span class="string">            widget=forms.PasswordInput(</span></span><br><span class="line"><span class="string">                attrs=&#123;&#x27;</span><span class="keyword">class</span><span class="string">&#x27;: &#x27;</span>c1<span class="string">&#x27;&#125;, render_value=True</span></span><br><span class="line"><span class="string">            )</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">    # 得到的是处理好的input标签</span></span><br><span class="line"><span class="string">    form_obj = UserForm()</span></span><br><span class="line"><span class="string">    print(form_obj)</span></span><br><span class="line"><span class="string">    # &lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_username&quot;&gt;用户�?&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; maxlength=&quot;8&quot; minlength=&quot;3&quot; required id=&quot;id_username&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="string">	#&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_password&quot;&gt;Password:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;c1&quot; required id=&quot;id_password&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="string">    # 返回的是bool值，校验你数据是否有�?</span></span><br><span class="line"><span class="string">    # 如果所有校验都通过，返�?True；如果任何校验失败，返回 False</span></span><br><span class="line"><span class="string">    form_obj.is_valid()</span></span><br><span class="line"><span class="string">    # 打印错误信息</span></span><br><span class="line"><span class="string">    print(form_obj.errors)</span></span><br><span class="line"><span class="string">    # 获取校验成功的数�?</span></span><br><span class="line"><span class="string">    # print(form_obj.cleaned_data)</span></span><br><span class="line"><span class="string">    # print(request.POST)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    return render(request, &#x27;</span>form_one.html<span class="string">&#x27;, locals())</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h3 id="�-】form表单里面的label属�">�?】form表单里面的label属�?</h3>
<ul>
<li>obj.label  找到 的是定义的字段名�?</li>
<li>form.errors 提取当前form组件验证当前字段数据对应的错误信�?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;form登入页面&lt;/h1&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    `(妯℃澘鏍囩)`</span><br><span class="line">        `&#123;&#123; obj.label &#125;&#125;`</span><br><span class="line">    	`&#123;&#123; obj &#125;&#125;`</span><br><span class="line">        `&#123;&#123; obj.errors &#125;&#125;`</span><br><span class="line">    `(妯℃澘鏍囩)`</span><br><span class="line">&lt;p&gt;&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;submit&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_one</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">UserForm</span>(forms.Form):</span><br><span class="line">        username = forms.CharField(</span><br><span class="line">            <span class="comment"># 最大长�?</span></span><br><span class="line">            max_length=<span class="number">8</span>,</span><br><span class="line">            <span class="comment"># 最小长�?</span></span><br><span class="line">            min_length=<span class="number">3</span>,</span><br><span class="line">            <span class="comment"># label是显示在输入框之前的提示文本</span></span><br><span class="line">            label=<span class="string">&#x27;用户�?,</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">        password = forms.CharField(</span></span><br><span class="line"><span class="string">            min_length=3,</span></span><br><span class="line"><span class="string">            # 输入的额信息是保密的</span></span><br><span class="line"><span class="string">            widget=forms.PasswordInput(</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                attrs=&#123;&#x27;</span><span class="keyword">class</span><span class="string">&#x27;: &#x27;</span>c1<span class="string">&#x27;&#125;, render_value=True</span></span><br><span class="line"><span class="string">            )</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">    data = &#123;&quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;11&quot;&#125;</span></span><br><span class="line"><span class="string">    form_obj = UserForm(data)</span></span><br><span class="line"><span class="string">    print(form_obj)</span></span><br><span class="line"><span class="string">    # &lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_username&quot;&gt;用户�?&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; maxlength=&quot;8&quot; minlength=&quot;3&quot; required id=&quot;id_username&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="string">    # &lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_password&quot;&gt;Password:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;c1&quot; required id=&quot;id_password&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="string">    form_obj.is_valid()</span></span><br><span class="line"><span class="string">    # 打印错误信息</span></span><br><span class="line"><span class="string">    print(form_obj.errors)</span></span><br><span class="line"><span class="string">    # 获取校验成功的数�?</span></span><br><span class="line"><span class="string">    print(form_obj.cleaned_data)</span></span><br><span class="line"><span class="string">    # print(request.POST)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    return render(request, &#x27;</span>form_one.html<span class="string">&#x27;, locals())</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">坤</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要，但是你不努力，选择就只是空谈</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">201</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">坤</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">lsk-0912</a> & <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
