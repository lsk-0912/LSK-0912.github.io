<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aurora-lsk.asia","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="��һ����Ŀ���� 123456789101112131415161718192021222324# ��Ŀ�����ǻ�����	-��ӭҳ��	-��ҳ    	-�ֲ�ͼ        -����        -��Ϣ�ɼ����������������⣬����ʶ�����ʼ�⣬�����̳�   -��Ϣ�ɼ�ҳ��		-�ɼ�����   -�ɼ�����ҳ��   -�ɼ�">
<meta property="og:type" content="article">
<meta property="og:title" content="坤博客">
<meta property="og:url" content="https://aurora-lsk.asia/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/index.html">
<meta property="og:site_name" content="坤博客">
<meta property="og:description" content="��һ����Ŀ���� 123456789101112131415161718192021222324# ��Ŀ�����ǻ�����	-��ӭҳ��	-��ҳ    	-�ֲ�ͼ        -����        -��Ϣ�ɼ����������������⣬����ʶ�����ʼ�⣬�����̳�   -��Ϣ�ɼ�ҳ��		-�ɼ�����   -�ɼ�����ҳ��   -�ɼ�">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418171500682.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418171542255.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418171613009.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418172048680.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912155119604.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912155146353.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912155041765.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912154956752.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240422172556754.png">
<meta property="og:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240913190942906.png">
<meta property="article:published_time" content="2022-12-31T16:00:00.000Z">
<meta property="article:modified_time" content="2025-10-11T10:31:36.012Z">
<meta property="article:author" content="坤">
<meta property="article:tag" content="Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="d:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418171500682.png">

<link rel="canonical" href="https://aurora-lsk.asia/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title> | 坤博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">坤博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aurora-lsk.asia/2023/01/01/%E6%99%BA%E6%85%A7%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="坤">
      <meta itemprop="description" content="选择有时候比努力更重要，但是你不努力，选择就只是空谈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="坤博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2023-01-01T00:00:00+08:00">2023-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-11 18:31:36" itemprop="dateModified" datetime="2025-10-11T18:31:36+08:00">2025-10-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1>��һ����Ŀ����</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ��Ŀ�����ǻ�����</span></span><br><span class="line">	-��ӭҳ��</span><br><span class="line">	-��ҳ</span><br><span class="line">    	-�ֲ�ͼ</span><br><span class="line">        -����</span><br><span class="line">        -��Ϣ�ɼ����������������⣬����ʶ�����ʼ�⣬�����̳�</span><br><span class="line">   -��Ϣ�ɼ�ҳ��</span><br><span class="line">		-�ɼ�����</span><br><span class="line">   -�ɼ�����ҳ��</span><br><span class="line">   -�ɼ�ͳ��ҳ��</span><br><span class="line">   -�������ҳ��</span><br><span class="line">   -����ʶ��ҳ��</span><br><span class="line">   -�����̳�ҳ��</span><br><span class="line">   -�</span><br><span class="line">		-��б�</span><br><span class="line">    	-�����</span><br><span class="line">        -���ظ���</span><br><span class="line">   -����</span><br><span class="line">		-�����б�</span><br><span class="line">   -�ҵ�</span><br><span class="line">		-��Ϣչʾ</span><br><span class="line">   -��¼</span><br><span class="line">	-΢�ſ��ٵ�¼</span><br><span class="line">    -������֤���¼</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418171500682.png" alt="image-20240418171500682"><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418171542255.png" alt="image-20240418171542255"><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418171613009.png" alt="image-20240418171613009"><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240418172048680.png" alt="image-20240418172048680"></p>
<h1>��������Ŀ����</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ǰ����΢��С�����д��smart_front</span></span><br><span class="line">	- ֱ�Ӵ������ɣ���ʹ���Ʒ��񣬲�ѡ��ģ��</span><br><span class="line">    - �������õ���Ŀ�޸�һ�£��ĳ���ɾ���</span><br><span class="line">    </span><br><span class="line"><span class="comment"># �����django��drfд��smart_api</span></span><br><span class="line">	- �������ʹ�����⻷������fdjango��Ŀ</span><br><span class="line">    - �������⻷����ʹ��pycharm�������</span><br><span class="line">    - ���û�����mysql��Ŀ¼�Ľṹ</span><br></pre></td></tr></table></figure>
<h1>������С����ӭҳ��</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912155119604.png" alt="image-20240912155119604"></p>
<h2 id="��1������">��1������</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># С����һ�򿪣��ͻ���ʾһ�����ҳ��</span></span><br><span class="line">	-�������ת�����--����ת�ڲ�ҳ��--��������ҳ��</span><br><span class="line">    -���ͼƬ����ȫ������̨���Ƹ���</span><br><span class="line">    -��ʱ��--��3s��----��ת����ҳtab</span><br><span class="line">    - Ҳ����ֱ�ӵ�����������뵽��ҳ</span><br></pre></td></tr></table></figure>
<h2 id="��2��д��ӭҳ��">��2��д��ӭҳ��</h2>
<h3 id="��1��wxml">��1��<code>wxml</code></h3>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ��ӭ�Ĺ�� --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">bindtap</span>=<span class="string">&quot;doJump&quot;</span> <span class="attr">class</span>=<span class="string">&quot;jump&quot;</span>&gt;</span>����`\\\&#123;&#123;seconds\\\&#125;&#125;`��<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;img&quot;</span> <span class="attr">src</span>=<span class="string">&quot;`\\\&#123;&#123;image\\\&#125;&#125;`&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="��2��js">��2��<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ���ｫ����ĺ�˵ĵ�ַ�����˷�װ</span></span><br><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&#x27;../../conf/settings&#x27;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">seconds</span>:<span class="number">3</span>,</span><br><span class="line">    <span class="attr">image</span>:<span class="string">&#x27;/images/bg/splash.png&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ���������ʱ����ת��Tab��ҳ</span></span><br><span class="line">  <span class="title function_">doJump</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">switchTab</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ���ǵĹ��չʾ�¼�����3����</span></span><br><span class="line">  <span class="comment">// ������Զ�����</span></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// ���˷�����,�õ���ҳͼƬ</span></span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">welcome</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">image</span>:res.<span class="property">data</span>[<span class="number">0</span>].<span class="property">img</span>&#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ���һ����ʱ��</span></span><br><span class="line">      <span class="comment">// instance:���ڴ洢��ʱ���� ID</span></span><br><span class="line">      <span class="keyword">var</span> instance = <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">seconds</span>&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// �����ʱ��</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(instance)</span><br><span class="line">            <span class="comment">// ��ת����ҳ</span></span><br><span class="line">            wx.<span class="title function_">switchTab</span>(&#123;</span><br><span class="line">              <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="comment">// ʱ���1��������Ӧʽ</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">seconds</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">seconds</span> - <span class="number">1</span>&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,<span class="number">1000</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="��3��wxss">��3��<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.img</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">600</span>rpx;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#dddddd</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="��4����˼��ػ�ӭҳ��">��4����˼��ػ�ӭҳ��</h3>
<h4 id="1-���ݿ�">[1]���ݿ�</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ���ݿ�----�����ݿ���û�����������ӵ�����������</span></span><br><span class="line">mysql_user = os.environ.get(<span class="string">&quot;MysqlUser&quot;</span>, <span class="string">&quot;luffy&quot;</span>)</span><br><span class="line">mysql_psw = os.environ.get(<span class="string">&quot;MysqlPSW&quot;</span>, <span class="string">&quot;Luffy123?&quot;</span>)</span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="comment"># ���ݿ�IP��ַ</span></span><br><span class="line">        <span class="string">&quot;HOST&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">        <span class="comment"># ���ݿ�˿�</span></span><br><span class="line">        <span class="string">&quot;PORT&quot;</span>: <span class="number">3308</span>,</span><br><span class="line">        <span class="comment"># ���ݿ������</span></span><br><span class="line">        <span class="string">&quot;USER&quot;</span>: mysql_user,</span><br><span class="line">        <span class="comment"># ���ݿ�����</span></span><br><span class="line">        <span class="string">&quot;PASSWORD&quot;</span>: mysql_psw,</span><br><span class="line">        <span class="comment"># ���ݿ�����--&gt;��Ҫ��DATABASE,��NAME</span></span><br><span class="line">        <span class="string">&quot;NAME&quot;</span>: <span class="string">&quot;smart&quot;</span>,</span><br><span class="line">        <span class="comment"># ���ݿ�����ʽ</span></span><br><span class="line">        <span class="string">&quot;CHARSET&quot;</span>: <span class="string">&quot;utf8mb4&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-��g��">[2]��ģ��</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ��ӭ��ҳ��</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Welcome</span>(models.Model):</span><br><span class="line">    <span class="comment"># ����media����----settings������----url������</span></span><br><span class="line">    <span class="comment"># ��װPillow ģ��</span></span><br><span class="line">    img = models.ImageField(upload_to=<span class="string">&#x27;welcome&#x27;</span>, default=<span class="string">&#x27;slash.png&#x27;</span>, verbose_name=<span class="string">&#x27;��ӭͼƬ&#x27;</span>)</span><br><span class="line">    order = models.IntegerField(verbose_name=<span class="string">&#x27;ͼƬ˳��&#x27;</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;����ʱ��&#x27;</span>)</span><br><span class="line">    is_delete = models.BooleanField(default=<span class="literal">False</span>, verbose_name=<span class="string">&#x27;�Ƿ�ɾ��&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;welcome&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;��ӭͼƬ&#x27;</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br></pre></td></tr></table></figure>
<h4 id="3-����media����">[3]����media����</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">########settings.py##</span></span><br><span class="line"><span class="comment"># ����media����</span></span><br><span class="line">MEDIA_URL = <span class="string">&#x27;/media/&#x27;</span></span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;media&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#########��·��###</span></span><br><span class="line">path(<span class="string">&#x27;media/&lt;path:path&gt;&#x27;</span>, serve, &#123;<span class="string">&#x27;document_root&#x27;</span>: settings.MEDIA_ROOT&#125;),</span><br></pre></td></tr></table></figure>
<h4 id="4-��ͼ����">[4]��ͼ����</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.mixins <span class="keyword">import</span> ListModelMixin</span><br><span class="line"><span class="keyword">from</span> rest_framework.viewsets <span class="keyword">import</span> GenericViewSet</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Welcome</span><br><span class="line"><span class="keyword">from</span> .serializer <span class="keyword">import</span> WelcomeSerializer</span><br><span class="line"></span><br><span class="line"><span class="comment"># ��ӭ�û�����ҳ�Ľӿ�</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WelcomeView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    <span class="comment"># ��Ҫɸѡ��ǰ��ֻҪһ��</span></span><br><span class="line">    queryset = Welcome.objects.<span class="built_in">all</span>().order_by(<span class="string">&quot;order&quot;</span>)[:<span class="number">1</span>]</span><br><span class="line">    serializer_class = WelcomeSerializer</span><br></pre></td></tr></table></figure>
<h4 id="5-���л���">[5]���л���</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">WelcomeSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Welcome</span><br><span class="line">        <span class="comment"># ǰ��ֻҪ����ͼƬ</span></span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;img&quot;</span>]</span><br></pre></td></tr></table></figure>
<h1>���ġ���ҳ</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912155146353.png" alt="image-20240912155146353"></p>
<h2 id="��1��app-json">��1��<code>app.json</code></h2>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">     <span class="string">&quot;pages/welcome/welcome&quot;</span><span class="punctuation">,</span>  <span class="comment">// ��ӭҳ��</span></span><br><span class="line">      <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span>    <span class="comment">// ��ҳ</span></span><br><span class="line">      <span class="string">&quot;pages/my/my&quot;</span><span class="punctuation">,</span>    <span class="comment">// �ҵ�</span></span><br><span class="line">      <span class="string">&quot;pages/activity/activity&quot;</span><span class="punctuation">,</span>  <span class="comment">// �tabҳ</span></span><br><span class="line">      <span class="string">&quot;pages/notice/notice&quot;</span>  <span class="comment">// ����tabҳ</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// titleͷ</span></span><br><span class="line">  <span class="attr">&quot;window&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;�ǻ�����&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigationBarBackgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#fff&quot;</span><span class="punctuation">,</span>   <span class="comment">// ��ɫ</span></span><br><span class="line">    <span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>    <span class="comment">// �Ƿ��������</span></span><br><span class="line">    <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#00FFFF&quot;</span><span class="punctuation">,</span>   <span class="comment">// ��ɫ</span></span><br><span class="line">    <span class="attr">&quot;backgroundTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;light&quot;</span><span class="punctuation">,</span>  <span class="comment">// ��ʽ</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;black&quot;</span>  <span class="comment">// ��������ʹ�õ���ɫ</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// tabҳ</span></span><br><span class="line">  <span class="attr">&quot;tabBar&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;selectedColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#1c1c1b&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bottom&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;list&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;��ҳ&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/home.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/home-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/activity/activity&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;�&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/aid.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/aid-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/notice/notice&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;����&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/circle.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/circle-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/my/my&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;�ҵ�&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/my.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;images/icon/my-o.png&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sitemapLocation&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="��2��wxml">��2��<code>wxml</code></h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- �ֲ�ͼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;banner&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swiper</span> <span class="attr">autoplay</span> <span class="attr">indicator-dots</span> <span class="attr">circular</span> <span class="attr">indicator-color</span>=<span class="string">&#x27;#FFFFF&#x27;</span> <span class="attr">interval</span>=<span class="string">&#x27;3000&#x27;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">swiper-item</span>  <span class="attr">wx:for</span>=<span class="string">&quot;`\\\&#123;&#123;image\\\&#125;&#125;`&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;`\\\&#123;&#123;item.img\\\&#125;&#125;`&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- ֪ͨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-notice-bar</span> <span class="attr">left-icon</span>=<span class="string">&quot;volume-o&quot;</span> <span class="attr">text</span>=<span class="string">&quot;`\\\&#123;&#123;title\\\&#125;&#125;`&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- ������ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-grid</span> <span class="attr">column-num</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/С�Ƽ�.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;��Ϣ�ɼ�&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoCollection&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/�����.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;�����&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoActivity&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/�������.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;�������&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoFace&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ���Ը�����Ҫ��Ӹ���Ŀ����� --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/����ʶ��.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;����ʶ��&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoVoice&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/Heart beat.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;���ʼ��&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoHeart&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;/images/menu/�ҵ�_�����̳�_48.png&quot;</span> <span class="attr">text</span>=<span class="string">&quot;�����̳�&quot;</span> <span class="attr">bind:click</span>=<span class="string">&quot;gotoGoods&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">van-grid</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- �ײ�����Ϣ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_1.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_2.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_3.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/home/cute_4.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;scaleToFill&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="��3��wxss-2">��3��<code>wxss</code></h2>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* �ֲ�ͼ��ͼƬ */</span></span><br><span class="line"><span class="selector-class">.banner</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/* ͼƬ���������������� */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>; <span class="comment">/* ͼƬ�߶������������߶� */</span></span><br><span class="line">  <span class="attribute">object-fit</span>: cover; <span class="comment">/* ͼƬ�����������������򣬿��ܱ��ü� */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* �ײ� */</span></span><br><span class="line"><span class="selector-class">.bottom</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-evenly;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">/* �ײ���img */</span></span><br><span class="line"><span class="selector-class">.bottom</span>&gt;view&gt;<span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">345</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="��4��js">��4��<code>js</code></h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">image</span>:[<span class="string">&quot;../../images/banner/banner1.png&quot;</span>],</span><br><span class="line">    <span class="attr">title</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ������תҳ��</span></span><br><span class="line">  <span class="title function_">gotoCollection</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/collection/collection&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoFace</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/face/face&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoVoice</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/voice/voice&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoActivity</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="comment">// ��ת��tabҳ��</span></span><br><span class="line">      wx.<span class="title function_">switchTab</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&#x27;/pages/activity/activity&#x27;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoHeart</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/heart/heart&#x27;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">gotoGoods</span>(<span class="params"></span>)&#123;</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/second/goods/goods&#x27;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * �������ں���--����ҳ�����</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onLoad</span>: <span class="keyword">function</span> (<span class="params">options</span>) &#123;</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">banner_notice</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="property">data</span>.<span class="property">code</span>==<span class="number">100</span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">image</span>:res.<span class="property">data</span>.<span class="property">banner</span>,<span class="attr">title</span>:res.<span class="property">data</span>.<span class="property">notice</span>.<span class="property">title</span>&#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;�������&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="��5��app-json">��5��<code>app.json</code></h2>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        </span><br><span class="line">        <span class="string">&quot;pages/welcome/welcome&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/my/my&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/activity/activity&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/notice/notice&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// ����������ҳ�棬����һ����ת��tabҳ</span></span><br><span class="line">        <span class="string">&quot;pages/second/collection/collection&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/face/face&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/voice/voice&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/heart/heart&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;pages/second/goods/goods&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h1>���塿��ҳ�ֲ�ͼ�͹���ӿ�</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912155041765.png" alt="image-20240912155041765"></p>
<h2 id="��1�����">��1�����</h2>
<h3 id="��1��models-py">��1��<code>models.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># �ֲ�ͼ��</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Banner</span>(models.Model):</span><br><span class="line">    img = models.ImageField(upload_to=<span class="string">&#x27;banner&#x27;</span>, default=<span class="string">&#x27;banner1.png&#x27;</span>, verbose_name=<span class="string">&#x27;�ֲ�ͼ&#x27;</span>)</span><br><span class="line">    order = models.IntegerField(verbose_name=<span class="string">&#x27;˳��&#x27;</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;����ʱ��&#x27;</span>)</span><br><span class="line">    is_delete = models.BooleanField(default=<span class="literal">False</span>, verbose_name=<span class="string">&#x27;�Ƿ�ɾ��&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;Banner&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;�ֲ�ͼ&#x27;</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># �����</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Notice</span>(models.Model):</span><br><span class="line">    title = models.CharField(max_length=<span class="number">255</span>, verbose_name=<span class="string">&#x27;��������&#x27;</span>)</span><br><span class="line">    content = models.TextField(verbose_name=<span class="string">&#x27;����&#x27;</span>)</span><br><span class="line">    img = models.ImageField(upload_to=<span class="string">&#x27;notice&#x27;</span>, default=<span class="string">&#x27;notice1.png&#x27;</span>, verbose_name=<span class="string">&#x27;������Ƭ&#x27;</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;����ʱ��&#x27;</span>)</span><br><span class="line">    is_delete = models.BooleanField(default=<span class="literal">False</span>, verbose_name=<span class="string">&#x27;�Ƿ�ɾ��&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;Notice&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;�����&#x27;</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br></pre></td></tr></table></figure>
<h3 id="��2��view-py">��2��<code>view.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># �ֲ�ͼ�͹���ӿ�</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BannerNoticeView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    queryset = Banner.objects.<span class="built_in">filter</span>(is_delete=<span class="literal">False</span>).order_by(<span class="string">&quot;order&quot;</span>)[:<span class="number">2</span>]</span><br><span class="line">    serializer_class = BannerSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># ��ѯ������Ϣ---��ѯ����ʱ���һ��</span></span><br><span class="line">        notices = Notice.objects.<span class="built_in">all</span>().order_by(<span class="string">&quot;create_time&quot;</span>).first()</span><br><span class="line">        <span class="comment"># ���л�</span></span><br><span class="line">        serializer = NoticeSerializer(instance=notices)</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="string">&quot;100&quot;</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;��ѯ�ɹ�&quot;</span>, <span class="string">&quot;banner&quot;</span>: res.data, <span class="string">&quot;notice&quot;</span>: serializer.data&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="��3��serializer-py">��3��<code>serializer.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BannerSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Banner</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoticeSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Notice</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;title&quot;</span>]</span><br></pre></td></tr></table></figure>
<h1>��������������</h1>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240912154956752.png" alt="image-20240912154956752"></p>
<h2 id="��0��vant��ʽ��-�ʼ�����д">��0��vant��ʽ��----------�ʼ�����д</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ���ʵ�ַ��</span></span><br><span class="line">	- https://vant-ui.github.io/vant/<span class="comment">#/zh-CN</span></span><br><span class="line"><span class="comment"># ��װnpm</span></span><br><span class="line">	- npm init -y</span><br><span class="line"><span class="comment"># ��װvant</span></span><br><span class="line">	- npm i @vant/weapp -S --production</span><br><span class="line"><span class="comment"># �� app.json �е� &quot;style&quot;: &quot;v2&quot; ȥ��</span></span><br><span class="line"><span class="comment"># ʹ���Ǹ���ʽ��app.json��ע�����xxx.json��ע��</span></span><br></pre></td></tr></table></figure>
<h2 id="��1��json">��1��<code>json</code></h2>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// ��������ʹ����vant����ʽ��</span></span><br><span class="line">  <span class="attr">&quot;van-notice-bar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@vant/weapp/notice-bar/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;van-grid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@vant/weapp/grid/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;van-grid-item&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@vant/weapp/grid-item/index&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<h2 id="��2��wxml-2">��2��<code>wxml</code></h2>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"># �ж��Ƿ��¼��</span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;`\\\&#123;&#123;userInfo==null\\\&#125;&#125;`&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">class</span>=<span class="string">&quot;login-area&quot;</span> <span class="attr">url</span>=<span class="string">&quot;/pages/login/login&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>һ����¼<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:else</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ͷ�� --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;profile-info&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/���� ��Ů .png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFill&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;numbers&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>1000<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>����<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>55<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>����<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>77<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>����<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>56<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>����<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- ������Ϣ�� --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-section&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/�ǳ�.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-text&quot;</span>&gt;</span>��������<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/�ǳ�.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-text&quot;</span>&gt;</span>����<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/�ǳ�.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">type</span>=<span class="string">&quot;info-text&quot;</span> <span class="attr">plain</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>��ϵ�ͷ�<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/�ǳ�.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">type</span>=<span class="string">&quot;info-text&quot;</span> <span class="attr">plain</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>��ϵ�ͷ�<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;info-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/head/�ǳ�.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">type</span>=<span class="string">&quot;info-text&quot;</span> <span class="attr">plain</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>��ϵ�ͷ�<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- �˳���¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;logout-button&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;logout-btn&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleLogout&quot;</span>&gt;</span>�˳���¼<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="��3��wxss-3">��3��<code>wxss</code></h2>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ȫ����ʽ */</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f4f4f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ͷ����ʽ */</span></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#007bff</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.profile-info</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.avatar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.name</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.name1</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.email</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header-bg</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ��Ϣ����ʽ */</span></span><br><span class="line"><span class="selector-class">.info-section</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-item</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.info-text</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* �˳���¼��ť��ʽ */</span></span><br><span class="line"><span class="selector-class">.logout-button</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logout-btn</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff4d4f</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* һ����¼ */</span></span><br><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-area</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-area</span> <span class="selector-class">.btn</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">500%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#5cb85c</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  </span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  */</span></span><br><span class="line"><span class="selector-class">.numbers</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">0</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.row</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="��4��js-2">��4��<code>js</code></h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="title function_">handleLogout</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;ȷ���˳�&#x27;</span>,</span><br><span class="line">      <span class="attr">content</span>: <span class="string">&#x27;��ȷ��Ҫ�˳���¼��&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">          <span class="comment">// �����������˳���¼���߼�</span></span><br><span class="line">          wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;���˳���¼&#x27;</span>,</span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">2000</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1>���ߡ���Ϣ�ɼ�ҳ��</h1>
<h2 id="��1���½�һ����ת����Ϣ�ɼ�ҳ��">��1���½�һ����ת����Ϣ�ɼ�ҳ��</h2>
<ul>
<li>���ǰ�˵���Ϣ�ɼ���ť����ת���ɼ���Ϣҳ��</li>
</ul>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240422172556754.png" alt="image-20240422172556754"></p>
<h2 id="��2�����">��2�����</h2>
<h3 id="��1��view-py">��1��<code>view.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> rest_framework.mixins <span class="keyword">import</span> ListModelMixin, DestroyModelMixin</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> rest_framework.viewsets <span class="keyword">import</span> GenericViewSet</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Collection</span><br><span class="line"><span class="keyword">from</span> .serializer <span class="keyword">import</span> CollectionSerializer</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionView</span>(GenericViewSet, ListModelMixin, DestroyModelMixin):</span><br><span class="line">    <span class="comment"># reate_time__gte=datetime.now().date():ɸѡ�ֶδ��ڻ���ڵ�ǰ���ڵ���Щ����</span></span><br><span class="line">    queryset = Collection.objects.<span class="built_in">all</span>().<span class="built_in">filter</span>(create_time__gte=datetime.now().date())</span><br><span class="line">    serializer_class = CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># ����ɼ��Ķ�����</span></span><br><span class="line">        today_count = <span class="built_in">len</span>(<span class="variable language_">self</span>.get_queryset())</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="number">100</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;�鿴�ɹ�&quot;</span>, <span class="string">&quot;collection&quot;</span>: res.data, <span class="string">&quot;today_count&quot;</span>: today_count&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="��2��serializer-py">��2��<code>serializer.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> gather.models <span class="keyword">import</span> Collection</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Collection</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;avatar&quot;</span>, <span class="string">&quot;area&quot;</span>]</span><br><span class="line">        <span class="comment"># ���ȡһ��</span></span><br><span class="line">        depth = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="��3��models-py">��3��<code>models.py</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># �ɼ���</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Collection</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">255</span>, verbose_name=<span class="string">&quot;����&quot;</span>)</span><br><span class="line">    name_pinyin = models.CharField(max_length=<span class="number">255</span>, verbose_name=<span class="string">&quot;����ƴ��&quot;</span>)</span><br><span class="line">    <span class="comment"># upload_to=&#x27;collection/%Y/%m/%d/&#x27;����ָ����ý���Ŀ¼�н��洢�ϴ�ͼ���Ŀ¼���ò�����һ�ֻ������ڵĸ�ʽ���ɰ��ꡢ�º��ս�ͼ����֯����Ŀ¼�С�����collection/2024/09/11/��2024 �� 9 �� 11 ���ϴ���ͼ�񽫴洢��</span></span><br><span class="line">    avatar = models.ImageField(upload_to=<span class="string">&#x27;collection/%Y/%m/%d/&#x27;</span>, default=<span class="string">&#x27;default.png&#x27;</span>, verbose_name=<span class="string">&#x27;ͷ��&#x27;</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;�ɼ�ʱ��&#x27;</span>)</span><br><span class="line">    area = models.ForeignKey(to=<span class="string">&#x27;Area&#x27;</span>, null=<span class="literal">True</span>, verbose_name=<span class="string">&#x27;��������&#x27;</span>, on_delete=models.CASCADE)</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;collection&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;�ɼ���&#x27;</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># �û���</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">255</span>, verbose_name=<span class="string">&quot;�û���&quot;</span>)</span><br><span class="line">    avatar = models.FileField(verbose_name=<span class="string">&quot;ͷ��&quot;</span>, max_length=<span class="number">128</span>, upload_to=<span class="string">&#x27;avatar&#x27;</span>)</span><br><span class="line">    create_date = models.DateField(verbose_name=<span class="string">&quot;����&quot;</span>, auto_now_add=<span class="literal">True</span>)</span><br><span class="line">    score = models.IntegerField(verbose_name=<span class="string">&quot;����&quot;</span>, default=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        db_table = <span class="string">&#x27;userinfo&#x27;</span></span><br><span class="line">        verbose_name = <span class="string">&#x27;�û���&#x27;</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name</span><br><span class="line"></span><br><span class="line"><span class="comment"># �����</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Area</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&#x27;����������&#x27;</span>)</span><br><span class="line">    desc = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&#x27;������&#x27;</span>)</span><br><span class="line">    <span class="comment"># ���û�����һ�Զ��ϵ</span></span><br><span class="line">    user = models.ForeignKey(to=<span class="string">&#x27;UserInfo&#x27;</span>, on_delete=models.CASCADE, null=<span class="literal">True</span>, verbose_name=<span class="string">&quot;�����û�&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        verbose_name_plural = <span class="string">&#x27;�����&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="��3������ʸ��ͼ���">��3������ʸ��ͼ���</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 url:����Ͱ�ʸ��ͼ���</span></span><br><span class="line">	- https://www.iconfont.cn/</span><br><span class="line">	-ע��ɹ�</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 2 ������Ҫ��ͼ��</span></span><br><span class="line">	-���빺�ﳵ</span><br><span class="line">    -�ڹ��ﳵ���������Ŀ</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 3 �ҵ���Ŀ--��Ŀ����--����base64</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 ѡ��font class --�����ɴ���--��������ӵ�ַ��</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 �Ѵ򿪵����ӵ�ַ���ݸ��Ƶ���Ŀ��</span></span><br><span class="line">	-static/css/iconfont.wxss</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 6 ��app.wxss������</span></span><br><span class="line"><span class="meta">@import <span class="string">&quot;/static/css/iconfont.wxss&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 7 ������ͼ���λ�ã�����text���</span></span><br><span class="line">&lt;text <span class="keyword">class</span>=<span class="string">&quot;iconfont icon-anquan&quot;</span>&gt;</span><br></pre></td></tr></table></figure>
<h1>���ˡ���Ϣ�ɼ�����ҳ��</h1>
<h2 id="��1��С����–����ҳҳ��">��1��С����–����ҳҳ��</h2>
<ul>
<li>wxml</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ������ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- `\\\&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; \\\&#125;&#125;`�����������ǰ�ú�������ͷ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- flash���ص� --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">camera</span> <span class="attr">class</span>=<span class="string">&quot;camera&quot;</span>  <span class="attr">device-position</span>=<span class="string">&quot;`\\\&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; \\\&#125;&#125;`&quot;</span>  <span class="attr">flash</span>=<span class="string">&quot;off&quot;</span> <span class="attr">frame-size</span>=<span class="string">&quot;medium&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">camera</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ��ť����ת��ͼ�� --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;function&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;switch&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- switchCamera���������յİ��� --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;record&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;takePhoto&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/camera/record_on.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- takePhoto������backFront --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;switch&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;switchCamera&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/camera/rotate-camera-white.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/second/camera/camera.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">backFront</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">switchCamera</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ��ת����ͷ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">backFront</span>: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ��ȡ��Ƭ</span></span><br><span class="line">  <span class="comment">// �ĵ�������</span></span><br><span class="line">  <span class="title function_">takePhoto</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ����ĵ���Ƭ</span></span><br><span class="line">    <span class="keyword">const</span> ctx = wx.<span class="title function_">createCameraContext</span>()</span><br><span class="line">    <span class="comment">// ���ĵ���Ƭ�ϴ���</span></span><br><span class="line">    ctx.<span class="title function_">takePhoto</span>(&#123;</span><br><span class="line">      <span class="attr">quality</span>: <span class="string">&#x27;high&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// ��ȡ��Ƭ </span></span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">        <span class="comment">// ����һ��ҳ���е�ֵ�������޸�</span></span><br><span class="line">        <span class="keyword">var</span> pages = <span class="title function_">getCurrentPages</span>();  <span class="comment">// �õ����п��ŵ�ҳ�棺[index collection form camera]</span></span><br><span class="line">        <span class="keyword">var</span> prevPage = pages[pages.<span class="property">length</span> - <span class="number">2</span>];  <span class="comment">// �õ�formҳ��</span></span><br><span class="line">        <span class="comment">// ���ϸ�ҳ���ͼƬλ����Ϊ�ո��ĵ���</span></span><br><span class="line">        prevPage.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">avatar</span>: res.<span class="property">tempImagePath</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//��ת����һ��ҳ��,Ĭ�Ϸ�����һ��ҳ��</span></span><br><span class="line">        wx.<span class="title function_">navigateBack</span>(&#123;&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>wxss</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.camera</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.function</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">  </span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">160</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">160</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.switch</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.switch</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="��2��С����–�ɼ�ҳҳ��">��2��С����–�ɼ�ҳҳ��</h2>
<ul>
<li>wxml</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> &lt;view <span class="keyword">class</span>=<span class="string">&quot;avatar&quot;</span>&gt;</span><br><span class="line">  &lt;image src=<span class="string">&#x27;`\\\&#123;&#123;avatar\\\&#125;&#125;`&#x27;</span> bindtap=<span class="string">&quot;bindToCamera&quot;</span>&gt;&lt;/image&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">&lt;view <span class="keyword">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span><br><span class="line">  &lt;view <span class="keyword">class</span>=<span class="string">&quot;row-group&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">input</span> placeholder=<span class="string">&quot;����д����&quot;</span> placeholder-<span class="keyword">class</span>=<span class="string">&#x27;txt&#x27;</span> model:value=<span class="string">&quot;`\\\&#123;&#123;name\\\&#125;&#125;`&quot;</span> bindinput=<span class="string">&quot;bindNameChange&quot;</span> /&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line"></span><br><span class="line">  &lt;view <span class="keyword">class</span>=<span class="string">&quot;picker-group&quot;</span>&gt;</span><br><span class="line">    &lt;picker bindchange=<span class="string">&quot;bindPickerChange&quot;</span> value=<span class="string">&quot;`\\\&#123;&#123;index\\\&#125;&#125;`&quot;</span> <span class="built_in">range</span>=<span class="string">&quot;`\\\&#123;&#123;objectArray\\\&#125;&#125;`&quot;</span> <span class="built_in">range</span>-key=<span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">      &lt;view wx:<span class="keyword">if</span>=<span class="string">&quot;`\\\&#123;&#123; index &gt; -1\\\&#125;&#125;`&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;picker-txt picker&quot;</span>&gt;��ǰ����`\\\&#123;&#123;objectArray[index].name\\\&#125;&#125;`&lt;/view&gt;</span><br><span class="line">      &lt;view wx:<span class="keyword">else</span> <span class="keyword">class</span>=<span class="string">&quot;picker-txt&quot;</span> &gt;��ѡ������&lt;/view&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/picker&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">  &lt;view&gt;</span><br><span class="line">    &lt;button <span class="keyword">class</span>=<span class="string">&quot;submit&quot;</span> bindtap=<span class="string">&quot;postUser&quot;</span> &gt; �� �� &lt;/button&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">avatar</span>: <span class="string">&quot;../../../images/camera/camera.png&quot;</span>,</span><br><span class="line">    <span class="attr">objectArray</span>: [],</span><br><span class="line">    <span class="comment">// Ĭ��-1����˼�ǣ�Ĭ��״̬��ʲô����ѡ��</span></span><br><span class="line">    <span class="attr">index</span>: -<span class="number">1</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// �����״����ҳ��</span></span><br><span class="line">  <span class="title function_">bindToCamera</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/pages/second/camera/camera&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// ������е�����</span></span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">area</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">objectArray</span>:res.<span class="property">data</span>&#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ����ύ���ύ����ˣ�����ɼ���Ϣ</span></span><br><span class="line">  <span class="title function_">postUser</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// �ύ�ȴ���wx��ߵ���ʽ</span></span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;�ύ��&#x27;</span>,</span><br><span class="line">      <span class="attr">mask</span>:<span class="literal">true</span>,</span><br><span class="line">    &#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// �ύ������ļ�ʹ�����</span></span><br><span class="line">    wx.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">      <span class="comment">// ��˵������ַ</span></span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">collection</span>,</span><br><span class="line">      <span class="comment">// ͼƬ���ļ�</span></span><br><span class="line">      <span class="attr">filePath</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">avatar</span>,</span><br><span class="line">      <span class="comment">// ��Ƭ������</span></span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;avatar&#x27;</span>,</span><br><span class="line">      <span class="comment">// �ύ����˵�����</span></span><br><span class="line">      <span class="attr">formData</span>: &#123;</span><br><span class="line">        <span class="comment">// ����</span></span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">name</span>,</span><br><span class="line">        <span class="comment">// ѡ������磬�������id</span></span><br><span class="line">        <span class="string">&#x27;area&#x27;</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">objectArray</span>[<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">index</span>].<span class="property">id</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">rex</span>=&gt;</span>&#123;</span><br><span class="line">          <span class="comment">// �ϴ��ɹ������ظ���һ��ҳ��,Ĭ�Ϸ�����һ��ҳ��</span></span><br><span class="line">          wx.<span class="title function_">navigateBack</span>()</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">complete</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// Ϊ�˹ر�showLoading��ʾ��</span></span><br><span class="line">        wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ����������Ϣ</span></span><br><span class="line">  <span class="title function_">bindPickerChange</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">index</span>:e.<span class="property">detail</span>.<span class="property">value</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ��������������</span></span><br><span class="line">  <span class="title function_">bindNameChange</span>(<span class="params">event</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">name</span>:event.<span class="property">detail</span>.<span class="property">value</span>&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>wxss</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.avatar</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.avatar</span> <span class="selector-tag">image</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">140</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span> <span class="selector-tag">text</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">20</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span> <span class="selector-tag">input</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.row-group</span> <span class="selector-class">.txt</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.picker-group</span>&#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.picker-group</span> <span class="selector-class">.picker-txt</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40</span>rpx <span class="number">0</span> <span class="number">20</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.picker-group</span> <span class="selector-class">.picker</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.form</span> <span class="selector-class">.submit</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="��3���ɼ�ҳ����">��3���ɼ�ҳ����</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">############view</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionView</span>(GenericViewSet, ListModelMixin, CommonDeleteModelMixin, CommonCreateModelMixin):</span><br><span class="line">    <span class="comment"># reate_time__gte=datetime.now().date():ɸѡ�ֶδ��ڻ���ڵ�ǰ���ڵ���Щ����</span></span><br><span class="line">    queryset = Collection.objects.<span class="built_in">all</span>().<span class="built_in">filter</span>(create_time__gte=datetime.now().date())</span><br><span class="line">    serializer_class = CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ʹ�ò�ͬ�����л���</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_serializer_class</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.action == <span class="string">&#x27;create&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSaveSerializer</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># ����ɼ��Ķ�����</span></span><br><span class="line">        today_count = <span class="built_in">len</span>(<span class="variable language_">self</span>.get_queryset())</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="number">100</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;�鿴�ɹ�&quot;</span>, <span class="string">&quot;collection&quot;</span>: res.data, <span class="string">&quot;today_count&quot;</span>: today_count&#125;)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># ��ȡ���е�����</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AreaView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    queryset = Area.objects.<span class="built_in">all</span>()</span><br><span class="line">    serializer_class = AreaSerializer</span><br><span class="line">    <span class="comment"># ����Ӧ��д��ǰ�����е�¼���û�������list����ɸѡ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ����������Ҫ���������</span></span><br><span class="line">    <span class="comment"># def list(self, request, *args, **kwargs):</span></span><br><span class="line">    <span class="comment">#     res = self.get_queryset().filter(user=request.user)</span></span><br><span class="line">    <span class="comment">#     serializer = self.get_serializer(instance=res, many=True)</span></span><br><span class="line">    <span class="comment">#     return APIResponse(sults = serializer.data)</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#####################serializer</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionSaveSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Collection</span><br><span class="line">        fields = [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;avatar&quot;</span>, <span class="string">&quot;area&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, validated_data</span>):</span><br><span class="line">        <span class="comment"># ������Ҫʹ��pypinyinģ��</span></span><br><span class="line">        <span class="comment"># ���ǻ���Ҫ�������ϴ����ٶ���������</span></span><br><span class="line">        <span class="built_in">print</span>(validated_data)</span><br><span class="line">        validated_data[<span class="string">&quot;name_pinyin&quot;</span>] = validated_data[<span class="string">&quot;name&quot;</span>]</span><br><span class="line">        instance = <span class="built_in">super</span>().create(validated_data)</span><br><span class="line">        <span class="keyword">return</span> instance </span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AreaSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Area</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;desc&quot;</span>]</span><br></pre></td></tr></table></figure>
<h1>���š�����ʶ����Ŀ�м���</h1>
<h2 id="��1��ʹ�o���">��1��ʹ�ò���</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 ע��ٶ�����ʶ��ӿ�</span></span><br><span class="line">https://cloud.baidu.com/product/face.html</span><br><span class="line"><span class="comment"># 2 �����ȡ��ȣ�https://console.bce.baidu.com/ai/#/ai/face/overview/index</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 ����Ӧ�ã�https://console.bce.baidu.com/ai/#/ai/face/app/list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 �鿴�����⣺https://console.bce.baidu.com/ai/#/ai/face/facelib/groupList~appId=4652887</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 sdkλ�ã�https://ai.baidu.com/ai-doc/FACE/ek37c1qiz</span></span><br></pre></td></tr></table></figure>
<h2 id="��2����ʹ��">��2����ʹ��</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipFace</span><br><span class="line"><span class="keyword">from</span> pypinyin <span class="keyword">import</span> Style, lazy_pinyin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiDuAI</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,APP_ID=<span class="string">&#x27;115551890&#x27;</span>,API_KEY=<span class="string">&#x27;QqyXyz0Fv5Ans3QBY5ZBd0jF&#x27;</span>,SECRET_KEY=<span class="string">&#x27;ntt3BVfsDcK8KZJCSHAs086jCGWCQOUL&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��� APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.APP_ID = APP_ID</span><br><span class="line">        <span class="variable language_">self</span>.API_KEY = API_KEY</span><br><span class="line">        <span class="variable language_">self</span>.SECRET_KEY = SECRET_KEY</span><br><span class="line">        <span class="variable language_">self</span>.client = AipFace(<span class="variable language_">self</span>.APP_ID, <span class="variable language_">self</span>.API_KEY, <span class="variable language_">self</span>.SECRET_KEY)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name_to_pinyin</span>(<span class="params">self, text</span>):</span><br><span class="line">        style = Style.TONE3</span><br><span class="line">        name_list = lazy_pinyin(text, style=style)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(name_list)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># �ϴ�����</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_user</span>(<span class="params">self</span>):</span><br><span class="line">        data = base64.b64encode(<span class="built_in">open</span>(<span class="string">&#x27;./lyf.png&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        image = data</span><br><span class="line">        imageType = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        groupId = <span class="string">&quot;100&quot;</span></span><br><span class="line">        userId = <span class="variable language_">self</span>.name_to_pinyin(<span class="string">&#x27;�����&#x27;</span>)</span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��������ע�� &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.addUser(image, imageType, groupId, userId)</span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line">        <span class="string">&quot;&quot;&quot; ����п�ѡ���� &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># options = &#123;&#125;</span></span><br><span class="line">        <span class="comment"># options[&quot;user_info&quot;] = &quot;������&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;action_type&quot;] = &quot;REPLACE&quot;</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; ��������������ע�� &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># self.client.addUser(image, imageType, groupId, userId, options)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ɾ���ٶ�AI������</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">delete</span>(<span class="params">self</span>):</span><br><span class="line">        userId = <span class="string">&quot;gu3tian1le4&quot;</span></span><br><span class="line">        groupId = <span class="string">&quot;100&quot;</span></span><br><span class="line">        <span class="comment"># ��������ϴ��������Ǻ󷵻ص�token</span></span><br><span class="line">        faceToken = <span class="string">&quot;4992689fcbbd3cf9851ca2f87ebb6ad0&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��������ɾ�� &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.faceDelete(userId, groupId, faceToken)</span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ƥ������</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self</span>):</span><br><span class="line">        data = base64.b64encode(<span class="built_in">open</span>(<span class="string">&#x27;./lyf.png&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        image = data</span><br><span class="line">        imageType = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        groupIdList = <span class="string">&quot;100,2&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; ������������ &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.client.search(image, imageType, groupIdList)</span><br><span class="line">        <span class="string">&quot;&quot;&quot; ����п�ѡ���� &quot;&quot;&quot;</span></span><br><span class="line">        options = &#123;&#125;</span><br><span class="line">        <span class="comment"># ʶ���</span></span><br><span class="line">        options[<span class="string">&quot;match_threshold&quot;</span>] = <span class="number">70</span></span><br><span class="line">        options[<span class="string">&quot;quality_control&quot;</span>] = <span class="string">&quot;NORMAL&quot;</span></span><br><span class="line">        options[<span class="string">&quot;liveness_control&quot;</span>] = <span class="string">&quot;LOW&quot;</span></span><br><span class="line">        <span class="comment"># �ȶ�id��</span></span><br><span class="line">        <span class="comment"># options[&quot;user_id&quot;] = &quot;233451&quot;</span></span><br><span class="line">        <span class="comment"># ���ص�����</span></span><br><span class="line">        options[<span class="string">&quot;max_user_num&quot;</span>] = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">        <span class="string">&quot;&quot;&quot; ������������������ &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.search(image, imageType, groupIdList, options)</span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    ai = BaiDuAI()</span><br><span class="line">    <span class="comment"># ai.add_user()</span></span><br><span class="line">    <span class="comment"># ai.delete()</span></span><br><span class="line">    ai.search()</span><br></pre></td></tr></table></figure>
<h2 id="��3�����o���L��">��3�����ɵ���Ŀ��</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##########libs/baidu/baidu_ai.py</span></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipFace</span><br><span class="line"><span class="keyword">from</span> aip <span class="keyword">import</span> AipSpeech</span><br><span class="line"><span class="keyword">from</span> pypinyin <span class="keyword">import</span> lazy_pinyin, Style</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiDuAI</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, APP_ID=<span class="string">&#x27;115551890&#x27;</span>, API_KEY=<span class="string">&#x27;QqyXyz0Fv5Ans3QBY5ZBd0jF&#x27;</span>,</span></span><br><span class="line"><span class="params">                 SECRET_KEY=<span class="string">&#x27;ntt3BVfsDcK8KZJCSHAs086jCGWCQOUL&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��� APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.APP_ID = APP_ID</span><br><span class="line">        <span class="variable language_">self</span>.API_KEY = API_KEY</span><br><span class="line">        <span class="variable language_">self</span>.SECRET_KEY = SECRET_KEY</span><br><span class="line">        <span class="variable language_">self</span>.client = AipFace(<span class="variable language_">self</span>.APP_ID, <span class="variable language_">self</span>.API_KEY, <span class="variable language_">self</span>.SECRET_KEY)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name_to_pinyin</span>(<span class="params">self, text</span>):</span><br><span class="line">        style = Style.TONE3</span><br><span class="line">        name_list = lazy_pinyin(text, style=style)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(name_list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_user</span>(<span class="params">self, path, name, userId, groupId=<span class="number">100</span></span>):</span><br><span class="line">        <span class="comment"># image = base64.b64encode(open(path).read()).decode(&#x27;utf-8&#x27;)</span></span><br><span class="line">        image = base64.b64encode(path.read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        imageType = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��������ע�� &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.addUser(image, imageType, groupId, userId)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; ����п�ѡ���� &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># options = &#123;&#125;</span></span><br><span class="line">        <span class="comment"># options[&quot;user_info&quot;] = name</span></span><br><span class="line">        <span class="comment"># options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;action_type&quot;] = &quot;REPLACE&quot;</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; ��������������ע�� &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># res = self.client.addUser(image, imageType, groupId, userId, options)</span></span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, img_obj</span>):</span><br><span class="line">        image = base64.b64encode(img_obj.read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        image_type = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        group_id_list = <span class="string">&quot;100,101&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; ������������ &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.search(image, image_type, group_id_list)</span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; ����п�ѡ���� &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># options = &#123;&#125;</span></span><br><span class="line">        <span class="comment"># options[&quot;match_threshold&quot;] = 70</span></span><br><span class="line">        <span class="comment"># options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line">        <span class="comment"># # options[&quot;user_id&quot;] = &quot;233451&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;max_user_num&quot;] = 3</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; ������������������ &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># res = self.client.search(image, imageType, groupIdList, options)</span></span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">delete</span>(<span class="params">self, user_id, face_token, group_id=<span class="number">100</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��������ɾ�� &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.faceDelete(user_id, group_id, face_token)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment">###########view.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionView</span>(GenericViewSet, ListModelMixin, CommonDeleteModelMixin, CommonCreateModelMixin):</span><br><span class="line">    <span class="comment"># reate_time__gte=datetime.now().date():ɸѡ�ֶδ��ڻ���ڵ�ǰ���ڵ���Щ����</span></span><br><span class="line">    queryset = Collection.objects.<span class="built_in">all</span>().<span class="built_in">filter</span>(create_time__gte=datetime.now().date())</span><br><span class="line">    serializer_class = CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ʹ�ò�ͬ�����л���</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_serializer_class</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.action == <span class="string">&#x27;create&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSaveSerializer</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> CollectionSerializer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        res = <span class="built_in">super</span>().<span class="built_in">list</span>(request, *args, **kwargs)</span><br><span class="line">        <span class="comment"># ����ɼ��Ķ�����</span></span><br><span class="line">        today_count = <span class="built_in">len</span>(<span class="variable language_">self</span>.get_queryset())</span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">&quot;code&quot;</span>: <span class="number">100</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;�鿴�ɹ�&quot;</span>, <span class="string">&quot;collection&quot;</span>: res.data, <span class="string">&quot;today_count&quot;</span>: today_count&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ɾ���ٶ�AI ��ͼƬ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">destroy</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        instance = <span class="variable language_">self</span>.get_object()</span><br><span class="line">        baidu = BaiDuAI()</span><br><span class="line">        res = baidu.delete(instance.name_pinyin, face_token=instance.face_token)</span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="variable language_">self</span>.perform_destroy(instance)</span><br><span class="line">        <span class="keyword">return</span> APIResponse()</span><br><span class="line"></span><br><span class="line"><span class="comment">##########serializer.py</span></span><br><span class="line"><span class="comment"># ����</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollectionSaveSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Collection</span><br><span class="line">        fields = [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;avatar&quot;</span>, <span class="string">&quot;area&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, validated_data</span>):</span><br><span class="line">        <span class="comment"># ȡ��ͼƬ����</span></span><br><span class="line">        avatar_file_object = validated_data.get(<span class="string">&quot;avatar&quot;</span>)</span><br><span class="line">        <span class="comment"># ȡ��name</span></span><br><span class="line">        name = validated_data.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">        <span class="comment"># ������Ƿ�װ������תƴ��Ķ���</span></span><br><span class="line">        baidu = BaiDuAI()</span><br><span class="line">        <span class="comment"># ת��ƴ��</span></span><br><span class="line">        name_pinyin = baidu.name_to_pinyin(name)</span><br><span class="line">        <span class="comment"># ����ͼƬ����ai��</span></span><br><span class="line">        res = baidu.add_user(avatar_file_object, name, name_pinyin)</span><br><span class="line">        validated_data[<span class="string">&#x27;name_pinyin&#x27;</span>] = name_pinyin</span><br><span class="line">        <span class="comment"># �������ǽ����浽ai���з��ص�token���浽����</span></span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        validated_data[<span class="string">&#x27;face_token&#x27;</span>] = res.get(<span class="string">&#x27;result&#x27;</span>).get(<span class="string">&#x27;face_token&#x27;</span>)</span><br><span class="line">        instance = <span class="built_in">super</span>().create(validated_data)</span><br><span class="line">        <span class="keyword">return</span> instance</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>��ʮ������ʶ����Ŀ�м���</h1>
<h2 id="��1������-2">��1������</h2>
<h3 id="��1���շѷ���">��1���շѷ���</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ʹ�ðٶȣ��ƴ�Ѷ�ɵȵ�����ƽ̨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ����ʶ���SDK��ַ:</span></span><br><span class="line">	- https://ai.baidu.com/ai-doc/SPEECH/0lbxfnc9b</span><br><span class="line"><span class="comment"># �ٶȵ�����URL��</span></span><br><span class="line">	- ʹ�ðٶȣ��ƴ�Ѷ�ɵȵ�����ƽ̨</span><br><span class="line">    </span><br><span class="line"><span class="comment"># SDK���ĵ����в���</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">speed</span>(<span class="params">file_object</span>):</span><br><span class="line">    <span class="keyword">from</span> aip <span class="keyword">import</span> AipSpeech</span><br><span class="line">    APP_ID = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    API_KEY = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    SECRET_KEY = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    client = AipSpeech(APP_ID, API_KEY, SECRET_KEY)</span><br><span class="line">    data = file_object.read()</span><br><span class="line">    <span class="comment"># ʶ�𱾵��ļ�</span></span><br><span class="line">    <span class="keyword">return</span> client.asr(data, <span class="string">&#x27;pcm&#x27;</span>, <span class="number">16000</span>, &#123;<span class="string">&#x27;dev_pid&#x27;</span>: <span class="number">1537</span>&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="D:%5Cpycharm%5CTemporary_notes%5C%CD%BC%C6%AC%5Cimage-20240913190942906.png" alt="image-20240913190942906"></p>
<h3 id="��2����ѷ���">��2����ѷ���</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip3.11 install --force- SpeechRecognition</span></span><br><span class="line"><span class="comment"># pip3.11 install -i https://pypi.tuna.tsinghua.edu.cn/simple pocketsphinx</span></span><br><span class="line"><span class="comment">#https://pypi.org/project/pocketsphinx/#files</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 Ŀǰspeech_recognitionֻ��Ӣ�ģ�en-US�����ѻ�ʶ��⣬�����Ҫ�ѻ�ʶ�����ģ�zh-CN������Ҫ�ֶ������Ӧ��ʶ��⣬�ɲο����²���</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 ����ҵ��ļ��� pocketsphinx-data ���ο�����·������</span></span><br><span class="line">\site-packages\speech_recognition\pocketsphinx-data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 ��� ��zh-CN�ļ��� ���ؽ�ѹ��pocketsphinx-data �У�����ͼ��ʾ</span></span><br><span class="line"> <span class="comment">#4 ����ļ��Ƿ�ȱʧ�Լ���������ŵ�λ���Ƿ�һ��</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 �����ļ�׼�� speech_recognition ���ѻ�ʶ����ļ���Ҫ��Ŀǰ֧�ֵĸ�ʽ��</span></span><br><span class="line"><span class="number">1.</span>WAV</span><br><span class="line"><span class="number">2.</span>AIFF/AIFF-C</span><br><span class="line"><span class="number">3.</span>FLAC</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6 ����</span></span><br><span class="line"><span class="keyword">import</span> speech_recognition <span class="keyword">as</span> sr</span><br><span class="line"></span><br><span class="line">audio_file = <span class="string">&#x27;./test1.wav&#x27;</span></span><br><span class="line"></span><br><span class="line">r = sr.Recognizer()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> sr.AudioFile(audio_file) <span class="keyword">as</span> source:</span><br><span class="line">    audio = r.record(source)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ʶ����Ƶ�ļ�</span></span><br><span class="line">result = r.recognize_sphinx(audio, language=<span class="string">&quot;zh-CN&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h2 id="��2��j��">��2��ǰ��</h2>
<h3 id="��1��json-2">��1��<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;����ʶ��&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="��2��wxml-3">��2��<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ��ʾ�ı��Ŀ� --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;�ȴ�����ʶ���Զ�¼��...&quot;</span> <span class="attr">placeholder-class</span>=<span class="string">&quot;hoder&quot;</span> <span class="attr">model:value</span>=<span class="string">&quot;`\\\&#123;&#123;content\\\&#125;&#125;`&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;`\\\&#123;&#123;-1\\\&#125;&#125;`&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ��ס˵����ť --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;press&quot;</span> <span class="attr">bind:longpress</span>=<span class="string">&quot;recordStart&quot;</span> <span class="attr">bind:touchcancel</span>=<span class="string">&quot;recordCancel&quot;</span> <span class="attr">bind:touchend</span>=<span class="string">&quot;recordStop&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-microphone&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span> ��ס˵��<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="��3��wxss-4">��3��<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">page</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.text</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="comment">/* color: #fff; */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: white; </span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.press</span> <span class="selector-tag">label</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#179B16</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.press</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hoder</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="��4��js-3">��4��<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://developers.weixin.qq.com/miniprogram/dev/api/media/recorder/RecorderManager.start.html</span></span><br><span class="line"><span class="comment">// ΢���ṩ��¼����������һ��¼�����</span></span><br><span class="line"><span class="keyword">const</span> recorderManager = wx.<span class="title function_">getRecorderManager</span>()</span><br><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">content</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">record</span>:<span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ��ʼ¼��</span></span><br><span class="line">  <span class="attr">recordStart</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">record</span>:<span class="literal">true</span>&#125;)</span><br><span class="line">    <span class="comment">//  ����</span></span><br><span class="line">    <span class="keyword">const</span> options = &#123;</span><br><span class="line">      <span class="comment">// duration: 6000,//ָ��¼���ʱ������λ ms</span></span><br><span class="line">      <span class="attr">sampleRate</span>: <span class="number">16000</span>,<span class="comment">//������</span></span><br><span class="line">      <span class="attr">numberOfChannels</span>: <span class="number">1</span>,<span class="comment">//¼��ͨ����</span></span><br><span class="line">      <span class="attr">encodeBitRate</span>: <span class="number">48000</span>,<span class="comment">//��������</span></span><br><span class="line">      <span class="attr">format</span>: <span class="string">&#x27;wav&#x27;</span><span class="comment">//��Ƶ��ʽ����Чֵ </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//��ʼ¼��</span></span><br><span class="line">    recorderManager.<span class="title function_">start</span>(options)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ֹͣ¼��</span></span><br><span class="line">  <span class="attr">recordCancel</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ֹͣ&quot;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">record</span>:<span class="literal">false</span>&#125;)</span><br><span class="line">    wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ������ʶ������</span></span><br><span class="line">  <span class="attr">recordStop</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">record</span>)&#123;<span class="keyword">return</span>&#125;</span><br><span class="line">    <span class="comment">// �ر�¼��</span></span><br><span class="line">    recorderManager.<span class="title function_">stop</span>();</span><br><span class="line">    <span class="comment">// ����¼�������������</span></span><br><span class="line">    recorderManager.<span class="title function_">onStop</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// this.tempFilePath = res.tempFilePath</span></span><br><span class="line">      <span class="comment">// ����</span></span><br><span class="line">      wx.<span class="title function_">showLoading</span>()</span><br><span class="line">      <span class="comment">// �����ļ�����</span></span><br><span class="line">      wx.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">        <span class="attr">filePath</span>: res.<span class="property">tempFilePath</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;voice&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: api.<span class="property">voice</span>,</span><br><span class="line">        <span class="attr">success</span>:<span class="function">(<span class="params">response</span>)=&gt;</span>&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(response)</span><br><span class="line">          <span class="comment">// &#123;&#x27;code&#x27;: 100, &#x27;msg&#x27;:&#x27;�ɹ�&#x27;,&#x27;result&#x27;: [&#x27;��ӭ��ӭ&#x27;]&#125;</span></span><br><span class="line">          <span class="keyword">let</span> voiceResponse = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(response.<span class="property">data</span>)</span><br><span class="line">          <span class="keyword">if</span>(voiceResponse.<span class="property">code</span> == <span class="number">100</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(voiceResponse)</span><br><span class="line">              <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">                <span class="attr">content</span>:<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">content</span> + voiceResponse.<span class="property">result</span>[<span class="number">0</span>]</span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">              <span class="attr">title</span>: <span class="string">&#x27;ʶ��ʧ�ܣ������²�����&#x27;</span>,</span><br><span class="line">              <span class="attr">icon</span>: <span class="string">&quot;none&quot;</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">complete</span>:<span class="function">()=&gt;</span>&#123;</span><br><span class="line">          wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      )</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">record</span>:<span class="literal">false</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="��3�����">��3�����</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##############view.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VoiceView</span>(<span class="title class_ inherited__">GenericViewSet</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># ȡ�������Ƶ</span></span><br><span class="line">        voice_object = request.data.get(<span class="string">&#x27;voice&#x27;</span>)</span><br><span class="line">        <span class="comment"># with open(&#x27;./a.wav&#x27;,&#x27;wb&#x27;) as f:</span></span><br><span class="line">        <span class="comment">#     f.write(voice_object.read())</span></span><br><span class="line">        <span class="comment"># ����������</span></span><br><span class="line">        ai = BaiDuVoice()</span><br><span class="line">        <span class="comment"># ������ת����</span></span><br><span class="line">        result = ai.speed(voice_object)</span><br><span class="line">        <span class="comment"># &#123;&#x27;corpus_no&#x27;: &#x27;6847771638436561158&#x27;, &#x27;result&#x27;: [&#x27;���ǲ��Ǵ������&#x27;], &#x27;sn&#x27;: &#x27;15921476781594371078&#x27;, &#x27;err_msg&#x27;: &#x27;success.&#x27;, &#x27;err_no&#x27;: 0&#125;</span></span><br><span class="line">        <span class="keyword">if</span> result.get(<span class="string">&#x27;err_no&#x27;</span>) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;<span class="string">&#x27;code&#x27;</span>: <span class="number">100</span>, <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;ʶ��ɹ�&#x27;</span>, <span class="string">&#x27;result&#x27;</span>: result.get(<span class="string">&#x27;result&#x27;</span>)&#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;<span class="string">&#x27;code&#x27;</span>: <span class="number">101</span>, <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;ʶ��ʧ��&#x27;</span>&#125;)</span><br><span class="line">        </span><br><span class="line"><span class="comment">##################libs/baidu/baidu_ia.py</span></span><br><span class="line"><span class="comment"># ����ʶ��</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiDuVoice</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, APP_ID=<span class="string">&#x27;115576951&#x27;</span>, API_KEY=<span class="string">&#x27;YPkf1jQ7gSpLHf4Gd2H4SqWL&#x27;</span>,</span></span><br><span class="line"><span class="params">                 SECRET_KEY=<span class="string">&#x27;NWdeYXdti2LAIZfF1BEwNhlGS4KEnFkJ&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��� APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.APP_ID = APP_ID</span><br><span class="line">        <span class="variable language_">self</span>.API_KEY = API_KEY</span><br><span class="line">        <span class="variable language_">self</span>.SECRET_KEY = SECRET_KEY</span><br><span class="line">        <span class="variable language_">self</span>.client = AipSpeech(<span class="variable language_">self</span>.APP_ID, <span class="variable language_">self</span>.API_KEY, <span class="variable language_">self</span>.SECRET_KEY)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speed</span>(<span class="params">self, voice_object</span>):</span><br><span class="line">        res = <span class="variable language_">self</span>.client.asr(voice_object.read(), <span class="string">&#x27;pcm&#x27;</span>, <span class="number">16000</span>, &#123;</span><br><span class="line">            <span class="string">&#x27;dev_pid&#x27;</span>: <span class="number">1537</span>,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1>��ʮһ���ɼ�ͳ��</h1>
<h2 id="��1��j��">��1��ǰ��</h2>
<h3 id="��1��json-3">��1��<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;����ͳ��&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="��2��wxml-4">��2��<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;`\\\&#123;&#123;dataList\\\&#125;&#125;`&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;iconfont  icon-SCHEDULE&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span>   `\\\&#123;&#123;item.date\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>`\\\&#123;&#123;item.count\\\&#125;&#125;`��<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="��3��wxss-5">��3��<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.menu</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: small;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> dotted <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="��4��js-4">��4��<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ҳ��ĳ�ʼ����</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">dataList</span>:[]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * �������ں���--����ҳ�����</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">getRecord</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">getRecord</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;<span class="attr">mask</span>:<span class="literal">true</span>&#125;)</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">statistics</span>,</span><br><span class="line">      <span class="attr">method</span>:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">dataList</span>:res.<span class="property">data</span>&#125;)</span><br><span class="line">      &#125;,<span class="title function_">complete</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// ���ؼ���</span></span><br><span class="line">        wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ��������</span></span><br><span class="line">  <span class="title function_">onPullDownRefresh</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getRecord</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1>��ʮ�����������</h1>
<h2 id="��1��j��-2">��1��ǰ��</h2>
<h3 id="��1��json-4">��1��<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;�������&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarBackgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#fff&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#00FFFF&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;backgroundTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;light&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;black&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="��2��wxml-5">��2��<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ����� --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- `\\\&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; \\\&#125;&#125;`�ж�����ͷ��ǰ�û��Ǻ��ã�Ĭ��ֵ��true --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">camera</span> <span class="attr">class</span>=<span class="string">&quot;camera&quot;</span> <span class="attr">device-position</span>=<span class="string">&quot;`\\\&#123;&#123; backFront ? &#x27;back&#x27; : &#x27;front&#x27; \\\&#125;&#125;`&quot;</span> <span class="attr">flash</span>=<span class="string">&quot;off&quot;</span> <span class="attr">frame-size</span>=<span class="string">&quot;medium&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">camera</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;switch&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;switchCamera&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ���ͼƬ������ķ�ת�����˵���¼���������backFront��ֵ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/camera/rotate-camera-white.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ���ռ�ⰴť --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;takePhoto&quot;</span>&gt;</span> ���ռ�� <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- �������ʾ����Ե���Ա��Ϣ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;table&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>����¼<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;`\\\&#123;&#123;record\\\&#125;&#125;`&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;row&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;record&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ������Ƭ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;`\\\&#123;&#123;row.avatar\\\&#125;&#125;`&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;desc&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- �ɹ�����ʾ��Ϣ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;`\\\&#123;&#123;row.code == 100\\\&#125;&#125;`&quot;</span> <span class="attr">class</span>=<span class="string">&quot;username&quot;</span>&gt;</span>���ɹ���`\\\&#123;&#123;row.user_id\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ʧ�ܵ���ʾ��Ϣ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span> <span class="attr">class</span>=<span class="string">&quot;username&quot;</span>&gt;</span>���ʧ��:`\\\&#123;&#123;row.msg\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;txt-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;zh&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;delete&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;`\\\&#123;&#123;row.code == 100\\\&#125;&#125;`&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-shanchu1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:green&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:else</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-htmal5icon17&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="��3��wxss-6">��3��<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/face/face.wxss */</span></span><br><span class="line"><span class="selector-class">.header</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.camera</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">600</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.switch</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">20</span>rpx;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.switch</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.submit</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="comment">/* �����ı��Ĵ�ϸ */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1</span>rpx solid <span class="number">#e7e7e7</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#e7e7e7</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.table</span> <span class="selector-class">.item</span> <span class="selector-class">.title</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20</span>rpx <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">5</span>rpx solid <span class="number">#02bfae</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">26</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10</span>rpx <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-class">.avatar</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-class">.avatar</span> <span class="selector-tag">image</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.record</span> <span class="selector-class">.desc</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">40</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.desc</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">290</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.desc</span> <span class="selector-class">.username</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">25</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.txt-group</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.txt-group</span> <span class="selector-class">.zh</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#8c8c8c</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.txt-group</span> <span class="selector-class">.en</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#cccccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.area</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#00c8b6</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.delete</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="��4��js-5">��4��<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">backFront</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">record</span>:[]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// �����ת����ͷ</span></span><br><span class="line">  <span class="title function_">switchCamera</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;<span class="attr">backFront</span>:<span class="literal">false</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ���ռ��</span></span><br><span class="line">  <span class="title function_">takePhoto</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// չʾ����</span></span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&quot;�����...&quot;</span>,</span><br><span class="line">      <span class="attr">mask</span>:<span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// �����Ƭ</span></span><br><span class="line">    <span class="keyword">const</span> ctx = wx.<span class="title function_">createCameraContext</span>()</span><br><span class="line">    <span class="comment">// ������</span></span><br><span class="line">    <span class="comment">// �ύ������ļ�ʹ�����</span></span><br><span class="line">    ctx.<span class="title function_">takePhoto</span>(&#123;</span><br><span class="line">      <span class="comment">// ͼƬ������</span></span><br><span class="line">      <span class="attr">quality</span>:<span class="string">&quot;high&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        wx.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">          <span class="attr">filePath</span>: res.<span class="property">tempImagePath</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;avatar&#x27;</span>,</span><br><span class="line">          <span class="attr">url</span>: api.<span class="property">face</span>,</span><br><span class="line">          <span class="attr">success</span>:<span class="function"><span class="params">ress</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="comment">// ��Ҫתһ��,��Ȼ�õ��Ĳ����ֵ��ʮ�ַ���</span></span><br><span class="line">            <span class="keyword">let</span> resdata = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(ress.<span class="property">data</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(resdata)</span><br><span class="line">            <span class="comment">// �ж��Ƿ�ɹ�----102���Ǳ�С����ҵ��</span></span><br><span class="line">            <span class="keyword">if</span>(resdata.<span class="property">code</span>==<span class="number">100</span> || resdata.<span class="property">code</span>==<span class="number">102</span>)&#123;</span><br><span class="line">              <span class="comment">// ����ǰ��ͼƬ�浽resdata��</span></span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">tempImagePath</span>);</span><br><span class="line">              resdata.<span class="property">avatar</span> = res.<span class="property">tempImagePath</span></span><br><span class="line">              <span class="keyword">var</span> oldRecord = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">record</span></span><br><span class="line">              <span class="comment">// ƴ��</span></span><br><span class="line">              oldRecord.<span class="title function_">unshift</span>(resdata)</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(oldRecord);</span><br><span class="line">              <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">                <span class="attr">record</span>:oldRecord</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">              wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">                <span class="attr">title</span>: <span class="string">&#x27;����������&#x27;</span>,</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">          &#125;,<span class="title function_">complete</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="comment">// ���ؼ���</span></span><br><span class="line">            wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="��2�����-2">��2�����</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###############view.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FaceView</span>(<span class="title class_ inherited__">GenericViewSet</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># ȡ��ǰ�˴������Ķ�ͼƬ</span></span><br><span class="line">        avatar = request.data.get(<span class="string">&#x27;avatar&#x27;</span>)</span><br><span class="line">        <span class="comment"># �ж�</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> avatar:</span><br><span class="line">            <span class="keyword">return</span> APIResponse(code=<span class="number">101</span>, msg=<span class="string">&quot;ͼƬδ�ύ��&quot;</span>)</span><br><span class="line">        <span class="comment"># ��İٶ�ai����</span></span><br><span class="line">        baidu = BaiDuAI()</span><br><span class="line">        result = baidu.search(avatar)</span><br><span class="line">        <span class="comment"># &#123;&#x27;error_code&#x27;: 0, &#x27;error_msg&#x27;: &#x27;SUCCESS&#x27;, &#x27;log_id&#x27;: 1442474036, &#x27;timestamp&#x27;: 1726233673, &#x27;cached&#x27;: 0, &#x27;result&#x27;: &#123;&#x27;face_token&#x27;: &#x27;32c062967b0de37b260b957894347027&#x27;, &#x27;user_list&#x27;: [&#123;&#x27;group_id&#x27;: &#x27;100&#x27;, &#x27;user_id&#x27;: &#x27;li3mo4mo4&#x27;, &#x27;user_info&#x27;: &#x27;&#x27;, &#x27;score&#x27;: 97.40111541748047&#125;]\\\&#125;&#125;</span></span><br><span class="line">        <span class="keyword">if</span> result.get(<span class="string">&#x27;error_code&#x27;</span>) == <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># ˵��������</span></span><br><span class="line">            <span class="comment"># ��ȡ����---�������ֵ�ƴ��</span></span><br><span class="line">            user_id = result.get(<span class="string">&quot;result&quot;</span>).get(<span class="string">&quot;user_list&quot;</span>)[<span class="number">0</span>].get(<span class="string">&quot;user_id&quot;</span>)</span><br><span class="line">            <span class="comment"># ����</span></span><br><span class="line">            user_info = result.get(<span class="string">&quot;result&quot;</span>).get(<span class="string">&quot;user_list&quot;</span>)[<span class="number">0</span>].get(<span class="string">&quot;user_info&quot;</span>)</span><br><span class="line">            <span class="comment"># ׼ȷ��</span></span><br><span class="line">            score = result.get(<span class="string">&quot;result&quot;</span>).get(<span class="string">&quot;user_list&quot;</span>)[<span class="number">0</span>].get(<span class="string">&quot;score&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> APIResponse(user_id=user_id, user_info=user_info, score=score)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            APIResponse(code=<span class="number">101</span>, msg=<span class="string">&quot;ƥ��ʧ�ܣ��ó�Ա��������С����ҵ����ע��ע�⣡����&quot;</span>)</span><br><span class="line">            </span><br><span class="line"><span class="comment">#############libs/baidu/baidu_ai.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiDuAI</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, APP_ID=<span class="string">&#x27;115551890&#x27;</span>, API_KEY=<span class="string">&#x27;QqyXyz0Fv5Ans3QBY5ZBd0jF&#x27;</span>,</span></span><br><span class="line"><span class="params">                 SECRET_KEY=<span class="string">&#x27;ntt3BVfsDcK8KZJCSHAs086jCGWCQOUL&#x27;</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; ��� APPID AK SK &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.APP_ID = APP_ID</span><br><span class="line">        <span class="variable language_">self</span>.API_KEY = API_KEY</span><br><span class="line">        <span class="variable language_">self</span>.SECRET_KEY = SECRET_KEY</span><br><span class="line">        <span class="variable language_">self</span>.client = AipFace(<span class="variable language_">self</span>.APP_ID, <span class="variable language_">self</span>.API_KEY, <span class="variable language_">self</span>.SECRET_KEY)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, img_obj</span>):</span><br><span class="line">        image = base64.b64encode(img_obj.read()).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        image_type = <span class="string">&quot;BASE64&quot;</span></span><br><span class="line">        group_id_list = <span class="string">&quot;100,101&quot;</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; ������������ &quot;&quot;&quot;</span></span><br><span class="line">        res = <span class="variable language_">self</span>.client.search(image, image_type, group_id_list)</span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; ����п�ѡ���� &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># options = &#123;&#125;</span></span><br><span class="line">        <span class="comment"># options[&quot;match_threshold&quot;] = 70</span></span><br><span class="line">        <span class="comment"># options[&quot;quality_control&quot;] = &quot;NORMAL&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;liveness_control&quot;] = &quot;LOW&quot;</span></span><br><span class="line">        <span class="comment"># # options[&quot;user_id&quot;] = &quot;233451&quot;</span></span><br><span class="line">        <span class="comment"># options[&quot;max_user_num&quot;] = 3</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># &quot;&quot;&quot; ������������������ &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># res = self.client.search(image, imageType, groupIdList, options)</span></span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1>��ʮ��������tabҳ</h1>
<h2 id="��1��j��-3">��1��ǰ��</h2>
<h3 id="��1��json-5">��1��<code>json</code></h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="��2��wxml-6">��2��<code>wxml</code></h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ʹ��wx:forѭ���������������б� --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;`\\\&#123;&#123;noticeList\\\&#125;&#125;`&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">class</span>=<span class="string">&quot;notice-item&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ���ͼƬ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;notice-image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;`\\\&#123;&#123;item.img\\\&#125;&#125;`&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFill&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- �Ҳ����� --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-title&quot;</span>&gt;</span>`\\\&#123;&#123;item.title\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-time&quot;</span>&gt;</span>`\\\&#123;&#123;item.create_time\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;notice-details&quot;</span>&gt;</span>`\\\&#123;&#123;item.content\\\&#125;&#125;`<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="��3��wxss-7">��3��<code>wxss</code></h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20</span>rpx; <span class="comment">/* ��Ӽ�� */</span></span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#f0f0f0</span>; <span class="comment">/* ��ӵײ��߿� */</span></span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">20</span>rpx; <span class="comment">/* ���ӵײ��ڱ߾� */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-image</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">120</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6</span>rpx;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-content</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-time</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666666</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.notice-details</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="��4��js-6">��4��<code>js</code></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&quot;../../conf/settings&quot;</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">noticeList</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;�������1&#x27;</span>,</span><br><span class="line">        <span class="attr">create_time</span>: <span class="string">&#x27;2024-04-25&#x27;</span>,</span><br><span class="line">        <span class="attr">content</span>: <span class="string">&#x27;������������1��������������1��������������1��&#x27;</span>, <span class="comment">// ���Ը���ʵ�������Ӹ�������</span></span><br><span class="line">        <span class="attr">igm</span>: <span class="string">&#x27;/images/notice/notice1.jpg&#x27;</span> <span class="comment">// ͼƬ·��������ʵ������޸�</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;�������2&#x27;</span>,</span><br><span class="line">        <span class="attr">create_time</span>: <span class="string">&#x27;2024-04-26&#x27;</span>,</span><br><span class="line">        <span class="attr">content</span>: <span class="string">&#x27;������������2��������������2��������������2��&#x27;</span>, <span class="comment">// ���Ը���ʵ�������Ӹ�������</span></span><br><span class="line">        <span class="attr">igm</span>: <span class="string">&#x27;/images/notice/notice2.jpg&#x27;</span> <span class="comment">// ͼƬ·��������ʵ������޸�</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// ������Ӹ���������������</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onLoad</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ҳ�����ʱִ�е��߼�</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">refresh</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">refresh</span>(<span class="params"></span>)&#123;</span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">mask</span>: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: api.<span class="property">notice</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">noticeList</span>: res.<span class="property">data</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">complete</span>(<span class="params"></span>) &#123;</span><br><span class="line">        wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="��2�����-3">��2�����</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##########view.py</span></span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Notice</span><br><span class="line"><span class="keyword">from</span> .serializer <span class="keyword">import</span> NoticeSerializer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoticeView</span>(GenericViewSet, ListModelMixin):</span><br><span class="line">    queryset = Notice.objects.<span class="built_in">all</span>().order_by(<span class="string">&#x27;create_time&#x27;</span>)</span><br><span class="line">    serializer_class = NoticeSerializer</span><br><span class="line">    </span><br><span class="line"><span class="comment">#################serializer.py</span></span><br><span class="line"><span class="comment"># �������л���</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoticeSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = Notice</span><br><span class="line">        fields = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;title&quot;</span>, <span class="string">&quot;img&quot;</span>, <span class="string">&quot;create_time&quot;</span>, <span class="string">&quot;content&quot;</span>]</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">&#x27;create_time&#x27;</span>: &#123;<span class="string">&#x27;format&#x27;</span>: <span class="string">&quot;%Y-%m-%d&quot;</span>&#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Blog/" rel="tag"># Blog</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/01/01/%E9%98%B6%E6%AE%B5%E6%80%A7%E8%80%83%E8%AF%95%E4%B8%80%E3%80%90%E8%A7%A3%E9%87%8A%E7%89%88%E3%80%91/" rel="prev" title="">
      <i class="fa fa-chevron-left"></i> 
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/01/01/%E9%98%B6%E6%AE%B5%E6%80%A7%E8%80%83%E8%AF%95%E4%B8%80%E3%80%90%E4%B9%A0%E9%A2%98%E7%89%88%E3%80%91/" rel="next" title="">
       <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">��һ����Ŀ����</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">2.</span> <span class="nav-text">��������Ŀ����</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">3.</span> <span class="nav-text">������С����ӭҳ��</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">3.1.</span> <span class="nav-text">��1������</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BD%D0%B4%EF%BF%BD%EF%BF%BD%D3%AD%D2%B3%EF%BF%BD%EF%BF%BD"><span class="nav-number">3.2.</span> <span class="nav-text">��2��д��ӭҳ��</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDwxml"><span class="nav-number">3.2.1.</span> <span class="nav-text">��1��wxml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDjs"><span class="nav-number">3.2.2.</span> <span class="nav-text">��2��js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDwxss"><span class="nav-number">3.2.3.</span> <span class="nav-text">��3��wxss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CB%BC%EF%BF%BD%EF%BF%BD%D8%BB%EF%BF%BD%D3%AD%D2%B3%EF%BF%BD%EF%BF%BD"><span class="nav-number">3.2.4.</span> <span class="nav-text">��4����˼��ػ�ӭҳ��</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%EF%BF%BD%EF%BF%BD%EF%BF%BD%DD%BF%EF%BF%BD"><span class="nav-number">3.2.4.1.</span> <span class="nav-text">[1]���ݿ�</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%EF%BF%BD%EF%BF%BDg%EF%BF%BD%EF%BF%BD"><span class="nav-number">3.2.4.2.</span> <span class="nav-text">[2]��ģ��</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDmedia%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">3.2.4.3.</span> <span class="nav-text">[3]����media����</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%EF%BF%BD%EF%BF%BD%CD%BC%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">3.2.4.4.</span> <span class="nav-text">[4]��ͼ����</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%EF%BF%BD%EF%BF%BD%EF%BF%BD%D0%BB%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">3.2.4.5.</span> <span class="nav-text">[5]���л���</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">4.</span> <span class="nav-text">���ġ���ҳ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDapp-json"><span class="nav-number">4.1.</span> <span class="nav-text">��1��app.json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDwxml"><span class="nav-number">4.2.</span> <span class="nav-text">��2��wxml</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDwxss-2"><span class="nav-number">4.3.</span> <span class="nav-text">��3��wxss</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD4%EF%BF%BD%EF%BF%BDjs"><span class="nav-number">4.4.</span> <span class="nav-text">��4��js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD5%EF%BF%BD%EF%BF%BDapp-json"><span class="nav-number">4.5.</span> <span class="nav-text">��5��app.json</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">5.</span> <span class="nav-text">���塿��ҳ�ֲ�ͼ�͹���ӿ�</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">5.1.</span> <span class="nav-text">��1�����</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDmodels-py"><span class="nav-number">5.1.1.</span> <span class="nav-text">��1��models.py</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDview-py"><span class="nav-number">5.1.2.</span> <span class="nav-text">��2��view.py</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDserializer-py"><span class="nav-number">5.1.3.</span> <span class="nav-text">��3��serializer.py</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">6.</span> <span class="nav-text">��������������</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD0%EF%BF%BD%EF%BF%BDvant%EF%BF%BD%EF%BF%BD%CA%BD%EF%BF%BD%EF%BF%BD-%EF%BF%BD%CA%BC%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D0%B4"><span class="nav-number">6.1.</span> <span class="nav-text">��0��vant��ʽ��----------�ʼ�����д</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDjson"><span class="nav-number">6.2.</span> <span class="nav-text">��1��json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDwxml-2"><span class="nav-number">6.3.</span> <span class="nav-text">��2��wxml</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDwxss-3"><span class="nav-number">6.4.</span> <span class="nav-text">��3��wxss</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD4%EF%BF%BD%EF%BF%BDjs-2"><span class="nav-number">6.5.</span> <span class="nav-text">��4��js</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">7.</span> <span class="nav-text">���ߡ���Ϣ�ɼ�ҳ��</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BD%EF%BF%BD%C2%BD%EF%BF%BD%D2%BB%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D7%AA%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CF%A2%EF%BF%BD%C9%BC%EF%BF%BD%D2%B3%EF%BF%BD%EF%BF%BD"><span class="nav-number">7.1.</span> <span class="nav-text">��1���½�һ����ת����Ϣ�ɼ�ҳ��</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">7.2.</span> <span class="nav-text">��2�����</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDview-py"><span class="nav-number">7.2.1.</span> <span class="nav-text">��1��view.py</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDserializer-py"><span class="nav-number">7.2.2.</span> <span class="nav-text">��2��serializer.py</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDmodels-py"><span class="nav-number">7.2.3.</span> <span class="nav-text">��3��models.py</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CA%B8%EF%BF%BD%EF%BF%BD%CD%BC%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">7.3.</span> <span class="nav-text">��3������ʸ��ͼ���</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">8.</span> <span class="nav-text">���ˡ���Ϣ�ɼ�����ҳ��</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BD%D0%A1%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%E2%80%93%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D2%B3%D2%B3%EF%BF%BD%EF%BF%BD"><span class="nav-number">8.1.</span> <span class="nav-text">��1��С����–����ҳҳ��</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BD%D0%A1%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%E2%80%93%EF%BF%BD%C9%BC%EF%BF%BD%D2%B3%D2%B3%EF%BF%BD%EF%BF%BD"><span class="nav-number">8.2.</span> <span class="nav-text">��2��С����–�ɼ�ҳҳ��</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BD%EF%BF%BD%C9%BC%EF%BF%BD%D2%B3%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">8.3.</span> <span class="nav-text">��3���ɼ�ҳ����</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">9.</span> <span class="nav-text">���š�����ʶ����Ŀ�м���</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BD%CA%B9%EF%BF%BDo%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">9.1.</span> <span class="nav-text">��1��ʹ�ò���</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CA%B9%EF%BF%BD%EF%BF%BD"><span class="nav-number">9.2.</span> <span class="nav-text">��2����ʹ��</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BDo%EF%BF%BD%EF%BF%BD%EF%BF%BDL%EF%BF%BD%EF%BF%BD"><span class="nav-number">9.3.</span> <span class="nav-text">��3�����ɵ���Ŀ��</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">10.</span> <span class="nav-text">��ʮ������ʶ����Ŀ�м���</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD-2"><span class="nav-number">10.1.</span> <span class="nav-text">��1������</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BD%EF%BF%BD%D5%B7%D1%B7%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">10.1.1.</span> <span class="nav-text">��1���շѷ���</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D1%B7%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">10.1.2.</span> <span class="nav-text">��2����ѷ���</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDj%EF%BF%BD%EF%BF%BD"><span class="nav-number">10.2.</span> <span class="nav-text">��2��ǰ��</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDjson-2"><span class="nav-number">10.2.1.</span> <span class="nav-text">��1��json</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDwxml-3"><span class="nav-number">10.2.2.</span> <span class="nav-text">��2��wxml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDwxss-4"><span class="nav-number">10.2.3.</span> <span class="nav-text">��3��wxss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD4%EF%BF%BD%EF%BF%BDjs-3"><span class="nav-number">10.2.4.</span> <span class="nav-text">��4��js</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD"><span class="nav-number">10.3.</span> <span class="nav-text">��3�����</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">11.</span> <span class="nav-text">��ʮһ���ɼ�ͳ��</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDj%EF%BF%BD%EF%BF%BD"><span class="nav-number">11.1.</span> <span class="nav-text">��1��ǰ��</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDjson-3"><span class="nav-number">11.1.1.</span> <span class="nav-text">��1��json</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDwxml-4"><span class="nav-number">11.1.2.</span> <span class="nav-text">��2��wxml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDwxss-5"><span class="nav-number">11.1.3.</span> <span class="nav-text">��3��wxss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD4%EF%BF%BD%EF%BF%BDjs-4"><span class="nav-number">11.1.4.</span> <span class="nav-text">��4��js</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">12.</span> <span class="nav-text">��ʮ�����������</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDj%EF%BF%BD%EF%BF%BD-2"><span class="nav-number">12.1.</span> <span class="nav-text">��1��ǰ��</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDjson-4"><span class="nav-number">12.1.1.</span> <span class="nav-text">��1��json</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDwxml-5"><span class="nav-number">12.1.2.</span> <span class="nav-text">��2��wxml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDwxss-6"><span class="nav-number">12.1.3.</span> <span class="nav-text">��3��wxss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD4%EF%BF%BD%EF%BF%BDjs-5"><span class="nav-number">12.1.4.</span> <span class="nav-text">��4��js</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD-2"><span class="nav-number">12.2.</span> <span class="nav-text">��2�����</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">13.</span> <span class="nav-text">��ʮ��������tabҳ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDj%EF%BF%BD%EF%BF%BD-3"><span class="nav-number">13.1.</span> <span class="nav-text">��1��ǰ��</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD1%EF%BF%BD%EF%BF%BDjson-5"><span class="nav-number">13.1.1.</span> <span class="nav-text">��1��json</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BDwxml-6"><span class="nav-number">13.1.2.</span> <span class="nav-text">��2��wxml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD3%EF%BF%BD%EF%BF%BDwxss-7"><span class="nav-number">13.1.3.</span> <span class="nav-text">��3��wxss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD4%EF%BF%BD%EF%BF%BDjs-6"><span class="nav-number">13.1.4.</span> <span class="nav-text">��4��js</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EF%BF%BD%EF%BF%BD2%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD-3"><span class="nav-number">13.2.</span> <span class="nav-text">��2�����</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">坤</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要，但是你不努力，选择就只是空谈</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">196</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">坤</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">lsk-0912</a> & <a href="https://github.com/lsk-0912" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
